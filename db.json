{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"source/gallary/39.jpg","path":"gallary/39.jpg","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0010.jpg","path":"gallary/IMG_0010.jpg","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0027.jpg","path":"gallary/IMG_0027.jpg","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0032.jpg","path":"gallary/IMG_0032.jpg","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0099.jpg","path":"gallary/IMG_0099.jpg","modified":0,"renderable":0},{"_id":"source/gallary/100party.jpg","path":"gallary/100party.jpg","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0006.jpg","path":"gallary/IMG_0006.jpg","modified":0,"renderable":0},{"_id":"themes/icarus/source/css/back-to-top.css","path":"css/back-to-top.css","modified":0,"renderable":1},{"_id":"themes/icarus/source/css/insight.css","path":"css/insight.css","modified":0,"renderable":1},{"_id":"themes/icarus/source/css/progressbar.css","path":"css/progressbar.css","modified":0,"renderable":1},{"_id":"themes/icarus/source/css/search.css","path":"css/search.css","modified":0,"renderable":1},{"_id":"themes/icarus/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"themes/icarus/source/images/favicon.png","path":"images/favicon.png","modified":0,"renderable":1},{"_id":"themes/icarus/source/images/favicon144.png","path":"images/favicon144.png","modified":0,"renderable":1},{"_id":"themes/icarus/source/images/thumbnail.svg","path":"images/thumbnail.svg","modified":0,"renderable":1},{"_id":"themes/icarus/source/js/animation.js","path":"js/animation.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/js/back-to-top.js","path":"js/back-to-top.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/js/clipboard.js","path":"js/clipboard.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/js/gallery.js","path":"js/gallery.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/js/insight.js","path":"js/insight.js","modified":0,"renderable":1},{"_id":"themes/icarus/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"source/gallary/IMG_0005.jpg","path":"gallary/IMG_0005.jpg","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0093.jpg","path":"gallary/IMG_0093.jpg","modified":0,"renderable":0},{"_id":"themes/icarus/source/images/alipay.jpg","path":"images/alipay.jpg","modified":0,"renderable":1},{"_id":"themes/icarus/source/images/avatar.png","path":"images/avatar.png","modified":0,"renderable":1},{"_id":"source/gallary/IMG_0038.jpg","path":"gallary/IMG_0038.jpg","modified":0,"renderable":0},{"_id":"themes/icarus/source/images/wepay.jpg","path":"images/wepay.jpg","modified":0,"renderable":1},{"_id":"source/gallary/IMG_0004.jpg","path":"gallary/IMG_0004.jpg","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0014.jpg","path":"gallary/IMG_0014.jpg","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0028.jpg","path":"gallary/IMG_0028.jpg","modified":0,"renderable":0},{"_id":"themes/icarus/source/images/logo.png","path":"images/logo.png","modified":0,"renderable":1},{"_id":"source/gallary/IMG_0002.jpg","path":"gallary/IMG_0002.jpg","modified":0,"renderable":0},{"_id":"source/gallary/about.jpg","path":"gallary/about.jpg","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0024.jpg","path":"gallary/IMG_0024.jpg","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0098.jpg","path":"gallary/IMG_0098.jpg","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0023.jpg","path":"gallary/IMG_0023.jpg","modified":0,"renderable":0},{"_id":"source/gallary/v001.mp4","path":"gallary/v001.mp4","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0033.jpg","path":"gallary/IMG_0033.jpg","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0001.jpg","path":"gallary/IMG_0001.jpg","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0102.jpg","path":"gallary/IMG_0102.jpg","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0041.jpg","path":"gallary/IMG_0041.jpg","modified":0,"renderable":0},{"_id":"source/gallary/IMG_0003.jpg","path":"gallary/IMG_0003.jpg","modified":0,"renderable":0},{"_id":"source/gallary/73.mp4","path":"gallary/73.mp4","modified":0,"renderable":0},{"_id":"source/gallary/72.mp4","path":"gallary/72.mp4","modified":0,"renderable":0},{"_id":"source/gallary/25.mp4","path":"gallary/25.mp4","modified":0,"renderable":0}],"Cache":[{"_id":"source/.DS_Store","hash":"bbf7c2565c54bf4fb471e7e333d444e28449da95","modified":1547011864808},{"_id":"source/CNAME","hash":"4074d1c1526a3e19e5a89beded014c4f6d7ea266","modified":1546574439019},{"_id":"themes/icarus/.DS_Store","hash":"aed97db55c8482b3ab312f0a3f870061f11c857d","modified":1546829426744},{"_id":"themes/icarus/.gitignore","hash":"542aaea07afe90211c6a45c90b7d6879a4503043","modified":1546580096601},{"_id":"themes/icarus/LICENSE","hash":"41f72cd544612bc4589c924c776422b800a4eff7","modified":1546831901249},{"_id":"themes/icarus/README.md","hash":"4409383fbd7422800049d6597e9b26aa8db66b66","modified":1546580096601},{"_id":"themes/icarus/_config.yml","hash":"e4d6aebce6c98bc2e43d8a25f36b3640ed16a938","modified":1547802093795},{"_id":"themes/icarus/package.json","hash":"4167e65682af257bdf8531a05730e6c42339996d","modified":1546580096627},{"_id":"source/_posts/2016å¾®è½¯æ¢æ˜Ÿ-Constraint-Checker.md","hash":"176b9ffee1e0f7737e3c2dac1a56d824f1975a13","modified":1546925603263},{"_id":"source/_posts/iOSå®ç°ç±»Prismaè½¯ä»¶.md","hash":"b9281ddb6f1659849c59bf4c8f2a9e6baae1efc2","modified":1547086685708},{"_id":"source/_posts/ä»Šå¤©é©¬æ€é¸¡.md","hash":"905af21279387642a3a4093575ca30adae587138","modified":1547624301384},{"_id":"source/_posts/åšå®¢æœ‹å‹å®¶.md","hash":"9e9d04ab3ff0f573c4f996326a0dd9fe94b125db","modified":1547184370064},{"_id":"source/_posts/å‡è‚¥.md","hash":"cb8277cbf230a95a34eb81412c8fe3dd7a0453cb","modified":1546941221285},{"_id":"source/_posts/å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶.md","hash":"656e8093fa115a11f395e06e96f50e09ae560387","modified":1546925584554},{"_id":"source/_posts/åŠªåŠ›åŠªåŠ›.md","hash":"b1c8ab99a83ea10dafa79a864114cc2a7d287ea1","modified":1546942140848},{"_id":"source/_posts/åˆåƒè¾…é£Ÿäº†å•¦ğŸ˜Š.md","hash":"630352ecc7b6d6388d64dc5e7f089355cabf7379","modified":1547011795919},{"_id":"source/_posts/å°ç†ŠçŒ«æ¥åˆ°ä¸–ç•Œ.md","hash":"73ae16eccb4a710027bb43ebb00337d115b9084c","modified":1547011520082},{"_id":"source/_posts/å¼€è¤.md","hash":"8c4d4ff32eb0fb0994bc6ecda0ad5ad507fccac7","modified":1546941685843},{"_id":"source/_posts/å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾.md","hash":"2f289fc65fff82c8c0d4da441fca3722b2495a38","modified":1546925568949},{"_id":"source/_posts/æˆ‘çš„ç¬¬ä¸€ä¸ªè¯ä¹¦.md","hash":"7eb75772cc47a8af5179cb88b8ddaed53489dd7a","modified":1547013105753},{"_id":"source/_posts/æ‹›è´¢æ£è›‹æ—¥å¸¸.md","hash":"e5ad19f9d435539fc39f652cd5d2f808d98a57f7","modified":1546939936301},{"_id":"source/_posts/æ–°å¹´å¿«ä¹.md","hash":"1ac71eabb7ca4328def8e7aa3f81922b1b95f54d","modified":1550650635887},{"_id":"source/_posts/ç‹¬è‡ªçœ‹å®¶.md","hash":"4921b8ec70c1b15dc5f57681e7a126fb6260ee5e","modified":1550651051365},{"_id":"source/_posts/ç”¨DFSæ¥æ’åº§ä½.md","hash":"d47bcd9af6c0b4856ce7fa23a2f6b762950600f2","modified":1546925566651},{"_id":"source/_posts/ç™¾å¤©party.md","hash":"b96be6765acf9e7c95ec6b37bedffdf0e5984871","modified":1546997576180},{"_id":"source/about/index.md","hash":"88a7c8411e92f759989c0b0a26b69ade537cb8cd","modified":1547011009222},{"_id":"source/gallary/39.jpg","hash":"80c27a66d67aa3023b26753b1b1f0a4e54c347d3","modified":1547624042515},{"_id":"themes/icarus/languages/en.yml","hash":"5da835936340aede5bbe3158767d0d6b5802dfe8","modified":1546580096609},{"_id":"themes/icarus/languages/es.yml","hash":"8827823e5b2ce967566854c9bfebc7c69098b4ac","modified":1546580096609},{"_id":"themes/icarus/languages/fr.yml","hash":"0017f93a5d491a9c0e55911cdc35316762c5a94e","modified":1546580096610},{"_id":"themes/icarus/languages/id.yml","hash":"92d2d19a62a17b6e99f82a014309bbf6c13c9ae8","modified":1546580096610},{"_id":"themes/icarus/languages/ja.yml","hash":"6eed7771de2353d71b720c6e605cceb3f230b12e","modified":1546580096610},{"_id":"themes/icarus/languages/ko.yml","hash":"06d2bb8b66f68f780218e0ba7edffe1e57fac268","modified":1546580096610},{"_id":"themes/icarus/languages/pt-BR.yml","hash":"bcf5bc81ca855d26bbc3b3bfabc7d84429e74b85","modified":1546580096611},{"_id":"themes/icarus/languages/ru.yml","hash":"ba8b4f7d77eb1d1e28aa1f9107bd0bbbdc4cba99","modified":1546580096611},{"_id":"themes/icarus/languages/tr.yml","hash":"eff1c0b3d5c4b328f6dd74a195ff378c898f4d29","modified":1546580096611},{"_id":"themes/icarus/languages/zh-CN.yml","hash":"aeb71fce547cfe9e7aa8073ccc6907034aa13b2f","modified":1546580096611},{"_id":"themes/icarus/languages/zh-TW.yml","hash":"79fab0bff625634fb6bb6cadf9c547bd36226dcf","modified":1546580096612},{"_id":"themes/icarus/layout/archive.ejs","hash":"64a81f4c6ca9517169413408d076371e8e09c63a","modified":1546580096612},{"_id":"themes/icarus/layout/categories.ejs","hash":"29d304f2b95a04fbc5e7529f9bdce9648e3545ef","modified":1546580096613},{"_id":"themes/icarus/layout/category.ejs","hash":"bda344da0e6c03899f53abc20ae2a2efab5ab243","modified":1546580096613},{"_id":"themes/icarus/layout/index.ejs","hash":"71120f41d019bf2866a5556747e5e671c8147f85","modified":1546580096618},{"_id":"themes/icarus/layout/layout.ejs","hash":"b0db86ae64507ba3db1f21b7d69eed4db32c0ce4","modified":1547105774212},{"_id":"themes/icarus/layout/page.ejs","hash":"50170783bac99946ae8af483920568de9b2d9801","modified":1546580096618},{"_id":"themes/icarus/layout/post.ejs","hash":"a5d1d6670aa328abff36f36e0a55e978b055f67f","modified":1546925248444},{"_id":"themes/icarus/layout/tag.ejs","hash":"1feac7aa842882757a479b8ad427f6a72fce70c4","modified":1546580096624},{"_id":"themes/icarus/layout/tags.ejs","hash":"f4479ae049be088bee16365c6b6346302e93851d","modified":1546580096624},{"_id":"themes/icarus/scripts/index.js","hash":"9203e2ba1f821d945edf20fc277f3c58d22bfd00","modified":1546580096627},{"_id":"themes/icarus/source/.DS_Store","hash":"505d0e863f8c6a0e59d1d29b5170132bab9eb50a","modified":1547104433179},{"_id":"source/gallary/IMG_0010.jpg","hash":"643f17203e5fbef8340f4a6032f25b00b7384cfa","modified":1546942009646},{"_id":"source/gallary/IMG_0027.jpg","hash":"9c00e2f413684d819f28d484457d832b17b44260","modified":1547011965551},{"_id":"source/gallary/IMG_0032.jpg","hash":"785bb6fce6d32ef9ee4249d139e0729105961e0f","modified":1547012765531},{"_id":"source/gallary/IMG_0099.jpg","hash":"4de5d5d0c7c5bdca40acc7fcab08eb09b60b87b3","modified":1550650831988},{"_id":"source/gallary/100party.jpg","hash":"c80988ba44870704165b141e201e70f67fb4e6ae","modified":1546941589952},{"_id":"source/gallary/IMG_0006.jpg","hash":"0e2e529eea72d103709ded3189e4a0a42b55b6a6","modified":1546938843761},{"_id":"themes/icarus/includes/common/ConfigGenerator.js","hash":"451397efc7808787419fa3eb6b043c0bd8bbdf30","modified":1546580096602},{"_id":"themes/icarus/includes/common/ConfigValidator.js","hash":"cd3cd12bc042b401825fd7bfd9a6434c8b14e092","modified":1546580096602},{"_id":"themes/icarus/includes/common/utils.js","hash":"c0aeaeb57a42bcc71a92da2249762f91abd83ffe","modified":1546580096602},{"_id":"themes/icarus/includes/filters/highlight.js","hash":"19a4dcd2dee7388544b57e473cfb0fc9eea9623e","modified":1546580096602},{"_id":"themes/icarus/includes/generators/categories.js","hash":"7cb370ac53a05d6b1b9203579716c0ca83d35c36","modified":1546580096602},{"_id":"themes/icarus/includes/generators/category.js","hash":"313e170e55d74526c4e1be7181ef7a21439147c9","modified":1546580096603},{"_id":"themes/icarus/includes/generators/insight.js","hash":"c4b981443927b87cc14a3a583029e13f819d6d71","modified":1546580096603},{"_id":"themes/icarus/includes/generators/tags.js","hash":"8195322c208706427a1cf56361669dca4d86f6f1","modified":1546580096603},{"_id":"themes/icarus/includes/helpers/cdn.js","hash":"7d34ea6400cb3611c374c135304abcb65ef291b7","modified":1546580096603},{"_id":"themes/icarus/includes/helpers/config.js","hash":"173e02987e7a7d5df1e686f6ee4edd8cf494bdd3","modified":1546580096604},{"_id":"themes/icarus/includes/helpers/layout.js","hash":"afdf5e9704cfc087526b4a0403fe7eb04f22190e","modified":1546580096604},{"_id":"themes/icarus/includes/helpers/override.js","hash":"726cf99612fd060753d9da08db2776aec1802e20","modified":1546580096604},{"_id":"themes/icarus/includes/helpers/page.js","hash":"25aeed6449ca381661cec528fe96bbb993026ca9","modified":1546580096604},{"_id":"themes/icarus/includes/helpers/site.js","hash":"f154ddb0dac79fd28ced2b518f8052b42555d0c9","modified":1546580096605},{"_id":"themes/icarus/includes/specs/article.spec.js","hash":"a805c1a6f03ccb07d73512aef40d38541ddbb0eb","modified":1546580096605},{"_id":"themes/icarus/includes/specs/comment.spec.js","hash":"02af67eb87482028b223299b20a129756b1c122b","modified":1546580096605},{"_id":"themes/icarus/includes/specs/config.spec.js","hash":"7a9bac384a73cf9f39173fdb2dfc2813784d8891","modified":1546580096605},{"_id":"themes/icarus/includes/specs/donate.spec.js","hash":"639b405c9e5dac04c2dc168c2754e50a5c13d197","modified":1546580096606},{"_id":"themes/icarus/includes/specs/footer.spec.js","hash":"49fabe9c03f3124f0253fa1ee3e69328373ad117","modified":1546580096606},{"_id":"themes/icarus/includes/specs/icon_link.spec.js","hash":"f2a83ac5ccb74fc6f3dfbd25430e142297d8491c","modified":1546580096606},{"_id":"themes/icarus/includes/specs/meta.spec.js","hash":"70abe77d3664176ec977316522014ce7e0aa439d","modified":1546580096606},{"_id":"themes/icarus/includes/specs/navbar.spec.js","hash":"67ebd05fb378439a094a7906f4ea04fbedd8c1b5","modified":1546580096607},{"_id":"themes/icarus/includes/specs/plugins.spec.js","hash":"67212011baaa0590847ca689e0d31146054ead16","modified":1546580096607},{"_id":"themes/icarus/includes/specs/providers.spec.js","hash":"e29473155a35f391fbc53349bdc256cb7600855e","modified":1546580096607},{"_id":"themes/icarus/includes/specs/search.spec.js","hash":"d981ad203a2002c35d710d33e304f9e99f31cab0","modified":1546580096607},{"_id":"themes/icarus/includes/specs/share.spec.js","hash":"6c04cccec13a656189ab2d917d69d059027d0343","modified":1546580096607},{"_id":"themes/icarus/includes/specs/sidebar.spec.js","hash":"bd500be763486918894e731ce14bc9c4047fb76d","modified":1546580096608},{"_id":"themes/icarus/includes/specs/widgets.spec.js","hash":"b58dc5402d45a3c78111e8f4cf0185c6ce087361","modified":1546580096608},{"_id":"themes/icarus/includes/tasks/check_config.js","hash":"ce7626d643737c90dee6b75435ccdec26b89dacf","modified":1546580096608},{"_id":"themes/icarus/includes/tasks/check_deps.js","hash":"435d02d78a0201446934fa85247fa9055e5c7c95","modified":1547086893953},{"_id":"themes/icarus/includes/tasks/welcome.js","hash":"00d1ef8c9609552b82e9a5140b838a9057c59508","modified":1546580096609},{"_id":"themes/icarus/layout/comment/changyan.ejs","hash":"9ccc7ec354b968e60bdcfcd1dba451d38de61f12","modified":1546580096613},{"_id":"themes/icarus/layout/comment/disqus.ejs","hash":"b5fff46e453d58baa20028a47fd85923494bb85c","modified":1546580096613},{"_id":"themes/icarus/layout/comment/facebook.ejs","hash":"b38ea86a1cae48f671501af74d7f109f63fb3d72","modified":1546580096614},{"_id":"themes/icarus/layout/comment/gitalk.ejs","hash":"ef01396e64ab4f6e62155f0b357bcd903138d611","modified":1546580096614},{"_id":"themes/icarus/layout/comment/gitment.ejs","hash":"a6211d122c434cacb5d6d65051b92ed98abab9f5","modified":1546855723068},{"_id":"themes/icarus/layout/comment/isso.ejs","hash":"cc6a43bd24be764086f88ad7c5c97ff04df87e0b","modified":1546580096614},{"_id":"themes/icarus/layout/comment/livere.ejs","hash":"12ff9a345f6bba2f732f592e39508c2afde89b00","modified":1546580096615},{"_id":"themes/icarus/layout/comment/valine.ejs","hash":"9ed89b4b40bdf4ae2212e3d197cd7834b59e2eff","modified":1546580096615},{"_id":"themes/icarus/layout/common/article.ejs","hash":"ca9ad568362bd7bd3c2ae84a524c4a2e00ba8e03","modified":1546580096615},{"_id":"themes/icarus/layout/common/footer.ejs","hash":"8eb9efae8d7789a7af5776da0d515416560e71db","modified":1546917646971},{"_id":"themes/icarus/layout/common/head.ejs","hash":"bd72ffd5942bb2fd18319d551bbaa59647e33f3c","modified":1546580096616},{"_id":"themes/icarus/layout/common/navbar.ejs","hash":"5082ea45df0f79f955143177287d92bcf3832fcf","modified":1546580096616},{"_id":"themes/icarus/layout/common/paginator.ejs","hash":"7837d80b27f166161b3deeffb571680025c7d723","modified":1546580096616},{"_id":"themes/icarus/layout/common/scripts.ejs","hash":"5414d6bfbf88efa7e72ccf7e44a79d0378ddeb77","modified":1546580096616},{"_id":"themes/icarus/layout/common/widget.ejs","hash":"5417af9f208d2fb5aaeb96031caa261e9683557c","modified":1546580096617},{"_id":"themes/icarus/layout/donate/alipay.ejs","hash":"3290058879973e403a05472a0fe2ac0219d5b961","modified":1546580096617},{"_id":"themes/icarus/layout/donate/patreon.ejs","hash":"8e52a9c28ffaf4b0b786a20977b848c5f60f2274","modified":1546580096617},{"_id":"themes/icarus/layout/donate/paypal.ejs","hash":"3975dee39f9378975b9c10f37d118ad7cb6f5bf6","modified":1546580096618},{"_id":"themes/icarus/layout/donate/wechat.ejs","hash":"051b873e1fc28c1d7c2d6443991b6a2f43813e6b","modified":1546580096618},{"_id":"themes/icarus/layout/plugin/animejs.ejs","hash":"198062ef863c96aa4d6a8225d575afcb60dfb1d1","modified":1546580096619},{"_id":"themes/icarus/layout/plugin/back-to-top.ejs","hash":"79d1118a3d3ebc521ffce452b986b504f0e7d6b7","modified":1546580096619},{"_id":"themes/icarus/layout/plugin/baidu-analytics.ejs","hash":"eb66e313ad43ec4424b2d75bae94e5c8a7568428","modified":1546580096620},{"_id":"themes/icarus/layout/plugin/clipboard.ejs","hash":"8662ed9c211f3993b93eedcf5e41c2a1ddbede57","modified":1546580096620},{"_id":"themes/icarus/layout/plugin/gallery.ejs","hash":"ad68fafd923747d6b7c1b5873d00989d1639678c","modified":1546580096620},{"_id":"themes/icarus/layout/plugin/google-analytics.ejs","hash":"282cecb28ac458b71b56cf429c72ffac0f820199","modified":1546580096620},{"_id":"themes/icarus/layout/plugin/hotjar.ejs","hash":"2b97737d802984750a7b4461fcf68818a57a2439","modified":1546580096621},{"_id":"themes/icarus/layout/plugin/mathjax.ejs","hash":"ec0d09220cf9dcbeb07b5ad900a36214924e7d0c","modified":1546580096621},{"_id":"themes/icarus/layout/plugin/outdated-browser.ejs","hash":"fe051093893c64c8575bcc67dc1c146d409e8e80","modified":1546580096621},{"_id":"themes/icarus/layout/plugin/progressbar.ejs","hash":"e594ed6705bccbef27f49d84b6153f6443efbecd","modified":1546580096621},{"_id":"themes/icarus/layout/search/baidu.ejs","hash":"850aa91778100d693a52b10eaa8586c8e3215ee6","modified":1546580096622},{"_id":"themes/icarus/layout/search/google-cse.ejs","hash":"4b881a99325a6a0cebf97ac53e09d8fc67f87d29","modified":1546580096622},{"_id":"themes/icarus/layout/search/insight.ejs","hash":"9a27db2a007582ceee7ca4b1eebddbd456893568","modified":1546580096623},{"_id":"themes/icarus/layout/share/addthis.ejs","hash":"f1c5f337333009d5f00dfbac4864a16ef8f9cb8d","modified":1546580096623},{"_id":"themes/icarus/layout/share/addtoany.ejs","hash":"04cb247d8c83ca7c5b52f3b11bb3ac155b1bc3ab","modified":1546580096623},{"_id":"themes/icarus/layout/share/bdshare.ejs","hash":"f14c8084b7ee16a091f0bd2ae9039e3bfff7e7b7","modified":1546580096623},{"_id":"themes/icarus/layout/share/sharejs.ejs","hash":"65d08316cc479910ea4f526cd1c299d0104daf7f","modified":1546580096624},{"_id":"themes/icarus/layout/share/sharethis.ejs","hash":"4f2c40f790f3be0a4e79db04f02ea41ba2f4d4c0","modified":1546580096624},{"_id":"themes/icarus/layout/widget/archive.ejs","hash":"eb738a2ac2935ce7a542964d90088613b281dd15","modified":1546580096625},{"_id":"themes/icarus/layout/widget/category.ejs","hash":"c2a9f2211a21a168c54b0563cdfd58bd25fa39fe","modified":1546580096625},{"_id":"themes/icarus/layout/widget/links.ejs","hash":"2b707fd65c94b00d8b4c6755fbc6c19709f3d49a","modified":1546580096625},{"_id":"themes/icarus/layout/widget/profile.ejs","hash":"eb47b4c5fbb17fdbaf22d57e520e514e1f25e4c2","modified":1547100350226},{"_id":"themes/icarus/layout/widget/recent_posts.ejs","hash":"2166f3190e47bf4746775b5d16654564a88c2041","modified":1546580096626},{"_id":"themes/icarus/layout/widget/tag.ejs","hash":"8c5b8020ca776cc3ebbc7b723915f3173efc28d4","modified":1546580096626},{"_id":"themes/icarus/layout/widget/tagcloud.ejs","hash":"d32e7c56e8e2074da16d9141f9a597841d28d07d","modified":1546580096626},{"_id":"themes/icarus/layout/widget/toc.ejs","hash":"bdc6f22602cdabe7c740f1818e0681ff8508fb64","modified":1546580096626},{"_id":"themes/icarus/source/css/back-to-top.css","hash":"5805bee2445e997d64dfe526b08b5fe0bce357eb","modified":1546580096627},{"_id":"themes/icarus/source/css/insight.css","hash":"22943a610d5cfffedfb823c692f4db2b1f37a4c9","modified":1546580096627},{"_id":"themes/icarus/source/css/progressbar.css","hash":"bbc737b7a8feb19901e792c447a846273779d5c3","modified":1546580096627},{"_id":"themes/icarus/source/css/search.css","hash":"c1cb306e075386517ac15bf4ef37c647d37ec6b5","modified":1546580096628},{"_id":"themes/icarus/source/css/style.styl","hash":"d5523162591a97cbff766d21c9be9888ceda98b2","modified":1546580096628},{"_id":"themes/icarus/source/images/.DS_Store","hash":"aba2f745cda9a4545ca8c3a7ee0447b9be1960e2","modified":1546856376336},{"_id":"themes/icarus/source/images/favicon.png","hash":"071021a5336ecd08bd20280d5d868cb6fab23d73","modified":1546592059517},{"_id":"themes/icarus/source/images/favicon144.png","hash":"e74244a83c1aade9b6f8417d815f5f4d8afbbe7f","modified":1547105513566},{"_id":"themes/icarus/source/images/thumbnail.svg","hash":"b9c58ff09ed415e6cf08b42b35faa2bc000d5059","modified":1546580096629},{"_id":"themes/icarus/source/js/animation.js","hash":"d744581909d2d092a584be07c39f9d3f0d009ec7","modified":1546580096629},{"_id":"themes/icarus/source/js/back-to-top.js","hash":"899f85171fece905f3f4c490b05f0d94a98dbdae","modified":1546580096630},{"_id":"themes/icarus/source/js/clipboard.js","hash":"6fdd602268727744b6b2c8ad79d684aab3cffda5","modified":1546580096630},{"_id":"themes/icarus/source/js/gallery.js","hash":"88b23abfc3b519413be54533ed0f39e0c68fcdd1","modified":1546580096630},{"_id":"themes/icarus/source/js/insight.js","hash":"8ba56fd5e4232a05ccef5f8b733c7ecca0814633","modified":1546580096630},{"_id":"themes/icarus/source/js/main.js","hash":"3357a1798a994afad0a849a679ca2ed6e0ce2424","modified":1546580096631},{"_id":"source/gallary/IMG_0005.jpg","hash":"4bf54c0253a9c6abf096f573e3917e4ec4859c7f","modified":1546936983258},{"_id":"source/gallary/IMG_0093.jpg","hash":"0433342c4133ef3e43796b680a8346a1b2b92f9c","modified":1550650179340},{"_id":"themes/icarus/source/images/alipay.jpg","hash":"e58dc1d5077d644a5d6a03a9b6c206c23249d116","modified":1546856321811},{"_id":"themes/icarus/source/images/avatar.png","hash":"7b23b428747a3e573f721ec24f43ce7038fe99d1","modified":1546832402237},{"_id":"source/gallary/IMG_0038.jpg","hash":"efe694149e66838744ed74f648fcb2c192c64ce4","modified":1547184112400},{"_id":"themes/icarus/source/images/wepay.jpg","hash":"52b6ce11793972cac8e39b41de514a57a358a9c7","modified":1546856321893},{"_id":"source/gallary/IMG_0004.jpg","hash":"dc48de8f5c8a3029742eedafc44c4ed8105cf338","modified":1546936983163},{"_id":"source/gallary/IMG_0014.jpg","hash":"42c104c6aa18f330dcf6bad44fbed9ecdd774cdf","modified":1546940729067},{"_id":"source/gallary/IMG_0028.jpg","hash":"a69fc54982a1cdb4d1e00e376060da07fc0583a5","modified":1547011511909},{"_id":"themes/icarus/source/images/logo.png","hash":"302a48113e4fc521c40492ffc09ea4db699b44ca","modified":1546844970885},{"_id":"source/gallary/IMG_0002.jpg","hash":"d0513e6be76c3994e211bfb31823bc007d1b6127","modified":1546940184261},{"_id":"source/gallary/about.jpg","hash":"5a7ff761957dd3cd56c0d9151a27d1df74e4e905","modified":1547010238811},{"_id":"source/gallary/IMG_0024.jpg","hash":"d43d38fca131ae992682b3688357eea424e5d253","modified":1546942009766},{"_id":"source/gallary/IMG_0098.jpg","hash":"7283d4719aed1a5e84d6f564c1dd49ddb74a85b2","modified":1550650561714},{"_id":"source/gallary/IMG_0023.jpg","hash":"96c1608de93a22d40390657e68c678f654e6c7d3","modified":1546940729118},{"_id":"source/gallary/v001.mp4","hash":"a9e0f1e9a70c7030040e1faf55009eb0aeeab011","modified":1546940961874},{"_id":"source/gallary/IMG_0033.jpg","hash":"e23ce7388f74a24d73230beec58a192c9e3f6fc9","modified":1547012765671},{"_id":"source/gallary/IMG_0001.jpg","hash":"4da253d1d6cb47dcbca537b4e1bb7930257f4c72","modified":1546939694185},{"_id":"source/gallary/IMG_0102.jpg","hash":"4ed9a393ca19905ac60a1ff8c59c52d8e60af6d7","modified":1550650799786},{"_id":"source/gallary/IMG_0041.jpg","hash":"d8dfdaac9d9c004c7bfb6b021ac6fb5bfa2628fe","modified":1547184112456},{"_id":"source/gallary/IMG_0003.jpg","hash":"a23d1630e521c2595600feb5cf44fcfa8e7bf00d","modified":1546940178866},{"_id":"source/gallary/73.mp4","hash":"6e1f11444de0228eb1d2dfa4b6d556e88429c85e","modified":1547624085837},{"_id":"source/gallary/72.mp4","hash":"968cc994157d7f9f6aa0014adcf84d3785fc15fc","modified":1547624085717},{"_id":"source/gallary/25.mp4","hash":"3810fe521f401eac0d4461b3981cd3b573b2bf0a","modified":1547184165242},{"_id":"public/atom.xml","hash":"2e4fdc414e9d5f76c884d4ceafb6659a774c2e69","modified":1550651058424},{"_id":"public/content.json","hash":"a9ac305a01519f87ddd1653977c5aaeed8569413","modified":1550651058426},{"_id":"public/about/index.html","hash":"29bcf1d99996f81dfb0e3f30fc80bfb14a601a68","modified":1550651061537},{"_id":"public/2019/02/04/æ–°å¹´å¿«ä¹/index.html","hash":"0b0efd0a39637c7e5e6b21fa40fde1ec924622ed","modified":1550651061537},{"_id":"public/2019/01/16/ä»Šå¤©é©¬æ€é¸¡/index.html","hash":"7212c976cc78f25251ef5e28cf8090cef026854d","modified":1550651061620},{"_id":"public/2019/01/10/åšå®¢æœ‹å‹å®¶/index.html","hash":"df7df4fd9aa599cbe584e4be8382afbec2f2a5d7","modified":1550651061621},{"_id":"public/2019/01/08/æˆ‘çš„ç¬¬ä¸€ä¸ªè¯ä¹¦/index.html","hash":"a399aaa257b771109ad25fe69359fbea0d409e9e","modified":1550651061621},{"_id":"public/2019/01/06/åˆåƒè¾…é£Ÿäº†å•¦ğŸ˜Š/index.html","hash":"e730c1dd108f310b1d8fdcbdbe6063760702e28d","modified":1550651061621},{"_id":"public/2019/01/02/åŠªåŠ›åŠªåŠ›/index.html","hash":"b4aa4ec7b39d677fa3e38396cd331967fa26c4df","modified":1550651061621},{"_id":"public/2018/11/08/å‡è‚¥/index.html","hash":"594bb5f1e4e93b2f763fef46d5509671571b088f","modified":1550651061621},{"_id":"public/2018/11/08/æ‹›è´¢æ£è›‹æ—¥å¸¸/index.html","hash":"c1a3b7b983dfa4c3a25253d5c76f3802b3d80883","modified":1550651061621},{"_id":"public/2018/10/01/å¼€è¤/index.html","hash":"206ac63ff1cef17fe1ca23a6b64f05996451292b","modified":1550651061621},{"_id":"public/2018/09/21/ç™¾å¤©party/index.html","hash":"dda5b40f0991831ef344e7252a1f2cc76a9ce97d","modified":1550651061622},{"_id":"public/2018/08/29/å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾/index.html","hash":"8afbd406ab7c1fceea78630de92eab8dc9c24321","modified":1550651061622},{"_id":"public/2018/06/21/å°ç†ŠçŒ«æ¥åˆ°ä¸–ç•Œ/index.html","hash":"2e3e77cc2cfd1067612394f5a9fccc8ebee2b13e","modified":1550651061622},{"_id":"public/2017/04/28/iOSå®ç°ç±»Prismaè½¯ä»¶/index.html","hash":"a6f4f20c40b9127f08973b7cf8aa7e0db7cd8841","modified":1550651061622},{"_id":"public/2016/08/22/å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶/index.html","hash":"0f907f717ed97eb95cc7eb636aa8287cefb721fa","modified":1550651061622},{"_id":"public/2016/08/04/2016å¾®è½¯æ¢æ˜Ÿ-Constraint-Checker/index.html","hash":"66aa887c52f534cf1bc67b0f78e12466a713c5b4","modified":1550651061622},{"_id":"public/2016/08/02/ç”¨DFSæ¥æ’åº§ä½/index.html","hash":"50da74bb15faf52f41d3daab7b0756655a88c4dc","modified":1550651061622},{"_id":"public/archives/index.html","hash":"5361a5e1093b8fb48795f6a0e4ec3880f6d731f1","modified":1550651061622},{"_id":"public/archives/page/2/index.html","hash":"ea8bf079ab4a9e2aee0010b41ef0c857d93d6593","modified":1550651061622},{"_id":"public/archives/2016/index.html","hash":"38e4b2d3c328bc3d2cf8ad0eb7cc6458e1661be4","modified":1550651061622},{"_id":"public/archives/2016/08/index.html","hash":"8f33dbcfe5415cdd14c6b200d695bd00b6540058","modified":1550651061623},{"_id":"public/archives/2017/index.html","hash":"076b66f5068385d0a71da3e61974fb5c202b035b","modified":1550651061623},{"_id":"public/archives/2017/04/index.html","hash":"1c7e215b776bb4ab4d617b97ef3bf2924213927b","modified":1550651061623},{"_id":"public/archives/2018/index.html","hash":"ed6fb268a92193ebd4e1062acc15fb87e1eec992","modified":1550651061623},{"_id":"public/archives/2018/06/index.html","hash":"83c81fc0101f5619a1516dc7150c92c60658a209","modified":1550651061623},{"_id":"public/archives/2018/08/index.html","hash":"11798b3b7251bf90e29f0debd082f43cf0f8a75f","modified":1550651061623},{"_id":"public/archives/2018/09/index.html","hash":"8a1eaccfe21a973ceb210306f394025e891a3abe","modified":1550651061623},{"_id":"public/archives/2018/10/index.html","hash":"df2c153adc59b679c43f606017863514cbc4118c","modified":1550651061623},{"_id":"public/archives/2018/11/index.html","hash":"47623bb3f5f52bcb89e808281c44a265e41a2ee4","modified":1550651061623},{"_id":"public/archives/2019/index.html","hash":"087a7737f42aa80c1f5cc01d535153359959a62d","modified":1550651061623},{"_id":"public/archives/2019/01/index.html","hash":"7342b6a06844e609bc65e3d437a2f8cdee290703","modified":1550651061623},{"_id":"public/archives/2019/02/index.html","hash":"f7c020ac54e9a554c4b412bed05653d0fc5d6c73","modified":1550651061623},{"_id":"public/categories/ç”Ÿæ´»/index.html","hash":"5e8fbd4d118173f31b3a3a588cfa9e6af6fbd658","modified":1550651061624},{"_id":"public/categories/ç”Ÿæ´»/page/2/index.html","hash":"b8374bab001eeec5bc6ad3c65ce2dcc1135bca69","modified":1550651061624},{"_id":"public/categories/ç”Ÿæ´»/å°ç†ŠçŒ«/index.html","hash":"a83ed9286b5820ddb5dcc854e61398a9602c75a0","modified":1550651061624},{"_id":"public/categories/ç”Ÿæ´»/æ‹›è´¢/index.html","hash":"c3da5dd8615ccd2d34ab7272625860d0460a8023","modified":1550651061624},{"_id":"public/categories/å·¥ä½œ/index.html","hash":"57e0ef4f9cd7f186313c473cd55e354488cc9263","modified":1550651061624},{"_id":"public/categories/å·¥ä½œ/ACM/index.html","hash":"c191111546ac3c20f65859dfad7647e33a791e03","modified":1550651061624},{"_id":"public/categories/å·¥ä½œ/iOS/index.html","hash":"df3a7b611f2044cb31efbcb43fc919dc24f8d046","modified":1550651061624},{"_id":"public/categories/å·¥ä½œ/å°ç¨‹åº/index.html","hash":"b486cbe1583aaf6c056fa6e3d6389cb9e03f51d6","modified":1550651061624},{"_id":"public/index.html","hash":"6c841fcf1404bcd4ff7acb11095086487eda1eb0","modified":1550651061624},{"_id":"public/page/2/index.html","hash":"74f671ab2e3678581d6b009f11a23bc5084b1ce6","modified":1550651061625},{"_id":"public/page/3/index.html","hash":"a7f14ce28a310ccd1e48c56252d6525b2e56ee4a","modified":1550651061625},{"_id":"public/page/4/index.html","hash":"03db9d560d664559d08ffc5c66f32749f404ac31","modified":1550651061625},{"_id":"public/tags/å°ç†ŠçŒ«/index.html","hash":"e27a00f18ff676f5d5428bd9748dc91a9224b0e2","modified":1550651061625},{"_id":"public/tags/æ‹›è´¢/index.html","hash":"403daa5c2ac4d68ab5dba42e7ca5001d84f66bd9","modified":1550651061625},{"_id":"public/tags/æ–°ç”Ÿ/index.html","hash":"6e2ce7598fd684a200a62cc3125ae5227ab3b1c0","modified":1550651061625},{"_id":"public/tags/ç®—æ³•/index.html","hash":"9db38d9e507fa06fe1929c3ce6f790373a269686","modified":1550651061625},{"_id":"public/tags/ç§»åŠ¨ç«¯/index.html","hash":"ce6fa40f8d2cf7189760d6dad08013080f8fc66e","modified":1550651061626},{"_id":"public/tags/æœºå™¨å­¦ä¹ /index.html","hash":"36fe4c37f489e2545489c314a5b5e4ba51e82b68","modified":1550651061626},{"_id":"public/tags/tensorflow/index.html","hash":"69ed83fb3e32334ccb92b5254198cf21402f31ac","modified":1550651061626},{"_id":"public/tags/å°ç¨‹åº/index.html","hash":"894042a559e25a7148e2870a9e6d46765656d334","modified":1550651061626},{"_id":"public/tags/html/index.html","hash":"2d24ffc86559e4dcc4a4a387761ccb0623c87153","modified":1550651061626},{"_id":"public/tags/å‰ç«¯/index.html","hash":"d5e7393c15a732d517190651f3b33f4bf60efcaf","modified":1550651061626},{"_id":"public/tags/GCJ/index.html","hash":"869fe1729d8a7d606944dced7df7eedf0bfacd8b","modified":1550651061626},{"_id":"public/categories/index.html","hash":"a6ff083ffb20e7e170c61d8935906e1d6396b60b","modified":1550651061626},{"_id":"public/tags/index.html","hash":"bb588c2e2060296d8ea6ddc123a743016e433d17","modified":1550651061626},{"_id":"public/2019/02/06/ç‹¬è‡ªçœ‹å®¶/index.html","hash":"dd9f23887dd22d52cd81b4b9d61703f617ef6c8d","modified":1550651061632},{"_id":"public/CNAME","hash":"4074d1c1526a3e19e5a89beded014c4f6d7ea266","modified":1550651061636},{"_id":"public/gallary/39.jpg","hash":"80c27a66d67aa3023b26753b1b1f0a4e54c347d3","modified":1550651061636},{"_id":"public/images/favicon.png","hash":"071021a5336ecd08bd20280d5d868cb6fab23d73","modified":1550651061636},{"_id":"public/images/favicon144.png","hash":"e74244a83c1aade9b6f8417d815f5f4d8afbbe7f","modified":1550651061636},{"_id":"public/images/thumbnail.svg","hash":"b9c58ff09ed415e6cf08b42b35faa2bc000d5059","modified":1550651061636},{"_id":"public/gallary/IMG_0010.jpg","hash":"643f17203e5fbef8340f4a6032f25b00b7384cfa","modified":1550651061649},{"_id":"public/gallary/IMG_0027.jpg","hash":"9c00e2f413684d819f28d484457d832b17b44260","modified":1550651061649},{"_id":"public/images/alipay.jpg","hash":"e58dc1d5077d644a5d6a03a9b6c206c23249d116","modified":1550651061650},{"_id":"public/images/avatar.png","hash":"7b23b428747a3e573f721ec24f43ce7038fe99d1","modified":1550651061650},{"_id":"public/gallary/IMG_0032.jpg","hash":"785bb6fce6d32ef9ee4249d139e0729105961e0f","modified":1550651061650},{"_id":"public/css/back-to-top.css","hash":"5805bee2445e997d64dfe526b08b5fe0bce357eb","modified":1550651061866},{"_id":"public/css/insight.css","hash":"22943a610d5cfffedfb823c692f4db2b1f37a4c9","modified":1550651061866},{"_id":"public/css/progressbar.css","hash":"bbc737b7a8feb19901e792c447a846273779d5c3","modified":1550651061866},{"_id":"public/css/search.css","hash":"c1cb306e075386517ac15bf4ef37c647d37ec6b5","modified":1550651061867},{"_id":"public/js/animation.js","hash":"d744581909d2d092a584be07c39f9d3f0d009ec7","modified":1550651061867},{"_id":"public/js/clipboard.js","hash":"6fdd602268727744b6b2c8ad79d684aab3cffda5","modified":1550651061867},{"_id":"public/js/back-to-top.js","hash":"899f85171fece905f3f4c490b05f0d94a98dbdae","modified":1550651061867},{"_id":"public/js/gallery.js","hash":"88b23abfc3b519413be54533ed0f39e0c68fcdd1","modified":1550651061867},{"_id":"public/js/main.js","hash":"3357a1798a994afad0a849a679ca2ed6e0ce2424","modified":1550651061867},{"_id":"public/gallary/IMG_0099.jpg","hash":"4de5d5d0c7c5bdca40acc7fcab08eb09b60b87b3","modified":1550651061867},{"_id":"public/gallary/IMG_0093.jpg","hash":"0433342c4133ef3e43796b680a8346a1b2b92f9c","modified":1550651061867},{"_id":"public/images/wepay.jpg","hash":"52b6ce11793972cac8e39b41de514a57a358a9c7","modified":1550651061867},{"_id":"public/css/style.css","hash":"3a791b01be3b330e533ced2b8022a24d640706f6","modified":1550651061905},{"_id":"public/js/insight.js","hash":"8ba56fd5e4232a05ccef5f8b733c7ecca0814633","modified":1550651061905},{"_id":"public/gallary/IMG_0005.jpg","hash":"4bf54c0253a9c6abf096f573e3917e4ec4859c7f","modified":1550651061906},{"_id":"public/gallary/100party.jpg","hash":"c80988ba44870704165b141e201e70f67fb4e6ae","modified":1550651061914},{"_id":"public/gallary/IMG_0006.jpg","hash":"0e2e529eea72d103709ded3189e4a0a42b55b6a6","modified":1550651061914},{"_id":"public/gallary/IMG_0028.jpg","hash":"a69fc54982a1cdb4d1e00e376060da07fc0583a5","modified":1550651061915},{"_id":"public/images/logo.png","hash":"302a48113e4fc521c40492ffc09ea4db699b44ca","modified":1550651061915},{"_id":"public/gallary/IMG_0014.jpg","hash":"42c104c6aa18f330dcf6bad44fbed9ecdd774cdf","modified":1550651061925},{"_id":"public/gallary/IMG_0004.jpg","hash":"dc48de8f5c8a3029742eedafc44c4ed8105cf338","modified":1550651061925},{"_id":"public/gallary/IMG_0038.jpg","hash":"efe694149e66838744ed74f648fcb2c192c64ce4","modified":1550651061950},{"_id":"public/gallary/IMG_0002.jpg","hash":"d0513e6be76c3994e211bfb31823bc007d1b6127","modified":1550651061950},{"_id":"public/gallary/IMG_0024.jpg","hash":"d43d38fca131ae992682b3688357eea424e5d253","modified":1550651061950},{"_id":"public/gallary/about.jpg","hash":"5a7ff761957dd3cd56c0d9151a27d1df74e4e905","modified":1550651061955},{"_id":"public/gallary/IMG_0098.jpg","hash":"7283d4719aed1a5e84d6f564c1dd49ddb74a85b2","modified":1550651061961},{"_id":"public/gallary/IMG_0023.jpg","hash":"96c1608de93a22d40390657e68c678f654e6c7d3","modified":1550651061975},{"_id":"public/gallary/v001.mp4","hash":"a9e0f1e9a70c7030040e1faf55009eb0aeeab011","modified":1550651061980},{"_id":"public/gallary/IMG_0033.jpg","hash":"e23ce7388f74a24d73230beec58a192c9e3f6fc9","modified":1550651061992},{"_id":"public/gallary/IMG_0102.jpg","hash":"4ed9a393ca19905ac60a1ff8c59c52d8e60af6d7","modified":1550651062000},{"_id":"public/gallary/IMG_0001.jpg","hash":"4da253d1d6cb47dcbca537b4e1bb7930257f4c72","modified":1550651062000},{"_id":"public/gallary/IMG_0041.jpg","hash":"d8dfdaac9d9c004c7bfb6b021ac6fb5bfa2628fe","modified":1550651062001},{"_id":"public/gallary/IMG_0003.jpg","hash":"a23d1630e521c2595600feb5cf44fcfa8e7bf00d","modified":1550651062023},{"_id":"public/gallary/72.mp4","hash":"968cc994157d7f9f6aa0014adcf84d3785fc15fc","modified":1550651062032},{"_id":"public/gallary/73.mp4","hash":"6e1f11444de0228eb1d2dfa4b6d556e88429c85e","modified":1550651062042},{"_id":"public/gallary/25.mp4","hash":"3810fe521f401eac0d4461b3981cd3b573b2bf0a","modified":1550651062053}],"Category":[{"name":"ç”Ÿæ´»","_id":"cjscxlphn0003hqox3ejahvub"},{"name":"å°ç†ŠçŒ«","parent":"cjscxlphn0003hqox3ejahvub","_id":"cjscxlpi3000khqoxzah5ixey"},{"name":"æ‹›è´¢","parent":"cjscxlphn0003hqox3ejahvub","_id":"cjscxlpic001ehqoxk3de39t5"},{"name":"å·¥ä½œ","_id":"cjscxlpj2001xhqoxyp595jub"},{"name":"ACM","parent":"cjscxlpj2001xhqoxyp595jub","_id":"cjscxlpj90026hqoxn101j8yx"},{"name":"iOS","parent":"cjscxlpj2001xhqoxyp595jub","_id":"cjscxlpja002bhqox7nwust5u"},{"name":"å°ç¨‹åº","parent":"cjscxlpj2001xhqoxyp595jub","_id":"cjscxlpjc002ihqoxyc8luzxp"}],"Data":[],"Page":[{"title":"","date":"2019-01-08T06:27:18.000Z","thumbnail":"/gallary/about.jpg","_content":"\n# <center>æ¬¢è¿æ¥åˆ°å°ç†ŠçŒ«çš„èŠ±å›­ ğŸ‘</center>\n\n<center>è¿™ä¸ªæ˜¯ä¸€ä¸ªæœ‰æƒ…æ€€ä¸çˆ±å¿ƒçš„\bä¹å›­ğŸ¡\b\b\b\b\b\b\bï¼Œè®°å½•å°ç†ŠçŒ«ğŸ¼å’Œæ‹›è´¢ğŸ±ç”Ÿæ´»çš„ç‚¹ç‚¹æ»´æ»´ã€‚</center>\n<center>å¤§å®¶æœ‰ä»€ä¹ˆå»ºè®®æˆ–å¸®åŠ©ï¼Œå¯ä»¥é€šè¿‡ä¸‹æ–¹\bå¤šç§æ–¹å¼ğŸ‘‡è”ç³»æˆ‘</center>\n","source":"about/index.md","raw":"---\ntitle:\ndate: 2019-01-08 14:27:18\nthumbnail: /gallary/about.jpg\n---\n\n# <center>æ¬¢è¿æ¥åˆ°å°ç†ŠçŒ«çš„èŠ±å›­ ğŸ‘</center>\n\n<center>è¿™ä¸ªæ˜¯ä¸€ä¸ªæœ‰æƒ…æ€€ä¸çˆ±å¿ƒçš„\bä¹å›­ğŸ¡\b\b\b\b\b\b\bï¼Œè®°å½•å°ç†ŠçŒ«ğŸ¼å’Œæ‹›è´¢ğŸ±ç”Ÿæ´»çš„ç‚¹ç‚¹æ»´æ»´ã€‚</center>\n<center>å¤§å®¶æœ‰ä»€ä¹ˆå»ºè®®æˆ–å¸®åŠ©ï¼Œå¯ä»¥é€šè¿‡ä¸‹æ–¹\bå¤šç§æ–¹å¼ğŸ‘‡è”ç³»æˆ‘</center>\n","updated":"2019-01-09T05:16:49.222Z","path":"about/index.html","comments":1,"layout":"page","_id":"cjscxlphk0001hqoxv2jmk9mq","content":"<h1><center>æ¬¢è¿æ¥åˆ°å°ç†ŠçŒ«çš„èŠ±å›­ ğŸ‘</center></h1>\n<center>è¿™ä¸ªæ˜¯ä¸€ä¸ªæœ‰æƒ…æ€€ä¸çˆ±å¿ƒçš„\bä¹å›­ğŸ¡\b\b\b\b\b\b\bï¼Œè®°å½•å°ç†ŠçŒ«ğŸ¼å’Œæ‹›è´¢ğŸ±ç”Ÿæ´»çš„ç‚¹ç‚¹æ»´æ»´ã€‚</center>\n<center>å¤§å®¶æœ‰ä»€ä¹ˆå»ºè®®æˆ–å¸®åŠ©ï¼Œå¯ä»¥é€šè¿‡ä¸‹æ–¹\bå¤šç§æ–¹å¼ğŸ‘‡è”ç³»æˆ‘</center>\n","site":{"data":{}},"excerpt":"","more":"<h1><center>æ¬¢è¿æ¥åˆ°å°ç†ŠçŒ«çš„èŠ±å›­ ğŸ‘</center></h1>\n<center>è¿™ä¸ªæ˜¯ä¸€ä¸ªæœ‰æƒ…æ€€ä¸çˆ±å¿ƒçš„\bä¹å›­ğŸ¡\b\b\b\b\b\b\bï¼Œè®°å½•å°ç†ŠçŒ«ğŸ¼å’Œæ‹›è´¢ğŸ±ç”Ÿæ´»çš„ç‚¹ç‚¹æ»´æ»´ã€‚</center>\n<center>å¤§å®¶æœ‰ä»€ä¹ˆå»ºè®®æˆ–å¸®åŠ©ï¼Œå¯ä»¥é€šè¿‡ä¸‹æ–¹\bå¤šç§æ–¹å¼ğŸ‘‡è”ç³»æˆ‘</center>\n"}],"Post":[{"title":"ä»Šå¤©é©¬æ€é¸¡","date":"2019-01-16T07:33:26.000Z","thumbnail":"/gallary/39.jpg","_content":"\næœ¬å®å®ä»Šå¤©ä½“éªŒ Massageï¼Œå¥½èˆ’æœå•Š ğŸ˜„ã€‚\n\n<!-- more -->\n\n<iframe \n\tscrolling=no width=\"100%\" height=\"100%\" onLoad=\"iFrameHeight()\" \n\tsrc=\"/gallary/72.mp4\" \n\tframeborder=0 allowfullscreen>\n</iframe>\n\né˜¿å§¨ä½ è½»ç‚¹ ğŸ˜‚ã€‚\n\n<iframe \n\tscrolling=no width=\"100%\" height=\"100%\" onLoad=\"iFrameHeight()\" \n\tsrc=\"/gallary/73.mp4\" \n\tframeborder=0 allowfullscreen>\n</iframe>\n","source":"_posts/ä»Šå¤©é©¬æ€é¸¡.md","raw":"---\ntitle: ä»Šå¤©é©¬æ€é¸¡\ndate: 2019-01-16 15:33:26\ntags: å°ç†ŠçŒ«\ncategories:\n  - ç”Ÿæ´»\n  - å°ç†ŠçŒ«\nthumbnail: /gallary/39.jpg\n---\n\næœ¬å®å®ä»Šå¤©ä½“éªŒ Massageï¼Œå¥½èˆ’æœå•Š ğŸ˜„ã€‚\n\n<!-- more -->\n\n<iframe \n\tscrolling=no width=\"100%\" height=\"100%\" onLoad=\"iFrameHeight()\" \n\tsrc=\"/gallary/72.mp4\" \n\tframeborder=0 allowfullscreen>\n</iframe>\n\né˜¿å§¨ä½ è½»ç‚¹ ğŸ˜‚ã€‚\n\n<iframe \n\tscrolling=no width=\"100%\" height=\"100%\" onLoad=\"iFrameHeight()\" \n\tsrc=\"/gallary/73.mp4\" \n\tframeborder=0 allowfullscreen>\n</iframe>\n","slug":"ä»Šå¤©é©¬æ€é¸¡","published":1,"updated":"2019-01-16T07:38:21.384Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlphf0000hqoxx558ulqv","content":"<p>æœ¬å®å®ä»Šå¤©ä½“éªŒ Massageï¼Œå¥½èˆ’æœå•Š ğŸ˜„ã€‚</p>\n<a id=\"more\"></a>\n<iframe scrolling=\"no\" width=\"100%\" height=\"100%\" onload=\"iFrameHeight()\" src=\"/gallary/72.mp4\" frameborder=\"0\" allowfullscreen>\n</iframe>\n<p>é˜¿å§¨ä½ è½»ç‚¹ ğŸ˜‚ã€‚</p>\n<iframe scrolling=\"no\" width=\"100%\" height=\"100%\" onload=\"iFrameHeight()\" src=\"/gallary/73.mp4\" frameborder=\"0\" allowfullscreen>\n</iframe>\n","site":{"data":{}},"excerpt":"<p>æœ¬å®å®ä»Šå¤©ä½“éªŒ Massageï¼Œå¥½èˆ’æœå•Š ğŸ˜„ã€‚</p>","more":"<iframe scrolling=\"no\" width=\"100%\" height=\"100%\" onload=\"iFrameHeight()\" src=\"/gallary/72.mp4\" frameborder=\"0\" allowfullscreen>\n</iframe>\n<p>é˜¿å§¨ä½ è½»ç‚¹ ğŸ˜‚ã€‚</p>\n<iframe scrolling=\"no\" width=\"100%\" height=\"100%\" onload=\"iFrameHeight()\" src=\"/gallary/73.mp4\" frameborder=\"0\" allowfullscreen>\n</iframe>"},{"title":"åšå®¢æœ‹å‹å®¶","date":"2019-01-10T05:20:01.000Z","thumbnail":"/gallary/IMG_0038.jpg","_content":"\næœ¬å®å®ä»Šå¤©åˆ° ğŸ‘¬ æœ‹å‹å®¶ ğŸ  åšå®¢ï¼Œå¥½å¼€å¿ƒ ğŸ˜„ã€‚\n\n![](/gallary/IMG_0041.jpg)\n\n<!-- more -->\n\nåè½¦è½¦ï¼š\n\n<iframe \n\tscrolling=no width=\"100%\" height=\"100%\" onLoad=\"iFrameHeight()\" \n\tsrc=\"/gallary/25.mp4\" \n\tframeborder=0 allowfullscreen>\n</iframe>\n","source":"_posts/åšå®¢æœ‹å‹å®¶.md","raw":"---\ntitle: åšå®¢æœ‹å‹å®¶\ndate: 2019-01-10 13:20:01\ntags: å°ç†ŠçŒ«\ncategories:\n  - ç”Ÿæ´»\n  - å°ç†ŠçŒ«\nthumbnail: /gallary/IMG_0038.jpg\n---\n\næœ¬å®å®ä»Šå¤©åˆ° ğŸ‘¬ æœ‹å‹å®¶ ğŸ  åšå®¢ï¼Œå¥½å¼€å¿ƒ ğŸ˜„ã€‚\n\n![](/gallary/IMG_0041.jpg)\n\n<!-- more -->\n\nåè½¦è½¦ï¼š\n\n<iframe \n\tscrolling=no width=\"100%\" height=\"100%\" onLoad=\"iFrameHeight()\" \n\tsrc=\"/gallary/25.mp4\" \n\tframeborder=0 allowfullscreen>\n</iframe>\n","slug":"åšå®¢æœ‹å‹å®¶","published":1,"updated":"2019-01-11T05:26:10.064Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlphl0002hqox48njsinf","content":"<p>æœ¬å®å®ä»Šå¤©åˆ° ğŸ‘¬ æœ‹å‹å®¶ ğŸ  åšå®¢ï¼Œå¥½å¼€å¿ƒ ğŸ˜„ã€‚</p>\n<p><img src=\"/gallary/IMG_0041.jpg\" alt=\"\"></p>\n<a id=\"more\"></a>\n<p>åè½¦è½¦ï¼š</p>\n<iframe scrolling=\"no\" width=\"100%\" height=\"100%\" onload=\"iFrameHeight()\" src=\"/gallary/25.mp4\" frameborder=\"0\" allowfullscreen>\n</iframe>\n","site":{"data":{}},"excerpt":"<p>æœ¬å®å®ä»Šå¤©åˆ° ğŸ‘¬ æœ‹å‹å®¶ ğŸ  åšå®¢ï¼Œå¥½å¼€å¿ƒ ğŸ˜„ã€‚</p>\n<p><img src=\"/gallary/IMG_0041.jpg\" alt=\"\"></p>","more":"<p>åè½¦è½¦ï¼š</p>\n<iframe scrolling=\"no\" width=\"100%\" height=\"100%\" onload=\"iFrameHeight()\" src=\"/gallary/25.mp4\" frameborder=\"0\" allowfullscreen>\n</iframe>"},{"title":"å‡è‚¥","date":"2018-11-08T09:36:39.000Z","thumbnail":"/gallary/IMG_0002.jpg","_content":"\n![](/gallary/IMG_0003.jpg)\n\n13 æ–¤çš„è‚¥çŒ«äº† ğŸ±ï¼Œæ˜¯æ—¶å€™å‡è‚¥äº†ï¼ï¼ï¼\n","source":"_posts/å‡è‚¥.md","raw":"---\ntitle: å‡è‚¥\ndate: 2018-11-08 17:36:39\ntags: æ‹›è´¢\ncategories:\n  - ç”Ÿæ´»\n  - æ‹›è´¢\nthumbnail: /gallary/IMG_0002.jpg\n---\n\n![](/gallary/IMG_0003.jpg)\n\n13 æ–¤çš„è‚¥çŒ«äº† ğŸ±ï¼Œæ˜¯æ—¶å€™å‡è‚¥äº†ï¼ï¼ï¼\n","slug":"å‡è‚¥","published":1,"updated":"2019-01-08T09:53:41.285Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlphp0005hqoxmkatvc7o","content":"<p><img src=\"/gallary/IMG_0003.jpg\" alt=\"\"></p>\n<p>13 æ–¤çš„è‚¥çŒ«äº† ğŸ±ï¼Œæ˜¯æ—¶å€™å‡è‚¥äº†ï¼ï¼ï¼</p>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"/gallary/IMG_0003.jpg\" alt=\"\"></p>\n<p>13 æ–¤çš„è‚¥çŒ«äº† ğŸ±ï¼Œæ˜¯æ—¶å€™å‡è‚¥äº†ï¼ï¼ï¼</p>\n"},{"title":"åŠªåŠ›åŠªåŠ›","date":"2019-01-02T10:07:45.000Z","thumbnail":"/gallary/IMG_0010.jpg","_content":"\n![](/gallary/IMG_0024.jpg)\n\nåŠªåŠ›å­¦ä¹ ï¼Œå¿«å¿«æˆé•¿ ğŸ’ªã€‚\n","source":"_posts/åŠªåŠ›åŠªåŠ›.md","raw":"---\ntitle: åŠªåŠ›åŠªåŠ›\ndate: 2019-01-02 18:07:45\ntags: å°ç†ŠçŒ«\ncategories:\n  - ç”Ÿæ´»\n  - å°ç†ŠçŒ«\nthumbnail: /gallary/IMG_0010.jpg\n---\n\n![](/gallary/IMG_0024.jpg)\n\nåŠªåŠ›å­¦ä¹ ï¼Œå¿«å¿«æˆé•¿ ğŸ’ªã€‚\n","slug":"åŠªåŠ›åŠªåŠ›","published":1,"updated":"2019-01-08T10:09:00.848Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlphr0006hqoxb6yegl0k","content":"<p><img src=\"/gallary/IMG_0024.jpg\" alt=\"\"></p>\n<p>åŠªåŠ›å­¦ä¹ ï¼Œå¿«å¿«æˆé•¿ ğŸ’ªã€‚</p>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"/gallary/IMG_0024.jpg\" alt=\"\"></p>\n<p>åŠªåŠ›å­¦ä¹ ï¼Œå¿«å¿«æˆé•¿ ğŸ’ªã€‚</p>\n"},{"title":"åˆåƒè¾…é£Ÿäº†å•¦ğŸ˜Š","date":"2019-01-06T05:24:35.000Z","thumbnail":"/gallary/IMG_0027.jpg","_content":"\n![](/gallary/IMG_0028.jpg)\n\nä»Šå¤©åƒèƒ¡èåœ ğŸ¥•+ ç±³ç²‰ ğŸšï¼Œè¿ç»­åƒäº† 10 å¤šå¤©èƒ¡èåœåç»ˆäºä¸æŠ—æ‹’äº†ï¼Œåšä¸ªä¸æŒ‘é£Ÿçš„ä¹–å®å®ã€‚\n","source":"_posts/åˆåƒè¾…é£Ÿäº†å•¦ğŸ˜Š.md","raw":"---\ntitle: \"åˆåƒè¾…é£Ÿäº†å•¦\\U0001F60A\"\ndate: 2019-01-06 13:24:35\ntags: å°ç†ŠçŒ«\ncategories:\n  - ç”Ÿæ´»\n  - å°ç†ŠçŒ«\nthumbnail: /gallary/IMG_0027.jpg\n---\n\n![](/gallary/IMG_0028.jpg)\n\nä»Šå¤©åƒèƒ¡èåœ ğŸ¥•+ ç±³ç²‰ ğŸšï¼Œè¿ç»­åƒäº† 10 å¤šå¤©èƒ¡èåœåç»ˆäºä¸æŠ—æ‹’äº†ï¼Œåšä¸ªä¸æŒ‘é£Ÿçš„ä¹–å®å®ã€‚\n","slug":"åˆåƒè¾…é£Ÿäº†å•¦ğŸ˜Š","published":1,"updated":"2019-01-09T05:29:55.919Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlphs0007hqoxehu7z483","content":"<p><img src=\"/gallary/IMG_0028.jpg\" alt=\"\"></p>\n<p>ä»Šå¤©åƒèƒ¡èåœ ğŸ¥•+ ç±³ç²‰ ğŸšï¼Œè¿ç»­åƒäº† 10 å¤šå¤©èƒ¡èåœåç»ˆäºä¸æŠ—æ‹’äº†ï¼Œåšä¸ªä¸æŒ‘é£Ÿçš„ä¹–å®å®ã€‚</p>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"/gallary/IMG_0028.jpg\" alt=\"\"></p>\n<p>ä»Šå¤©åƒèƒ¡èåœ ğŸ¥•+ ç±³ç²‰ ğŸšï¼Œè¿ç»­åƒäº† 10 å¤šå¤©èƒ¡èåœåç»ˆäºä¸æŠ—æ‹’äº†ï¼Œåšä¸ªä¸æŒ‘é£Ÿçš„ä¹–å®å®ã€‚</p>\n"},{"title":"å°ç†ŠçŒ«æ¥åˆ°è¿™ä¸ªä¸–ç•Œ","date":"2018-06-20T16:02:08.000Z","thumbnail":"/gallary/IMG_0005.jpg","_content":"\nå…¬å…ƒ 2018 å¹´ 6 æœˆ 21 æ—¥ï¼Œå¤è‡³ï¼Œå‡Œæ™¨ 2 ç‚¹ 08 åˆ†ï¼Œæˆéƒ½åè¥¿é™„äºŒé™¢ä¸€å£°å•¼å“­ï¼Œå°ç†ŠçŒ« ğŸ¼ æ¥åˆ°äº†è¿™ä¸ªä¸–ç•Œã€‚\n\n---\n\n<!-- more -->\n\n![](/gallary/IMG_0004.jpg)\n\nä¼¼ä¹ä¸Šå¤©çŸ¥é“ä½ å…«å­—ç¼ºæ°´ï¼Œå‡ºç”Ÿçš„æ—¶å€™çª—å¤–ä¸‹ç€æ·…æ²¥æ²¥çš„å°é›¨ã€‚\nä¼¼ä¹ä½ çŸ¥é“è‡ªå·±å«â€œå°ç†ŠçŒ«â€ï¼Œä¸€å‡ºç”Ÿå°±æ¡ç´§æ‹³å¤´ï¼Œèœ·ç€å°æ‰‹å–èŒ ğŸ˜Šã€‚\n\n---\n\n![](/gallary/IMG_0005.jpg)\n\nå¤©ä½¿å®å® ğŸ‘¼ï¼Œçˆ¸çˆ¸å¦ˆå¦ˆå¸Œæœ›ä½ æ°¸è¿œå¥åº·å¿«ä¹ã€‚\n","source":"_posts/å°ç†ŠçŒ«æ¥åˆ°ä¸–ç•Œ.md","raw":"---\ntitle: å°ç†ŠçŒ«æ¥åˆ°è¿™ä¸ªä¸–ç•Œ\ndate: 2018-06-21 00:02:08\ntags: [å°ç†ŠçŒ«, æ–°ç”Ÿ]\ncategories:\n  - ç”Ÿæ´»\n  - å°ç†ŠçŒ«\nthumbnail: /gallary/IMG_0005.jpg\n---\n\nå…¬å…ƒ 2018 å¹´ 6 æœˆ 21 æ—¥ï¼Œå¤è‡³ï¼Œå‡Œæ™¨ 2 ç‚¹ 08 åˆ†ï¼Œæˆéƒ½åè¥¿é™„äºŒé™¢ä¸€å£°å•¼å“­ï¼Œå°ç†ŠçŒ« ğŸ¼ æ¥åˆ°äº†è¿™ä¸ªä¸–ç•Œã€‚\n\n---\n\n<!-- more -->\n\n![](/gallary/IMG_0004.jpg)\n\nä¼¼ä¹ä¸Šå¤©çŸ¥é“ä½ å…«å­—ç¼ºæ°´ï¼Œå‡ºç”Ÿçš„æ—¶å€™çª—å¤–ä¸‹ç€æ·…æ²¥æ²¥çš„å°é›¨ã€‚\nä¼¼ä¹ä½ çŸ¥é“è‡ªå·±å«â€œå°ç†ŠçŒ«â€ï¼Œä¸€å‡ºç”Ÿå°±æ¡ç´§æ‹³å¤´ï¼Œèœ·ç€å°æ‰‹å–èŒ ğŸ˜Šã€‚\n\n---\n\n![](/gallary/IMG_0005.jpg)\n\nå¤©ä½¿å®å® ğŸ‘¼ï¼Œçˆ¸çˆ¸å¦ˆå¦ˆå¸Œæœ›ä½ æ°¸è¿œå¥åº·å¿«ä¹ã€‚\n","slug":"å°ç†ŠçŒ«æ¥åˆ°ä¸–ç•Œ","published":1,"updated":"2019-01-09T05:25:20.082Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlphv000bhqoxttz3v2i3","content":"<p>å…¬å…ƒ 2018 å¹´ 6 æœˆ 21 æ—¥ï¼Œå¤è‡³ï¼Œå‡Œæ™¨ 2 ç‚¹ 08 åˆ†ï¼Œæˆéƒ½åè¥¿é™„äºŒé™¢ä¸€å£°å•¼å“­ï¼Œå°ç†ŠçŒ« ğŸ¼ æ¥åˆ°äº†è¿™ä¸ªä¸–ç•Œã€‚</p>\n<hr>\n<a id=\"more\"></a>\n<p><img src=\"/gallary/IMG_0004.jpg\" alt=\"\"></p>\n<p>ä¼¼ä¹ä¸Šå¤©çŸ¥é“ä½ å…«å­—ç¼ºæ°´ï¼Œå‡ºç”Ÿçš„æ—¶å€™çª—å¤–ä¸‹ç€æ·…æ²¥æ²¥çš„å°é›¨ã€‚<br>\nä¼¼ä¹ä½ çŸ¥é“è‡ªå·±å«â€œå°ç†ŠçŒ«â€ï¼Œä¸€å‡ºç”Ÿå°±æ¡ç´§æ‹³å¤´ï¼Œèœ·ç€å°æ‰‹å–èŒ ğŸ˜Šã€‚</p>\n<hr>\n<p><img src=\"/gallary/IMG_0005.jpg\" alt=\"\"></p>\n<p>å¤©ä½¿å®å® ğŸ‘¼ï¼Œçˆ¸çˆ¸å¦ˆå¦ˆå¸Œæœ›ä½ æ°¸è¿œå¥åº·å¿«ä¹ã€‚</p>\n","site":{"data":{}},"excerpt":"<p>å…¬å…ƒ 2018 å¹´ 6 æœˆ 21 æ—¥ï¼Œå¤è‡³ï¼Œå‡Œæ™¨ 2 ç‚¹ 08 åˆ†ï¼Œæˆéƒ½åè¥¿é™„äºŒé™¢ä¸€å£°å•¼å“­ï¼Œå°ç†ŠçŒ« ğŸ¼ æ¥åˆ°äº†è¿™ä¸ªä¸–ç•Œã€‚</p>\n<hr>","more":"<p><img src=\"/gallary/IMG_0004.jpg\" alt=\"\"></p>\n<p>ä¼¼ä¹ä¸Šå¤©çŸ¥é“ä½ å…«å­—ç¼ºæ°´ï¼Œå‡ºç”Ÿçš„æ—¶å€™çª—å¤–ä¸‹ç€æ·…æ²¥æ²¥çš„å°é›¨ã€‚<br>\nä¼¼ä¹ä½ çŸ¥é“è‡ªå·±å«â€œå°ç†ŠçŒ«â€ï¼Œä¸€å‡ºç”Ÿå°±æ¡ç´§æ‹³å¤´ï¼Œèœ·ç€å°æ‰‹å–èŒ ğŸ˜Šã€‚</p>\n<hr>\n<p><img src=\"/gallary/IMG_0005.jpg\" alt=\"\"></p>\n<p>å¤©ä½¿å®å® ğŸ‘¼ï¼Œçˆ¸çˆ¸å¦ˆå¦ˆå¸Œæœ›ä½ æ°¸è¿œå¥åº·å¿«ä¹ã€‚</p>"},{"title":"å¼€è¤","date":"2018-10-01T09:44:41.000Z","thumbnail":"/gallary/IMG_0014.jpg","_content":"\n![](/gallary/IMG_0023.jpg)\n\nä»Šå¤©æ˜¯ç¥–å›½ç”Ÿæ—¥ï¼Œå°ç†ŠçŒ«ä¹Ÿè¿‡èŠ‚ï¼Œå¼€è¤äº† ğŸ˜›ã€‚\n","source":"_posts/å¼€è¤.md","raw":"---\ntitle: å¼€è¤\ndate: 2018-10-01 17:44:41\ntags: å°ç†ŠçŒ«\ncategories:\n  - ç”Ÿæ´»\n  - å°ç†ŠçŒ«\nthumbnail: /gallary/IMG_0014.jpg\n---\n\n![](/gallary/IMG_0023.jpg)\n\nä»Šå¤©æ˜¯ç¥–å›½ç”Ÿæ—¥ï¼Œå°ç†ŠçŒ«ä¹Ÿè¿‡èŠ‚ï¼Œå¼€è¤äº† ğŸ˜›ã€‚\n","slug":"å¼€è¤","published":1,"updated":"2019-01-08T10:01:25.843Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlphx000dhqoxtz0lrvyo","content":"<p><img src=\"/gallary/IMG_0023.jpg\" alt=\"\"></p>\n<p>ä»Šå¤©æ˜¯ç¥–å›½ç”Ÿæ—¥ï¼Œå°ç†ŠçŒ«ä¹Ÿè¿‡èŠ‚ï¼Œå¼€è¤äº† ğŸ˜›ã€‚</p>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"/gallary/IMG_0023.jpg\" alt=\"\"></p>\n<p>ä»Šå¤©æ˜¯ç¥–å›½ç”Ÿæ—¥ï¼Œå°ç†ŠçŒ«ä¹Ÿè¿‡èŠ‚ï¼Œå¼€è¤äº† ğŸ˜›ã€‚</p>\n"},{"title":"æˆ‘çš„ç¬¬ä¸€ä¸ªè¯ä¹¦","date":"2019-01-08T05:44:49.000Z","thumbnail":"/gallary/IMG_0032.jpg","_content":"\n![](/gallary/IMG_0033.jpg)\n\nä»Šå¤©æ½œæ°´ ğŸŠâ€â™€ï¸ æˆåŠŸï¼Œè·å¾—çš„äººç”Ÿç¬¬ä¸€ä¸ªè¯ä¹¦ ğŸ˜„ã€‚\n","source":"_posts/æˆ‘çš„ç¬¬ä¸€ä¸ªè¯ä¹¦.md","raw":"---\ntitle: æˆ‘çš„ç¬¬ä¸€ä¸ªè¯ä¹¦\ndate: 2019-01-08 13:44:49\ntags: å°ç†ŠçŒ«\ncategories:\n  - ç”Ÿæ´»\n  - å°ç†ŠçŒ«\nthumbnail: /gallary/IMG_0032.jpg\n---\n\n![](/gallary/IMG_0033.jpg)\n\nä»Šå¤©æ½œæ°´ ğŸŠâ€â™€ï¸ æˆåŠŸï¼Œè·å¾—çš„äººç”Ÿç¬¬ä¸€ä¸ªè¯ä¹¦ ğŸ˜„ã€‚\n","slug":"æˆ‘çš„ç¬¬ä¸€ä¸ªè¯ä¹¦","published":1,"updated":"2019-01-09T05:51:45.753Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlphz000hhqoxyyxcynj4","content":"<p><img src=\"/gallary/IMG_0033.jpg\" alt=\"\"></p>\n<p>ä»Šå¤©æ½œæ°´ ğŸŠâ€â™€ï¸ æˆåŠŸï¼Œè·å¾—çš„äººç”Ÿç¬¬ä¸€ä¸ªè¯ä¹¦ ğŸ˜„ã€‚</p>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"/gallary/IMG_0033.jpg\" alt=\"\"></p>\n<p>ä»Šå¤©æ½œæ°´ ğŸŠâ€â™€ï¸ æˆåŠŸï¼Œè·å¾—çš„äººç”Ÿç¬¬ä¸€ä¸ªè¯ä¹¦ ğŸ˜„ã€‚</p>\n"},{"title":"æ‹›è´¢æ£è›‹æ—¥å¸¸","date":"2018-11-08T09:15:09.000Z","thumbnail":"/gallary/IMG_0006.jpg","_content":"\n<!-- more -->\n\n![](/gallary/IMG_0001.jpg)\n\næ‹›è´¢è”‘è§†ã€åƒç¿»å„¿ã€æŠ¢å¦¹å¦¹çš„åºŠç¡ã€‚\n","source":"_posts/æ‹›è´¢æ£è›‹æ—¥å¸¸.md","raw":"---\ntitle: æ‹›è´¢æ£è›‹æ—¥å¸¸\ndate: 2018-11-08 17:15:09\ntags: æ‹›è´¢\ncategories:\n  - ç”Ÿæ´»\n  - æ‹›è´¢\nthumbnail: /gallary/IMG_0006.jpg\n---\n\n<!-- more -->\n\n![](/gallary/IMG_0001.jpg)\n\næ‹›è´¢è”‘è§†ã€åƒç¿»å„¿ã€æŠ¢å¦¹å¦¹çš„åºŠç¡ã€‚\n","slug":"æ‹›è´¢æ£è›‹æ—¥å¸¸","published":1,"updated":"2019-01-08T09:32:16.301Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlpi1000jhqoxdphuz7q2","content":"<a id=\"more\"></a>\n<p><img src=\"/gallary/IMG_0001.jpg\" alt=\"\"></p>\n<p>æ‹›è´¢è”‘è§†ã€åƒç¿»å„¿ã€æŠ¢å¦¹å¦¹çš„åºŠç¡ã€‚</p>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"/gallary/IMG_0001.jpg\" alt=\"\"></p>\n<p>æ‹›è´¢è”‘è§†ã€åƒç¿»å„¿ã€æŠ¢å¦¹å¦¹çš„åºŠç¡ã€‚</p>"},{"title":"ç‹¬è‡ªçœ‹å®¶","date":"2019-02-06T08:21:00.000Z","thumbnail":"/gallary/IMG_0099.jpg","_content":"\n<!-- more -->\n\n![](/gallary/IMG_0102.jpg)\n\néƒ½å›è€å®¶è¿‡å¹´äº†ï¼Œæœ¬å–µä¸€ä¸ªäººåœ¨å®¶ï¼Œæƒ³æ€ä¹ˆæ ·å°±æ€ä¹ˆæ · ğŸ˜„ã€‚\nè¿˜æœ‰äººä¸Šé—¨ç»™æœåŠ¡ï¼Œä¼¸ä¸ªæ‡’è…°ï¼ŒçœŸèˆ’æœå•Šã€‚\n","source":"_posts/ç‹¬è‡ªçœ‹å®¶.md","raw":"---\ntitle: ç‹¬è‡ªçœ‹å®¶\ndate: 2019-02-06 16:21:00\ntags: æ‹›è´¢\ncategories:\n  - ç”Ÿæ´»\n  - æ‹›è´¢\nthumbnail: /gallary/IMG_0099.jpg\n---\n\n<!-- more -->\n\n![](/gallary/IMG_0102.jpg)\n\néƒ½å›è€å®¶è¿‡å¹´äº†ï¼Œæœ¬å–µä¸€ä¸ªäººåœ¨å®¶ï¼Œæƒ³æ€ä¹ˆæ ·å°±æ€ä¹ˆæ · ğŸ˜„ã€‚\nè¿˜æœ‰äººä¸Šé—¨ç»™æœåŠ¡ï¼Œä¼¸ä¸ªæ‡’è…°ï¼ŒçœŸèˆ’æœå•Šã€‚\n","slug":"ç‹¬è‡ªçœ‹å®¶","published":1,"updated":"2019-02-20T08:24:11.365Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlpi4000nhqox57dt4tqj","content":"<a id=\"more\"></a>\n<p><img src=\"/gallary/IMG_0102.jpg\" alt=\"\"></p>\n<p>éƒ½å›è€å®¶è¿‡å¹´äº†ï¼Œæœ¬å–µä¸€ä¸ªäººåœ¨å®¶ï¼Œæƒ³æ€ä¹ˆæ ·å°±æ€ä¹ˆæ · ğŸ˜„ã€‚<br>\nè¿˜æœ‰äººä¸Šé—¨ç»™æœåŠ¡ï¼Œä¼¸ä¸ªæ‡’è…°ï¼ŒçœŸèˆ’æœå•Šã€‚</p>\n","site":{"data":{}},"excerpt":"","more":"<p><img src=\"/gallary/IMG_0102.jpg\" alt=\"\"></p>\n<p>éƒ½å›è€å®¶è¿‡å¹´äº†ï¼Œæœ¬å–µä¸€ä¸ªäººåœ¨å®¶ï¼Œæƒ³æ€ä¹ˆæ ·å°±æ€ä¹ˆæ · ğŸ˜„ã€‚<br>\nè¿˜æœ‰äººä¸Šé—¨ç»™æœåŠ¡ï¼Œä¼¸ä¸ªæ‡’è…°ï¼ŒçœŸèˆ’æœå•Šã€‚</p>"},{"title":"æ–°å¹´å¿«ä¹","date":"2019-02-04T07:33:26.000Z","thumbnail":"/gallary/IMG_0093.jpg","_content":"\næ‘†ä¸ª pose\n\n![](/gallary/IMG_0098.jpg)\n\nç¥å¤§å®¶çŒªå¹´å¿«ä¹ ğŸ†ï¼Œæ­å–œå‘è´¢ã€ğŸ§§ çº¢åŒ…æ‹¿æ¥ï¼ï¼ï¼\n\n<!-- more -->\n\n![](/gallary/IMG_0093.jpg)\n","source":"_posts/æ–°å¹´å¿«ä¹.md","raw":"---\ntitle: æ–°å¹´å¿«ä¹\ndate: 2019-02-04 15:33:26\ntags: å°ç†ŠçŒ«\ncategories:\n  - ç”Ÿæ´»\n  - å°ç†ŠçŒ«\nthumbnail: /gallary/IMG_0093.jpg\n---\n\næ‘†ä¸ª pose\n\n![](/gallary/IMG_0098.jpg)\n\nç¥å¤§å®¶çŒªå¹´å¿«ä¹ ğŸ†ï¼Œæ­å–œå‘è´¢ã€ğŸ§§ çº¢åŒ…æ‹¿æ¥ï¼ï¼ï¼\n\n<!-- more -->\n\n![](/gallary/IMG_0093.jpg)\n","slug":"æ–°å¹´å¿«ä¹","published":1,"updated":"2019-02-20T08:17:15.887Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlpi5000phqoxwkiq3mw5","content":"<p>æ‘†ä¸ª pose</p>\n<p><img src=\"/gallary/IMG_0098.jpg\" alt=\"\"></p>\n<p>ç¥å¤§å®¶çŒªå¹´å¿«ä¹ ğŸ†ï¼Œæ­å–œå‘è´¢ã€ğŸ§§ çº¢åŒ…æ‹¿æ¥ï¼ï¼ï¼</p>\n<a id=\"more\"></a>\n<p><img src=\"/gallary/IMG_0093.jpg\" alt=\"\"></p>\n","site":{"data":{}},"excerpt":"<p>æ‘†ä¸ª pose</p>\n<p><img src=\"/gallary/IMG_0098.jpg\" alt=\"\"></p>\n<p>ç¥å¤§å®¶çŒªå¹´å¿«ä¹ ğŸ†ï¼Œæ­å–œå‘è´¢ã€ğŸ§§ çº¢åŒ…æ‹¿æ¥ï¼ï¼ï¼</p>","more":"<p><img src=\"/gallary/IMG_0093.jpg\" alt=\"\"></p>"},{"title":"ç™¾å¤©party","date":"2018-09-21T09:52:15.000Z","thumbnail":"/gallary/100party.jpg","_content":"\nä»Šå¤©å°ç†ŠçŒ«å’Œå“¥å“¥ã€å§å§ã€å¼Ÿå¼Ÿã€å¦¹å¦¹ä¸€èµ· party go ğŸ˜„ï¼š\n\n<!-- more -->\n\n<iframe \n\tscrolling=no width=\"100%\" height=\"100%\" onLoad=\"iFrameHeight()\" \n\tsrc=\"/gallary/v001.mp4\" \n\tframeborder=0 allowfullscreen>\n</iframe>\n","source":"_posts/ç™¾å¤©party.md","raw":"---\ntitle: ç™¾å¤©party\ndate: 2018-09-21 17:52:15\ntags: å°ç†ŠçŒ«\ncategories:\n  - ç”Ÿæ´»\n  - å°ç†ŠçŒ«\nthumbnail: /gallary/100party.jpg\n---\n\nä»Šå¤©å°ç†ŠçŒ«å’Œå“¥å“¥ã€å§å§ã€å¼Ÿå¼Ÿã€å¦¹å¦¹ä¸€èµ· party go ğŸ˜„ï¼š\n\n<!-- more -->\n\n<iframe \n\tscrolling=no width=\"100%\" height=\"100%\" onLoad=\"iFrameHeight()\" \n\tsrc=\"/gallary/v001.mp4\" \n\tframeborder=0 allowfullscreen>\n</iframe>\n","slug":"ç™¾å¤©party","published":1,"updated":"2019-01-09T01:32:56.180Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlpi7000shqox6ie5awa3","content":"<p>ä»Šå¤©å°ç†ŠçŒ«å’Œå“¥å“¥ã€å§å§ã€å¼Ÿå¼Ÿã€å¦¹å¦¹ä¸€èµ· party go ğŸ˜„ï¼š</p>\n<a id=\"more\"></a>\n<iframe scrolling=\"no\" width=\"100%\" height=\"100%\" onload=\"iFrameHeight()\" src=\"/gallary/v001.mp4\" frameborder=\"0\" allowfullscreen>\n</iframe>\n","site":{"data":{}},"excerpt":"<p>ä»Šå¤©å°ç†ŠçŒ«å’Œå“¥å“¥ã€å§å§ã€å¼Ÿå¼Ÿã€å¦¹å¦¹ä¸€èµ· party go ğŸ˜„ï¼š</p>","more":"<iframe scrolling=\"no\" width=\"100%\" height=\"100%\" onload=\"iFrameHeight()\" src=\"/gallary/v001.mp4\" frameborder=\"0\" allowfullscreen>\n</iframe>"},{"title":"2016å¾®è½¯æ¢æ˜Ÿ | Constraint Checker","date":"2016-08-04T02:56:12.000Z","thumbnail":"http://upload-images.jianshu.io/upload_images/2641798-0227972e7244b9eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240","_content":"\né¢˜ç›®æ¥æºäº 2016 å¹´å¾®è½¯æ¢æ˜Ÿå¤ä»¤è¥åœ¨çº¿æŠ€æœ¯ç¬”è¯•ï¼Œç¬”è¯•ç»“æœæ˜¯ä½œä¸ºç”„é€‰å¾®è½¯ 2016 æ ¡æ‹›æŠ€æœ¯ç±»èŒä½çš„é‡è¦å‚è€ƒä¹‹ä¸€ã€‚è¿™ä¸ªè€ƒè¯•å¯¹äºæƒ³è¿›å¾®è½¯å®ä¹ æˆ–å·¥ä½œçš„åœ¨æ ¡ç”Ÿæ¥è¯´è¿˜æ˜¯è›®é‡è¦çš„ã€‚\næœ¬äººé—²æ¥æ— èŠä¹Ÿæ³¨å†Œäº†å¸å·å°è¯•äº†ç¬¬ä¸€é¢˜ï¼Œä»£ç ç”¨ C++å®ç°ï¼Œæ¯”è¾ƒä¹±ï¼Œä¾¥å¹¸ä¸€æ¬¡é€šè¿‡ã€‚ä¸‹é¢ç›´æ¥çœ‹ä¸€ä¸‹è€ƒé¢˜ã€‚\n\n<!-- more -->\n\n![](http://upload-images.jianshu.io/upload_images/2641798-0227972e7244b9eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n---\n\né¢˜ç›®ï¼š\n\næ—¶é—´é™åˆ¶:10000ms\nå•ç‚¹æ—¶é™:1000ms\nå†…å­˜é™åˆ¶:256MB\n\næè¿°\nGiven a set of constraints likeÂ **0<N<=M<=100**Â and values for all the variables, write a checker program to determine if the constraints are satisfied.\nMore precisely, the format of constraints is:\n**token op token op ... op token**\nwhere eachÂ tokenÂ is either a constant integer or a variable represented by a capital letter and eachÂ op is either less-than ( < ) or less-than-or-equal-to ( <= ).Â \nè¾“å…¥\nThe first line contains an integerÂ N, the number of constraints. (1 â‰¤Â Nâ‰¤ 20)\nEach of the followingÂ N lines contains a constraint in the previous mentioned format.\nThen follows an integerÂ T, the number of assignments to check. (1 â‰¤Â Tâ‰¤ 50)\nEach assignment occupiesÂ K lines whereÂ K is the number of variables in the constraints.\nEach line contains a capital letter and an integer, representing a variable and its value.\nIt is guaranteed that:\n\n1. Every token in the constraints is either an integer from 0 to 1000000 or an variable represented by a capital letter from 'A' to 'Z'.\n2. There is no space in the constraints.\n3. In each assignment every variable appears exactly once and its value is from 0 to 1000000.Â \n   è¾“å‡º\n   For each assignment output Yes or No indicating if the constraints are satisfied.\n\n> æ ·ä¾‹è¾“å…¥\n> 2\n> A<B<=E\n> 3<=E<5\n> 2\n> A 1\n> B 2\n> E 3\n> A 3\n> B 5\n> E 10\n\n> æ ·ä¾‹è¾“å‡º\n> Yes\n> No\n\nè§£é‡Šï¼š\nè¿™é“é¢˜é¢˜ç›®è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯æ ¹æ®è¾“å…¥çš„è‹¥å¹²ä¸ªä¸ç­‰å¼ï¼Œæ ¡éªŒåé¢è¾“å…¥çš„æ•°æ®æ˜¯å¦éƒ½æ»¡è¶³å‰é¢çš„ä¸ç­‰å¼ï¼Œæ»¡è¶³å°±è¾“å‡º Yesï¼Œåªè¦æœ‰ä¸€ä¸ªä¸æ»¡è¶³å°±è¾“å‡º Noã€‚å¦‚â€œA<B<=Eï¼Œ3<=E<5â€è¿™ä¸ªä¸¤ä¸ªå…³ç³»å¼ï¼Œå¯¹äºè¾“å…¥ A ï¼ 1ï¼ŒB ï¼ 2ï¼ŒE ï¼ 3 è‚¯å®šæ»¡è¶³ï¼Œå› ä¸º 1<2<=3ï¼Œ3<=3<5ã€‚è€Œ A ï¼ 3, B ï¼ 5ï¼ŒE=10 å°±ä¸æ»¡è¶³ï¼Œå› ä¸º 3<=10<5 ä¸æˆç«‹ã€‚\n\nåˆ†æï¼š\n1ã€ç”±äºæœ‰æ‰€æœ‰ä¸ç­‰å¼éƒ½è¦é€šè¿‡æ ¡éªŒæ‰è¾“å‡º Yesï¼Œé‚£ä¹ˆä»£è¡¨æˆ‘ä»¬è¦åœ¨è¾“å…¥çš„æ—¶å€™å°±å°†æ‰€æœ‰ä¸ç­‰å¼å…³ç³»éƒ½å­˜èµ·æ¥æ–¹ä¾¿åé¢æ ¡éªŒï¼Œè¿™é‡Œæˆ‘ç”¨äº†ä¸€ä¸ª vector æ¥å­˜å‚¨è¿™äº›å…³ç³»ï¼Œåé¢æ ¡éªŒçš„æ—¶å€™éå† vector é‡Œé¢æ‰€æœ‰çš„å€¼ï¼Œä¸€ä¸ªä¸ªæ ¡éªŒã€‚\n2ã€ç”±äºæ¯ä¸ªä¸ç­‰å¼å…³ç³»åªæœ‰\"<\"æˆ–è€…\"<=\"ï¼Œè¯´æ˜è¿™ä¸ªå…³ç³»æ˜¯é€’å¢çš„ï¼Œæ‰€ä»¥æˆ‘ç”¨äº† multimap<intï¼Œstring>æ¥å­˜å‚¨è¿™ç§å…³ç³»ï¼ˆmultimap å¯¹äº key æ˜¯è‡ªå¢é•¿æ’åºï¼Œå¹¶ä¸”å¯ä»¥å­˜å‚¨ç›¸åŒçš„ keyï¼‰ã€‚æ¥çœ‹çœ‹æˆ‘å¯¹å…³ç³»å¼çš„ä¸€ä¸ªè½¬æ¢å‡½æ•°ï¼š\n\n```\nmultimap<int,string> convertStrToMap(string operation)\n{\nÂ  Â  multimap<int,string> mapOp;\nÂ  Â  size_t len = operation.length();\nÂ  Â  int rank = 0;\nÂ  Â  int prior = 0;\nÂ  Â  for (int i = 0; i < len; i++) {\nÂ  Â  Â  Â  char letter = operation[i];\nÂ  Â  Â  Â  if (letter == '<') {\nÂ  Â  Â  Â  Â  Â  string str = operation.substr(prior, i - prior);\nÂ  Â  Â  Â  Â  Â  mapOp.insert(make_pair(rank, str));\nÂ  Â  Â  Â  Â  Â  if (i - prior == 1) {\nÂ  Â  Â  Â  Â  Â  Â  Â  if (str[0] >= 'A' && str[0] <= 'Z') {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  varMap.insert(make_pair(str[0], 0));\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  prior = i + 1;\nÂ  Â  Â  Â  Â  Â  rank++;\nÂ  Â  Â  Â  }\nÂ  Â  Â  Â  if (letter == '=') {\nÂ  Â  Â  Â  Â  Â  prior = i + 1;\nÂ  Â  Â  Â  Â  Â  rank--;\nÂ  Â  Â  Â  }\nÂ  Â  }\nÂ  Â  string str = operation.substr(prior, len - prior);\nÂ  Â  mapOp.insert(make_pair(rank, str));\nÂ  Â  if (len - prior == 1) {\nÂ  Â  Â  Â  if (str[0] >= 'A' && str[0] <= 'Z') {\nÂ  Â  Â  Â  Â  Â  varMap.insert(make_pair(str[0], 0));\nÂ  Â  Â  Â  }\nÂ  Â  }\nÂ  Â  return mapOp;\n}\n```\n\nè¿”å›çš„ mapOp å°±æ˜¯å°† string ç±»å‹çš„å…³ç³»å¼è½¬æ¢åçš„ multimapï¼Œè¿™é‡Œçš„ key æ˜¯ int ç±»å‹ä»£è¡¨è¯¥å˜é‡æˆ–è€…æ•°å­—æ˜¯åœ¨å…³ç³»å¼ä»€ä¹ˆå±‚çº§ï¼Œvalue æ˜¯ string ç±»å‹æ–¹ä¾¿åé¢è½¬æ¢æˆæ•°å­—è¿›è¡Œæ¯”è¾ƒã€‚ä¾‹å¦‚ï¼ŒA<B<=Eï¼Œåœ¨ multimap ä¸­ä¼šå­˜ä¸ºï½›0:A,1:B,1:Eï½ã€‚è¿™æ®µä»£ç è¿˜æœ‰ä¸ª varMap å˜é‡ï¼Œå®ƒæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œç”¨æ¥è®°å½•å…³ç³»å¼ä¸­å‡ºç°çš„å˜é‡ï¼ˆé¢˜ç›®è§„å®šäº†å˜é‡åªèƒ½å¤Ÿæ˜¯ Aï¼Zï¼‰ã€‚\n3ã€æœ€åå°±æ˜¯è¾“å…¥æ•°æ®ï¼Œæ›´æ–° varMapï¼Œç„¶åæ ¹æ®å…³ç³»å¼æ¯”è¾ƒçœ‹æ˜¯å¦æ»¡è¶³ï¼Œè¾“å‡ºç»“æœã€‚ä»£ç ï¼š\n\n```\nint findValue(string input)\n{\nÂ  Â  if (input.size() == 1 && input[0] >= 'A' && input[0] <= 'Z') {\nÂ  Â  Â  Â  return varMap[input[0]];\nÂ  Â  }\nÂ  Â  return atoi(input.c_str());\n}\n\nvoid checker(vector<multimap<int,string>> opVec)\n{\nÂ  Â  bool pass = true;\nÂ  Â  for (int i = 0; i < opVec.size(); i++) {\nÂ  Â  Â  Â  multimap<int,string> operation = opVec[i];\nÂ  Â  Â  Â  multimap<int,string>::iterator it;\nÂ  Â  Â  Â  int rank1 = -1, rank2 = -1;\nÂ  Â  Â  Â  int value1, value2;\nÂ  Â  Â  Â  string var1, var2;\nÂ  Â  Â  Â  for (it = operation.begin(); it !=operation.end(); it++) {\nÂ  Â  Â  Â  Â  Â  if (rank1 == -1) {\nÂ  Â  Â  Â  Â  Â  Â  Â  rank1 = it->first;\nÂ  Â  Â  Â  Â  Â  Â  Â  var1 = it->second;\nÂ  Â  Â  Â  Â  Â  Â  Â  continue;\nÂ  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  rank2 = it->first;\nÂ  Â  Â  Â  Â  Â  var2 = it->second;\nÂ  Â  Â  Â  Â  Â  value1 = findValue(var1);\nÂ  Â  Â  Â  Â  Â  value2 = findValue(var2);\nÂ  Â  Â  Â  Â  Â  if (rank1 == rank2) { // <=\nÂ  Â  Â  Â  Â  Â  Â  Â  if (value1 <= value2) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = true;\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  Â  Â  else\nÂ  Â  Â  Â  Â  Â  Â  Â  {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = false;\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  else // <\nÂ  Â  Â  Â  Â  Â  {\nÂ  Â  Â  Â  Â  Â  Â  Â  if (value1 < value2) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = true;\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  Â  Â  else\nÂ  Â  Â  Â  Â  Â  Â  Â  {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = false;\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  }\nÂ Â  Â  Â  Â  Â  Â \nÂ  Â  Â  Â  Â  Â  if (!pass) {\nÂ  Â  Â  Â  Â  Â  Â  Â  break;\nÂ  Â  Â  Â  Â  Â  }\nÂ Â  Â  Â  Â  Â  Â \nÂ  Â  Â  Â  Â  Â  var1 = var2;\nÂ  Â  Â  Â  Â  Â  rank1 = rank2;\nÂ  Â  Â  Â  }\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  if (!pass) {\nÂ  Â  Â  Â  Â  Â  break;\nÂ  Â  Â  Â  }\nÂ  Â  }\nÂ Â  Â \nÂ  Â  if (pass) {\nÂ  Â  Â  Â  cout<<\"Yes\"<<endl;\nÂ  Â  }\nÂ  Â  else\nÂ  Â  {\nÂ  Â  Â  Â  cout<<\"No\"<<endl;\nÂ  Â  }\n}\n```\n\nç”±äºå‰é¢å…³ç³»å¼å·²ç»æŒ‰ç»“æ„å­˜å‚¨å¥½äº†ï¼Œæ‰€ä»¥åªéœ€è¦ä¸€æ­¥æ­¥æ¯”è¾ƒæ ¡éªŒå³å¯ã€‚å±‚çº§ä¸€æ ·çš„å˜é‡ï¼Œvalue æƒ³ç­‰é€šè¿‡ï¼Œå±‚çº§ä¸ä¸€æ ·çš„ï¼Œvalue1<value2 å³å¯ã€‚\n\nçœ‹ä¸€ä¸‹åˆ¤å®šç»“æœï¼š\n![](http://upload-images.jianshu.io/upload_images/2641798-645fb746e176c24b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\nå®Œæ•´ä»£ç ï¼š\n\n```\n//\n//  main.cpp\n//  Constraint Checker\n//\n//  Created by Jiao Liu on 7/18/16.\n//  Copyright Â© 2016 ChangHong. All rights reserved.\n//\n\n#include <map>\n#include <vector>\n#include <string>\n#include <stdio.h>\n#include <iostream>\n\nusing namespace std;\nmap<char,int> varMap;\n\nmultimap<int,string> convertStrToMap(string operation)\n{\n    multimap<int,string> mapOp;\n    size_t len = operation.length();\n    int rank = 0;\n    int prior = 0;\n    for (int i = 0; i < len; i++) {\n        char letter = operation[i];\n        if (letter == '<') {\n            string str = operation.substr(prior, i - prior);\n            mapOp.insert(make_pair(rank, str));\n            if (i - prior == 1) {\n                if (str[0] >= 'A' && str[0] <= 'Z') {\n                    varMap.insert(make_pair(str[0], 0));\n                }\n            }\n            prior = i + 1;\n            rank++;\n        }\n        if (letter == '=') {\n            prior = i + 1;\n            rank--;\n        }\n    }\n    string str = operation.substr(prior, len - prior);\n    mapOp.insert(make_pair(rank, str));\n    if (len - prior == 1) {\n        if (str[0] >= 'A' && str[0] <= 'Z') {\n            varMap.insert(make_pair(str[0], 0));\n        }\n    }\n    return mapOp;\n}\n\nint findValue(string input)\n{\n\n    if (input.size() == 1 && input[0] >= 'A' && input[0] <= 'Z') {\n        return varMap[input[0]];\n    }\n    return atoi(input.c_str());\n}\n\nvoid checker(vector<multimap<int,string>> opVec)\n{\n    bool pass = true;\n    for (int i = 0; i < opVec.size(); i++) {\n        multimap<int,string> operation = opVec[i];\n        multimap<int,string>::iterator it;\n        int rank1 = -1, rank2 = -1;\n        int value1, value2;\n        string var1, var2;\n        for (it = operation.begin(); it !=operation.end(); it++) {\n            if (rank1 == -1) {\n                rank1 = it->first;\n                var1 = it->second;\n                continue;\n            }\n            rank2 = it->first;\n            var2 = it->second;\n            value1 = findValue(var1);\n            value2 = findValue(var2);\n            if (rank1 == rank2) { // <=\n                if (value1 <= value2) {\n                    pass = true;\n                }\n                else\n                {\n                    pass = false;\n                }\n            }\n            else // <\n            {\n                if (value1 < value2) {\n                    pass = true;\n                }\n                else\n                {\n                    pass = false;\n                }\n            }\n\n            if (!pass) {\n                break;\n            }\n\n            var1 = var2;\n            rank1 = rank2;\n        }\n\n        if (!pass) {\n            break;\n        }\n    }\n\n    if (pass) {\n        cout<<\"Yes\"<<endl;\n    }\n    else\n    {\n        cout<<\"No\"<<endl;\n    }\n}\n\nint main()\n{\n    int N;\n    scanf(\"%d\",&N);\n    vector<multimap<int,string>> opVec;\n    while (N--) {\n        string op;\n        cin >> op;\n        multimap<int,string> operation = convertStrToMap(op);\n        opVec.push_back(operation);\n    }\n    int T;\n    scanf(\"%d\",&T);\n    while (T--) {\n        size_t numOfVar = varMap.size();\n        while (numOfVar--) {\n            char letter;\n            int value;\n            cin>>letter>>value;\n            varMap[letter] = value;\n        }\n        checker(opVec);\n    }\n    return 0;\n}\n\n```\n","source":"_posts/2016å¾®è½¯æ¢æ˜Ÿ-Constraint-Checker.md","raw":"---\ntitle: 2016å¾®è½¯æ¢æ˜Ÿ | Constraint Checker\ndate: 2016-08-04 10:56:12\ntags: [ç®—æ³•]\ncategories:\n  - å·¥ä½œ\n  - ACM\nthumbnail: http://upload-images.jianshu.io/upload_images/2641798-0227972e7244b9eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\n---\n\né¢˜ç›®æ¥æºäº 2016 å¹´å¾®è½¯æ¢æ˜Ÿå¤ä»¤è¥åœ¨çº¿æŠ€æœ¯ç¬”è¯•ï¼Œç¬”è¯•ç»“æœæ˜¯ä½œä¸ºç”„é€‰å¾®è½¯ 2016 æ ¡æ‹›æŠ€æœ¯ç±»èŒä½çš„é‡è¦å‚è€ƒä¹‹ä¸€ã€‚è¿™ä¸ªè€ƒè¯•å¯¹äºæƒ³è¿›å¾®è½¯å®ä¹ æˆ–å·¥ä½œçš„åœ¨æ ¡ç”Ÿæ¥è¯´è¿˜æ˜¯è›®é‡è¦çš„ã€‚\næœ¬äººé—²æ¥æ— èŠä¹Ÿæ³¨å†Œäº†å¸å·å°è¯•äº†ç¬¬ä¸€é¢˜ï¼Œä»£ç ç”¨ C++å®ç°ï¼Œæ¯”è¾ƒä¹±ï¼Œä¾¥å¹¸ä¸€æ¬¡é€šè¿‡ã€‚ä¸‹é¢ç›´æ¥çœ‹ä¸€ä¸‹è€ƒé¢˜ã€‚\n\n<!-- more -->\n\n![](http://upload-images.jianshu.io/upload_images/2641798-0227972e7244b9eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n---\n\né¢˜ç›®ï¼š\n\næ—¶é—´é™åˆ¶:10000ms\nå•ç‚¹æ—¶é™:1000ms\nå†…å­˜é™åˆ¶:256MB\n\næè¿°\nGiven a set of constraints likeÂ **0<N<=M<=100**Â and values for all the variables, write a checker program to determine if the constraints are satisfied.\nMore precisely, the format of constraints is:\n**token op token op ... op token**\nwhere eachÂ tokenÂ is either a constant integer or a variable represented by a capital letter and eachÂ op is either less-than ( < ) or less-than-or-equal-to ( <= ).Â \nè¾“å…¥\nThe first line contains an integerÂ N, the number of constraints. (1 â‰¤Â Nâ‰¤ 20)\nEach of the followingÂ N lines contains a constraint in the previous mentioned format.\nThen follows an integerÂ T, the number of assignments to check. (1 â‰¤Â Tâ‰¤ 50)\nEach assignment occupiesÂ K lines whereÂ K is the number of variables in the constraints.\nEach line contains a capital letter and an integer, representing a variable and its value.\nIt is guaranteed that:\n\n1. Every token in the constraints is either an integer from 0 to 1000000 or an variable represented by a capital letter from 'A' to 'Z'.\n2. There is no space in the constraints.\n3. In each assignment every variable appears exactly once and its value is from 0 to 1000000.Â \n   è¾“å‡º\n   For each assignment output Yes or No indicating if the constraints are satisfied.\n\n> æ ·ä¾‹è¾“å…¥\n> 2\n> A<B<=E\n> 3<=E<5\n> 2\n> A 1\n> B 2\n> E 3\n> A 3\n> B 5\n> E 10\n\n> æ ·ä¾‹è¾“å‡º\n> Yes\n> No\n\nè§£é‡Šï¼š\nè¿™é“é¢˜é¢˜ç›®è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯æ ¹æ®è¾“å…¥çš„è‹¥å¹²ä¸ªä¸ç­‰å¼ï¼Œæ ¡éªŒåé¢è¾“å…¥çš„æ•°æ®æ˜¯å¦éƒ½æ»¡è¶³å‰é¢çš„ä¸ç­‰å¼ï¼Œæ»¡è¶³å°±è¾“å‡º Yesï¼Œåªè¦æœ‰ä¸€ä¸ªä¸æ»¡è¶³å°±è¾“å‡º Noã€‚å¦‚â€œA<B<=Eï¼Œ3<=E<5â€è¿™ä¸ªä¸¤ä¸ªå…³ç³»å¼ï¼Œå¯¹äºè¾“å…¥ A ï¼ 1ï¼ŒB ï¼ 2ï¼ŒE ï¼ 3 è‚¯å®šæ»¡è¶³ï¼Œå› ä¸º 1<2<=3ï¼Œ3<=3<5ã€‚è€Œ A ï¼ 3, B ï¼ 5ï¼ŒE=10 å°±ä¸æ»¡è¶³ï¼Œå› ä¸º 3<=10<5 ä¸æˆç«‹ã€‚\n\nåˆ†æï¼š\n1ã€ç”±äºæœ‰æ‰€æœ‰ä¸ç­‰å¼éƒ½è¦é€šè¿‡æ ¡éªŒæ‰è¾“å‡º Yesï¼Œé‚£ä¹ˆä»£è¡¨æˆ‘ä»¬è¦åœ¨è¾“å…¥çš„æ—¶å€™å°±å°†æ‰€æœ‰ä¸ç­‰å¼å…³ç³»éƒ½å­˜èµ·æ¥æ–¹ä¾¿åé¢æ ¡éªŒï¼Œè¿™é‡Œæˆ‘ç”¨äº†ä¸€ä¸ª vector æ¥å­˜å‚¨è¿™äº›å…³ç³»ï¼Œåé¢æ ¡éªŒçš„æ—¶å€™éå† vector é‡Œé¢æ‰€æœ‰çš„å€¼ï¼Œä¸€ä¸ªä¸ªæ ¡éªŒã€‚\n2ã€ç”±äºæ¯ä¸ªä¸ç­‰å¼å…³ç³»åªæœ‰\"<\"æˆ–è€…\"<=\"ï¼Œè¯´æ˜è¿™ä¸ªå…³ç³»æ˜¯é€’å¢çš„ï¼Œæ‰€ä»¥æˆ‘ç”¨äº† multimap<intï¼Œstring>æ¥å­˜å‚¨è¿™ç§å…³ç³»ï¼ˆmultimap å¯¹äº key æ˜¯è‡ªå¢é•¿æ’åºï¼Œå¹¶ä¸”å¯ä»¥å­˜å‚¨ç›¸åŒçš„ keyï¼‰ã€‚æ¥çœ‹çœ‹æˆ‘å¯¹å…³ç³»å¼çš„ä¸€ä¸ªè½¬æ¢å‡½æ•°ï¼š\n\n```\nmultimap<int,string> convertStrToMap(string operation)\n{\nÂ  Â  multimap<int,string> mapOp;\nÂ  Â  size_t len = operation.length();\nÂ  Â  int rank = 0;\nÂ  Â  int prior = 0;\nÂ  Â  for (int i = 0; i < len; i++) {\nÂ  Â  Â  Â  char letter = operation[i];\nÂ  Â  Â  Â  if (letter == '<') {\nÂ  Â  Â  Â  Â  Â  string str = operation.substr(prior, i - prior);\nÂ  Â  Â  Â  Â  Â  mapOp.insert(make_pair(rank, str));\nÂ  Â  Â  Â  Â  Â  if (i - prior == 1) {\nÂ  Â  Â  Â  Â  Â  Â  Â  if (str[0] >= 'A' && str[0] <= 'Z') {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  varMap.insert(make_pair(str[0], 0));\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  prior = i + 1;\nÂ  Â  Â  Â  Â  Â  rank++;\nÂ  Â  Â  Â  }\nÂ  Â  Â  Â  if (letter == '=') {\nÂ  Â  Â  Â  Â  Â  prior = i + 1;\nÂ  Â  Â  Â  Â  Â  rank--;\nÂ  Â  Â  Â  }\nÂ  Â  }\nÂ  Â  string str = operation.substr(prior, len - prior);\nÂ  Â  mapOp.insert(make_pair(rank, str));\nÂ  Â  if (len - prior == 1) {\nÂ  Â  Â  Â  if (str[0] >= 'A' && str[0] <= 'Z') {\nÂ  Â  Â  Â  Â  Â  varMap.insert(make_pair(str[0], 0));\nÂ  Â  Â  Â  }\nÂ  Â  }\nÂ  Â  return mapOp;\n}\n```\n\nè¿”å›çš„ mapOp å°±æ˜¯å°† string ç±»å‹çš„å…³ç³»å¼è½¬æ¢åçš„ multimapï¼Œè¿™é‡Œçš„ key æ˜¯ int ç±»å‹ä»£è¡¨è¯¥å˜é‡æˆ–è€…æ•°å­—æ˜¯åœ¨å…³ç³»å¼ä»€ä¹ˆå±‚çº§ï¼Œvalue æ˜¯ string ç±»å‹æ–¹ä¾¿åé¢è½¬æ¢æˆæ•°å­—è¿›è¡Œæ¯”è¾ƒã€‚ä¾‹å¦‚ï¼ŒA<B<=Eï¼Œåœ¨ multimap ä¸­ä¼šå­˜ä¸ºï½›0:A,1:B,1:Eï½ã€‚è¿™æ®µä»£ç è¿˜æœ‰ä¸ª varMap å˜é‡ï¼Œå®ƒæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œç”¨æ¥è®°å½•å…³ç³»å¼ä¸­å‡ºç°çš„å˜é‡ï¼ˆé¢˜ç›®è§„å®šäº†å˜é‡åªèƒ½å¤Ÿæ˜¯ Aï¼Zï¼‰ã€‚\n3ã€æœ€åå°±æ˜¯è¾“å…¥æ•°æ®ï¼Œæ›´æ–° varMapï¼Œç„¶åæ ¹æ®å…³ç³»å¼æ¯”è¾ƒçœ‹æ˜¯å¦æ»¡è¶³ï¼Œè¾“å‡ºç»“æœã€‚ä»£ç ï¼š\n\n```\nint findValue(string input)\n{\nÂ  Â  if (input.size() == 1 && input[0] >= 'A' && input[0] <= 'Z') {\nÂ  Â  Â  Â  return varMap[input[0]];\nÂ  Â  }\nÂ  Â  return atoi(input.c_str());\n}\n\nvoid checker(vector<multimap<int,string>> opVec)\n{\nÂ  Â  bool pass = true;\nÂ  Â  for (int i = 0; i < opVec.size(); i++) {\nÂ  Â  Â  Â  multimap<int,string> operation = opVec[i];\nÂ  Â  Â  Â  multimap<int,string>::iterator it;\nÂ  Â  Â  Â  int rank1 = -1, rank2 = -1;\nÂ  Â  Â  Â  int value1, value2;\nÂ  Â  Â  Â  string var1, var2;\nÂ  Â  Â  Â  for (it = operation.begin(); it !=operation.end(); it++) {\nÂ  Â  Â  Â  Â  Â  if (rank1 == -1) {\nÂ  Â  Â  Â  Â  Â  Â  Â  rank1 = it->first;\nÂ  Â  Â  Â  Â  Â  Â  Â  var1 = it->second;\nÂ  Â  Â  Â  Â  Â  Â  Â  continue;\nÂ  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  rank2 = it->first;\nÂ  Â  Â  Â  Â  Â  var2 = it->second;\nÂ  Â  Â  Â  Â  Â  value1 = findValue(var1);\nÂ  Â  Â  Â  Â  Â  value2 = findValue(var2);\nÂ  Â  Â  Â  Â  Â  if (rank1 == rank2) { // <=\nÂ  Â  Â  Â  Â  Â  Â  Â  if (value1 <= value2) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = true;\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  Â  Â  else\nÂ  Â  Â  Â  Â  Â  Â  Â  {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = false;\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  else // <\nÂ  Â  Â  Â  Â  Â  {\nÂ  Â  Â  Â  Â  Â  Â  Â  if (value1 < value2) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = true;\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  Â  Â  else\nÂ  Â  Â  Â  Â  Â  Â  Â  {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = false;\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  }\nÂ Â  Â  Â  Â  Â  Â \nÂ  Â  Â  Â  Â  Â  if (!pass) {\nÂ  Â  Â  Â  Â  Â  Â  Â  break;\nÂ  Â  Â  Â  Â  Â  }\nÂ Â  Â  Â  Â  Â  Â \nÂ  Â  Â  Â  Â  Â  var1 = var2;\nÂ  Â  Â  Â  Â  Â  rank1 = rank2;\nÂ  Â  Â  Â  }\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  if (!pass) {\nÂ  Â  Â  Â  Â  Â  break;\nÂ  Â  Â  Â  }\nÂ  Â  }\nÂ Â  Â \nÂ  Â  if (pass) {\nÂ  Â  Â  Â  cout<<\"Yes\"<<endl;\nÂ  Â  }\nÂ  Â  else\nÂ  Â  {\nÂ  Â  Â  Â  cout<<\"No\"<<endl;\nÂ  Â  }\n}\n```\n\nç”±äºå‰é¢å…³ç³»å¼å·²ç»æŒ‰ç»“æ„å­˜å‚¨å¥½äº†ï¼Œæ‰€ä»¥åªéœ€è¦ä¸€æ­¥æ­¥æ¯”è¾ƒæ ¡éªŒå³å¯ã€‚å±‚çº§ä¸€æ ·çš„å˜é‡ï¼Œvalue æƒ³ç­‰é€šè¿‡ï¼Œå±‚çº§ä¸ä¸€æ ·çš„ï¼Œvalue1<value2 å³å¯ã€‚\n\nçœ‹ä¸€ä¸‹åˆ¤å®šç»“æœï¼š\n![](http://upload-images.jianshu.io/upload_images/2641798-645fb746e176c24b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\nå®Œæ•´ä»£ç ï¼š\n\n```\n//\n//  main.cpp\n//  Constraint Checker\n//\n//  Created by Jiao Liu on 7/18/16.\n//  Copyright Â© 2016 ChangHong. All rights reserved.\n//\n\n#include <map>\n#include <vector>\n#include <string>\n#include <stdio.h>\n#include <iostream>\n\nusing namespace std;\nmap<char,int> varMap;\n\nmultimap<int,string> convertStrToMap(string operation)\n{\n    multimap<int,string> mapOp;\n    size_t len = operation.length();\n    int rank = 0;\n    int prior = 0;\n    for (int i = 0; i < len; i++) {\n        char letter = operation[i];\n        if (letter == '<') {\n            string str = operation.substr(prior, i - prior);\n            mapOp.insert(make_pair(rank, str));\n            if (i - prior == 1) {\n                if (str[0] >= 'A' && str[0] <= 'Z') {\n                    varMap.insert(make_pair(str[0], 0));\n                }\n            }\n            prior = i + 1;\n            rank++;\n        }\n        if (letter == '=') {\n            prior = i + 1;\n            rank--;\n        }\n    }\n    string str = operation.substr(prior, len - prior);\n    mapOp.insert(make_pair(rank, str));\n    if (len - prior == 1) {\n        if (str[0] >= 'A' && str[0] <= 'Z') {\n            varMap.insert(make_pair(str[0], 0));\n        }\n    }\n    return mapOp;\n}\n\nint findValue(string input)\n{\n\n    if (input.size() == 1 && input[0] >= 'A' && input[0] <= 'Z') {\n        return varMap[input[0]];\n    }\n    return atoi(input.c_str());\n}\n\nvoid checker(vector<multimap<int,string>> opVec)\n{\n    bool pass = true;\n    for (int i = 0; i < opVec.size(); i++) {\n        multimap<int,string> operation = opVec[i];\n        multimap<int,string>::iterator it;\n        int rank1 = -1, rank2 = -1;\n        int value1, value2;\n        string var1, var2;\n        for (it = operation.begin(); it !=operation.end(); it++) {\n            if (rank1 == -1) {\n                rank1 = it->first;\n                var1 = it->second;\n                continue;\n            }\n            rank2 = it->first;\n            var2 = it->second;\n            value1 = findValue(var1);\n            value2 = findValue(var2);\n            if (rank1 == rank2) { // <=\n                if (value1 <= value2) {\n                    pass = true;\n                }\n                else\n                {\n                    pass = false;\n                }\n            }\n            else // <\n            {\n                if (value1 < value2) {\n                    pass = true;\n                }\n                else\n                {\n                    pass = false;\n                }\n            }\n\n            if (!pass) {\n                break;\n            }\n\n            var1 = var2;\n            rank1 = rank2;\n        }\n\n        if (!pass) {\n            break;\n        }\n    }\n\n    if (pass) {\n        cout<<\"Yes\"<<endl;\n    }\n    else\n    {\n        cout<<\"No\"<<endl;\n    }\n}\n\nint main()\n{\n    int N;\n    scanf(\"%d\",&N);\n    vector<multimap<int,string>> opVec;\n    while (N--) {\n        string op;\n        cin >> op;\n        multimap<int,string> operation = convertStrToMap(op);\n        opVec.push_back(operation);\n    }\n    int T;\n    scanf(\"%d\",&T);\n    while (T--) {\n        size_t numOfVar = varMap.size();\n        while (numOfVar--) {\n            char letter;\n            int value;\n            cin>>letter>>value;\n            varMap[letter] = value;\n        }\n        checker(opVec);\n    }\n    return 0;\n}\n\n```\n","slug":"2016å¾®è½¯æ¢æ˜Ÿ-Constraint-Checker","published":1,"updated":"2019-01-08T05:33:23.263Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlpiz001vhqoxwlhp7msq","content":"<p>é¢˜ç›®æ¥æºäº 2016 å¹´å¾®è½¯æ¢æ˜Ÿå¤ä»¤è¥åœ¨çº¿æŠ€æœ¯ç¬”è¯•ï¼Œç¬”è¯•ç»“æœæ˜¯ä½œä¸ºç”„é€‰å¾®è½¯ 2016 æ ¡æ‹›æŠ€æœ¯ç±»èŒä½çš„é‡è¦å‚è€ƒä¹‹ä¸€ã€‚è¿™ä¸ªè€ƒè¯•å¯¹äºæƒ³è¿›å¾®è½¯å®ä¹ æˆ–å·¥ä½œçš„åœ¨æ ¡ç”Ÿæ¥è¯´è¿˜æ˜¯è›®é‡è¦çš„ã€‚<br>\næœ¬äººé—²æ¥æ— èŠä¹Ÿæ³¨å†Œäº†å¸å·å°è¯•äº†ç¬¬ä¸€é¢˜ï¼Œä»£ç ç”¨ C++å®ç°ï¼Œæ¯”è¾ƒä¹±ï¼Œä¾¥å¹¸ä¸€æ¬¡é€šè¿‡ã€‚ä¸‹é¢ç›´æ¥çœ‹ä¸€ä¸‹è€ƒé¢˜ã€‚</p>\n<a id=\"more\"></a>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2641798-0227972e7244b9eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"\"></p>\n<hr>\n<p>é¢˜ç›®ï¼š</p>\n<p>æ—¶é—´é™åˆ¶:10000ms<br>\nå•ç‚¹æ—¶é™:1000ms<br>\nå†…å­˜é™åˆ¶:256MB</p>\n<p>æè¿°<br>\nGiven a set of constraints likeÂ <strong>0&lt;N&lt;=M&lt;=100</strong>Â and values for all the variables, write a checker program to determine if the constraints are satisfied.<br>\nMore precisely, the format of constraints is:<br>\n<strong>token op token op â€¦ op token</strong><br>\nwhere eachÂ tokenÂ is either a constant integer or a variable represented by a capital letter and eachÂ op is either less-than ( &lt; ) or less-than-or-equal-to ( &lt;= ).Â <br>\nè¾“å…¥<br>\nThe first line contains an integerÂ N, the number of constraints. (1 â‰¤Â Nâ‰¤ 20)<br>\nEach of the followingÂ N lines contains a constraint in the previous mentioned format.<br>\nThen follows an integerÂ T, the number of assignments to check. (1 â‰¤Â Tâ‰¤ 50)<br>\nEach assignment occupiesÂ K lines whereÂ K is the number of variables in the constraints.<br>\nEach line contains a capital letter and an integer, representing a variable and its value.<br>\nIt is guaranteed that:</p>\n<ol>\n<li>Every token in the constraints is either an integer from 0 to 1000000 or an variable represented by a capital letter from â€˜Aâ€™ to â€˜Zâ€™.</li>\n<li>There is no space in the constraints.</li>\n<li>In each assignment every variable appears exactly once and its value is from 0 to 1000000.Â <br>\nè¾“å‡º<br>\nFor each assignment output Yes or No indicating if the constraints are satisfied.</li>\n</ol>\n<blockquote>\n<p>æ ·ä¾‹è¾“å…¥<br>\n2<br>\nA&lt;B&lt;=E<br>\n3&lt;=E&lt;5<br>\n2<br>\nA 1<br>\nB 2<br>\nE 3<br>\nA 3<br>\nB 5<br>\nE 10</p>\n</blockquote>\n<blockquote>\n<p>æ ·ä¾‹è¾“å‡º<br>\nYes<br>\nNo</p>\n</blockquote>\n<p>è§£é‡Šï¼š<br>\nè¿™é“é¢˜é¢˜ç›®è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯æ ¹æ®è¾“å…¥çš„è‹¥å¹²ä¸ªä¸ç­‰å¼ï¼Œæ ¡éªŒåé¢è¾“å…¥çš„æ•°æ®æ˜¯å¦éƒ½æ»¡è¶³å‰é¢çš„ä¸ç­‰å¼ï¼Œæ»¡è¶³å°±è¾“å‡º Yesï¼Œåªè¦æœ‰ä¸€ä¸ªä¸æ»¡è¶³å°±è¾“å‡º Noã€‚å¦‚â€œA&lt;B&lt;=Eï¼Œ3&lt;=E&lt;5â€è¿™ä¸ªä¸¤ä¸ªå…³ç³»å¼ï¼Œå¯¹äºè¾“å…¥ A ï¼ 1ï¼ŒB ï¼ 2ï¼ŒE ï¼ 3 è‚¯å®šæ»¡è¶³ï¼Œå› ä¸º 1&lt;2&lt;=3ï¼Œ3&lt;=3&lt;5ã€‚è€Œ A ï¼ 3, B ï¼ 5ï¼ŒE=10 å°±ä¸æ»¡è¶³ï¼Œå› ä¸º 3&lt;=10&lt;5 ä¸æˆç«‹ã€‚</p>\n<p>åˆ†æï¼š<br>\n1ã€ç”±äºæœ‰æ‰€æœ‰ä¸ç­‰å¼éƒ½è¦é€šè¿‡æ ¡éªŒæ‰è¾“å‡º Yesï¼Œé‚£ä¹ˆä»£è¡¨æˆ‘ä»¬è¦åœ¨è¾“å…¥çš„æ—¶å€™å°±å°†æ‰€æœ‰ä¸ç­‰å¼å…³ç³»éƒ½å­˜èµ·æ¥æ–¹ä¾¿åé¢æ ¡éªŒï¼Œè¿™é‡Œæˆ‘ç”¨äº†ä¸€ä¸ª vector æ¥å­˜å‚¨è¿™äº›å…³ç³»ï¼Œåé¢æ ¡éªŒçš„æ—¶å€™éå† vector é‡Œé¢æ‰€æœ‰çš„å€¼ï¼Œä¸€ä¸ªä¸ªæ ¡éªŒã€‚<br>\n2ã€ç”±äºæ¯ä¸ªä¸ç­‰å¼å…³ç³»åªæœ‰&quot;&lt;â€œæˆ–è€…â€&lt;=&quot;ï¼Œè¯´æ˜è¿™ä¸ªå…³ç³»æ˜¯é€’å¢çš„ï¼Œæ‰€ä»¥æˆ‘ç”¨äº† multimap&lt;intï¼Œstring&gt;æ¥å­˜å‚¨è¿™ç§å…³ç³»ï¼ˆmultimap å¯¹äº key æ˜¯è‡ªå¢é•¿æ’åºï¼Œå¹¶ä¸”å¯ä»¥å­˜å‚¨ç›¸åŒçš„ keyï¼‰ã€‚æ¥çœ‹çœ‹æˆ‘å¯¹å…³ç³»å¼çš„ä¸€ä¸ªè½¬æ¢å‡½æ•°ï¼š</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">multimap&lt;int,string&gt; convertStrToMap(string operation)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  multimap&lt;int,string&gt; mapOp;</span><br><span class=\"line\">Â  Â  size_t len = operation.length();</span><br><span class=\"line\">Â  Â  int rank = 0;</span><br><span class=\"line\">Â  Â  int prior = 0;</span><br><span class=\"line\">Â  Â  for (int i = 0; i &lt; len; i++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  char letter = operation[i];</span><br><span class=\"line\">Â  Â  Â  Â  if (letter == &apos;&lt;&apos;) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  string str = operation.substr(prior, i - prior);</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  mapOp.insert(make_pair(rank, str));</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  if (i - prior == 1) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  if (str[0] &gt;= &apos;A&apos; &amp;&amp; str[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  varMap.insert(make_pair(str[0], 0));</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  prior = i + 1;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  rank++;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  if (letter == &apos;=&apos;) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  prior = i + 1;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  rank--;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  string str = operation.substr(prior, len - prior);</span><br><span class=\"line\">Â  Â  mapOp.insert(make_pair(rank, str));</span><br><span class=\"line\">Â  Â  if (len - prior == 1) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  if (str[0] &gt;= &apos;A&apos; &amp;&amp; str[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  varMap.insert(make_pair(str[0], 0));</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  return mapOp;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¿”å›çš„ mapOp å°±æ˜¯å°† string ç±»å‹çš„å…³ç³»å¼è½¬æ¢åçš„ multimapï¼Œè¿™é‡Œçš„ key æ˜¯ int ç±»å‹ä»£è¡¨è¯¥å˜é‡æˆ–è€…æ•°å­—æ˜¯åœ¨å…³ç³»å¼ä»€ä¹ˆå±‚çº§ï¼Œvalue æ˜¯ string ç±»å‹æ–¹ä¾¿åé¢è½¬æ¢æˆæ•°å­—è¿›è¡Œæ¯”è¾ƒã€‚ä¾‹å¦‚ï¼ŒA&lt;B&lt;=Eï¼Œåœ¨ multimap ä¸­ä¼šå­˜ä¸ºï½›0:A,1:B,1:Eï½ã€‚è¿™æ®µä»£ç è¿˜æœ‰ä¸ª varMap å˜é‡ï¼Œå®ƒæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œç”¨æ¥è®°å½•å…³ç³»å¼ä¸­å‡ºç°çš„å˜é‡ï¼ˆé¢˜ç›®è§„å®šäº†å˜é‡åªèƒ½å¤Ÿæ˜¯ Aï¼Zï¼‰ã€‚<br>\n3ã€æœ€åå°±æ˜¯è¾“å…¥æ•°æ®ï¼Œæ›´æ–° varMapï¼Œç„¶åæ ¹æ®å…³ç³»å¼æ¯”è¾ƒçœ‹æ˜¯å¦æ»¡è¶³ï¼Œè¾“å‡ºç»“æœã€‚ä»£ç ï¼š</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int findValue(string input)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  if (input.size() == 1 &amp;&amp; input[0] &gt;= &apos;A&apos; &amp;&amp; input[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  return varMap[input[0]];</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  return atoi(input.c_str());</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void checker(vector&lt;multimap&lt;int,string&gt;&gt; opVec)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  bool pass = true;</span><br><span class=\"line\">Â  Â  for (int i = 0; i &lt; opVec.size(); i++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  multimap&lt;int,string&gt; operation = opVec[i];</span><br><span class=\"line\">Â  Â  Â  Â  multimap&lt;int,string&gt;::iterator it;</span><br><span class=\"line\">Â  Â  Â  Â  int rank1 = -1, rank2 = -1;</span><br><span class=\"line\">Â  Â  Â  Â  int value1, value2;</span><br><span class=\"line\">Â  Â  Â  Â  string var1, var2;</span><br><span class=\"line\">Â  Â  Â  Â  for (it = operation.begin(); it !=operation.end(); it++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  if (rank1 == -1) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  rank1 = it-&gt;first;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  var1 = it-&gt;second;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  continue;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  rank2 = it-&gt;first;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  var2 = it-&gt;second;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  value1 = findValue(var1);</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  value2 = findValue(var2);</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  if (rank1 == rank2) &#123; // &lt;=</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  if (value1 &lt;= value2) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = true;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  else</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = false;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  else // &lt;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  if (value1 &lt; value2) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = true;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  else</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = false;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â  Â  Â  Â  Â </span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  if (!pass) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  break;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â  Â  Â  Â  Â </span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  var1 = var2;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  rank1 = rank2;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â  Â  Â </span><br><span class=\"line\">Â  Â  Â  Â  if (!pass) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  break;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  if (pass) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  cout&lt;&lt;&quot;Yes&quot;&lt;&lt;endl;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  else</span><br><span class=\"line\">Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  cout&lt;&lt;&quot;No&quot;&lt;&lt;endl;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ç”±äºå‰é¢å…³ç³»å¼å·²ç»æŒ‰ç»“æ„å­˜å‚¨å¥½äº†ï¼Œæ‰€ä»¥åªéœ€è¦ä¸€æ­¥æ­¥æ¯”è¾ƒæ ¡éªŒå³å¯ã€‚å±‚çº§ä¸€æ ·çš„å˜é‡ï¼Œvalue æƒ³ç­‰é€šè¿‡ï¼Œå±‚çº§ä¸ä¸€æ ·çš„ï¼Œvalue1&lt;value2 å³å¯ã€‚</p>\n<p>çœ‹ä¸€ä¸‹åˆ¤å®šç»“æœï¼š<br>\n<img src=\"http://upload-images.jianshu.io/upload_images/2641798-645fb746e176c24b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"\"></p>\n<p>å®Œæ•´ä»£ç ï¼š</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">//  main.cpp</span><br><span class=\"line\">//  Constraint Checker</span><br><span class=\"line\">//</span><br><span class=\"line\">//  Created by Jiao Liu on 7/18/16.</span><br><span class=\"line\">//  Copyright Â© 2016 ChangHong. All rights reserved.</span><br><span class=\"line\">//</span><br><span class=\"line\"></span><br><span class=\"line\">#include &lt;map&gt;</span><br><span class=\"line\">#include &lt;vector&gt;</span><br><span class=\"line\">#include &lt;string&gt;</span><br><span class=\"line\">#include &lt;stdio.h&gt;</span><br><span class=\"line\">#include &lt;iostream&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">using namespace std;</span><br><span class=\"line\">map&lt;char,int&gt; varMap;</span><br><span class=\"line\"></span><br><span class=\"line\">multimap&lt;int,string&gt; convertStrToMap(string operation)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    multimap&lt;int,string&gt; mapOp;</span><br><span class=\"line\">    size_t len = operation.length();</span><br><span class=\"line\">    int rank = 0;</span><br><span class=\"line\">    int prior = 0;</span><br><span class=\"line\">    for (int i = 0; i &lt; len; i++) &#123;</span><br><span class=\"line\">        char letter = operation[i];</span><br><span class=\"line\">        if (letter == &apos;&lt;&apos;) &#123;</span><br><span class=\"line\">            string str = operation.substr(prior, i - prior);</span><br><span class=\"line\">            mapOp.insert(make_pair(rank, str));</span><br><span class=\"line\">            if (i - prior == 1) &#123;</span><br><span class=\"line\">                if (str[0] &gt;= &apos;A&apos; &amp;&amp; str[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class=\"line\">                    varMap.insert(make_pair(str[0], 0));</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            prior = i + 1;</span><br><span class=\"line\">            rank++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        if (letter == &apos;=&apos;) &#123;</span><br><span class=\"line\">            prior = i + 1;</span><br><span class=\"line\">            rank--;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    string str = operation.substr(prior, len - prior);</span><br><span class=\"line\">    mapOp.insert(make_pair(rank, str));</span><br><span class=\"line\">    if (len - prior == 1) &#123;</span><br><span class=\"line\">        if (str[0] &gt;= &apos;A&apos; &amp;&amp; str[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class=\"line\">            varMap.insert(make_pair(str[0], 0));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return mapOp;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">int findValue(string input)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (input.size() == 1 &amp;&amp; input[0] &gt;= &apos;A&apos; &amp;&amp; input[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class=\"line\">        return varMap[input[0]];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return atoi(input.c_str());</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void checker(vector&lt;multimap&lt;int,string&gt;&gt; opVec)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    bool pass = true;</span><br><span class=\"line\">    for (int i = 0; i &lt; opVec.size(); i++) &#123;</span><br><span class=\"line\">        multimap&lt;int,string&gt; operation = opVec[i];</span><br><span class=\"line\">        multimap&lt;int,string&gt;::iterator it;</span><br><span class=\"line\">        int rank1 = -1, rank2 = -1;</span><br><span class=\"line\">        int value1, value2;</span><br><span class=\"line\">        string var1, var2;</span><br><span class=\"line\">        for (it = operation.begin(); it !=operation.end(); it++) &#123;</span><br><span class=\"line\">            if (rank1 == -1) &#123;</span><br><span class=\"line\">                rank1 = it-&gt;first;</span><br><span class=\"line\">                var1 = it-&gt;second;</span><br><span class=\"line\">                continue;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            rank2 = it-&gt;first;</span><br><span class=\"line\">            var2 = it-&gt;second;</span><br><span class=\"line\">            value1 = findValue(var1);</span><br><span class=\"line\">            value2 = findValue(var2);</span><br><span class=\"line\">            if (rank1 == rank2) &#123; // &lt;=</span><br><span class=\"line\">                if (value1 &lt;= value2) &#123;</span><br><span class=\"line\">                    pass = true;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                else</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    pass = false;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            else // &lt;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                if (value1 &lt; value2) &#123;</span><br><span class=\"line\">                    pass = true;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                else</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    pass = false;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            if (!pass) &#123;</span><br><span class=\"line\">                break;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            var1 = var2;</span><br><span class=\"line\">            rank1 = rank2;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        if (!pass) &#123;</span><br><span class=\"line\">            break;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (pass) &#123;</span><br><span class=\"line\">        cout&lt;&lt;&quot;Yes&quot;&lt;&lt;endl;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    else</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        cout&lt;&lt;&quot;No&quot;&lt;&lt;endl;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">int main()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    int N;</span><br><span class=\"line\">    scanf(&quot;%d&quot;,&amp;N);</span><br><span class=\"line\">    vector&lt;multimap&lt;int,string&gt;&gt; opVec;</span><br><span class=\"line\">    while (N--) &#123;</span><br><span class=\"line\">        string op;</span><br><span class=\"line\">        cin &gt;&gt; op;</span><br><span class=\"line\">        multimap&lt;int,string&gt; operation = convertStrToMap(op);</span><br><span class=\"line\">        opVec.push_back(operation);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    int T;</span><br><span class=\"line\">    scanf(&quot;%d&quot;,&amp;T);</span><br><span class=\"line\">    while (T--) &#123;</span><br><span class=\"line\">        size_t numOfVar = varMap.size();</span><br><span class=\"line\">        while (numOfVar--) &#123;</span><br><span class=\"line\">            char letter;</span><br><span class=\"line\">            int value;</span><br><span class=\"line\">            cin&gt;&gt;letter&gt;&gt;value;</span><br><span class=\"line\">            varMap[letter] = value;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        checker(opVec);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>é¢˜ç›®æ¥æºäº 2016 å¹´å¾®è½¯æ¢æ˜Ÿå¤ä»¤è¥åœ¨çº¿æŠ€æœ¯ç¬”è¯•ï¼Œç¬”è¯•ç»“æœæ˜¯ä½œä¸ºç”„é€‰å¾®è½¯ 2016 æ ¡æ‹›æŠ€æœ¯ç±»èŒä½çš„é‡è¦å‚è€ƒä¹‹ä¸€ã€‚è¿™ä¸ªè€ƒè¯•å¯¹äºæƒ³è¿›å¾®è½¯å®ä¹ æˆ–å·¥ä½œçš„åœ¨æ ¡ç”Ÿæ¥è¯´è¿˜æ˜¯è›®é‡è¦çš„ã€‚<br>\næœ¬äººé—²æ¥æ— èŠä¹Ÿæ³¨å†Œäº†å¸å·å°è¯•äº†ç¬¬ä¸€é¢˜ï¼Œä»£ç ç”¨ C++å®ç°ï¼Œæ¯”è¾ƒä¹±ï¼Œä¾¥å¹¸ä¸€æ¬¡é€šè¿‡ã€‚ä¸‹é¢ç›´æ¥çœ‹ä¸€ä¸‹è€ƒé¢˜ã€‚</p>","more":"<p><img src=\"http://upload-images.jianshu.io/upload_images/2641798-0227972e7244b9eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"\"></p>\n<hr>\n<p>é¢˜ç›®ï¼š</p>\n<p>æ—¶é—´é™åˆ¶:10000ms<br>\nå•ç‚¹æ—¶é™:1000ms<br>\nå†…å­˜é™åˆ¶:256MB</p>\n<p>æè¿°<br>\nGiven a set of constraints likeÂ <strong>0&lt;N&lt;=M&lt;=100</strong>Â and values for all the variables, write a checker program to determine if the constraints are satisfied.<br>\nMore precisely, the format of constraints is:<br>\n<strong>token op token op â€¦ op token</strong><br>\nwhere eachÂ tokenÂ is either a constant integer or a variable represented by a capital letter and eachÂ op is either less-than ( &lt; ) or less-than-or-equal-to ( &lt;= ).Â <br>\nè¾“å…¥<br>\nThe first line contains an integerÂ N, the number of constraints. (1 â‰¤Â Nâ‰¤ 20)<br>\nEach of the followingÂ N lines contains a constraint in the previous mentioned format.<br>\nThen follows an integerÂ T, the number of assignments to check. (1 â‰¤Â Tâ‰¤ 50)<br>\nEach assignment occupiesÂ K lines whereÂ K is the number of variables in the constraints.<br>\nEach line contains a capital letter and an integer, representing a variable and its value.<br>\nIt is guaranteed that:</p>\n<ol>\n<li>Every token in the constraints is either an integer from 0 to 1000000 or an variable represented by a capital letter from â€˜Aâ€™ to â€˜Zâ€™.</li>\n<li>There is no space in the constraints.</li>\n<li>In each assignment every variable appears exactly once and its value is from 0 to 1000000.Â <br>\nè¾“å‡º<br>\nFor each assignment output Yes or No indicating if the constraints are satisfied.</li>\n</ol>\n<blockquote>\n<p>æ ·ä¾‹è¾“å…¥<br>\n2<br>\nA&lt;B&lt;=E<br>\n3&lt;=E&lt;5<br>\n2<br>\nA 1<br>\nB 2<br>\nE 3<br>\nA 3<br>\nB 5<br>\nE 10</p>\n</blockquote>\n<blockquote>\n<p>æ ·ä¾‹è¾“å‡º<br>\nYes<br>\nNo</p>\n</blockquote>\n<p>è§£é‡Šï¼š<br>\nè¿™é“é¢˜é¢˜ç›®è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯æ ¹æ®è¾“å…¥çš„è‹¥å¹²ä¸ªä¸ç­‰å¼ï¼Œæ ¡éªŒåé¢è¾“å…¥çš„æ•°æ®æ˜¯å¦éƒ½æ»¡è¶³å‰é¢çš„ä¸ç­‰å¼ï¼Œæ»¡è¶³å°±è¾“å‡º Yesï¼Œåªè¦æœ‰ä¸€ä¸ªä¸æ»¡è¶³å°±è¾“å‡º Noã€‚å¦‚â€œA&lt;B&lt;=Eï¼Œ3&lt;=E&lt;5â€è¿™ä¸ªä¸¤ä¸ªå…³ç³»å¼ï¼Œå¯¹äºè¾“å…¥ A ï¼ 1ï¼ŒB ï¼ 2ï¼ŒE ï¼ 3 è‚¯å®šæ»¡è¶³ï¼Œå› ä¸º 1&lt;2&lt;=3ï¼Œ3&lt;=3&lt;5ã€‚è€Œ A ï¼ 3, B ï¼ 5ï¼ŒE=10 å°±ä¸æ»¡è¶³ï¼Œå› ä¸º 3&lt;=10&lt;5 ä¸æˆç«‹ã€‚</p>\n<p>åˆ†æï¼š<br>\n1ã€ç”±äºæœ‰æ‰€æœ‰ä¸ç­‰å¼éƒ½è¦é€šè¿‡æ ¡éªŒæ‰è¾“å‡º Yesï¼Œé‚£ä¹ˆä»£è¡¨æˆ‘ä»¬è¦åœ¨è¾“å…¥çš„æ—¶å€™å°±å°†æ‰€æœ‰ä¸ç­‰å¼å…³ç³»éƒ½å­˜èµ·æ¥æ–¹ä¾¿åé¢æ ¡éªŒï¼Œè¿™é‡Œæˆ‘ç”¨äº†ä¸€ä¸ª vector æ¥å­˜å‚¨è¿™äº›å…³ç³»ï¼Œåé¢æ ¡éªŒçš„æ—¶å€™éå† vector é‡Œé¢æ‰€æœ‰çš„å€¼ï¼Œä¸€ä¸ªä¸ªæ ¡éªŒã€‚<br>\n2ã€ç”±äºæ¯ä¸ªä¸ç­‰å¼å…³ç³»åªæœ‰&quot;&lt;â€œæˆ–è€…â€&lt;=&quot;ï¼Œè¯´æ˜è¿™ä¸ªå…³ç³»æ˜¯é€’å¢çš„ï¼Œæ‰€ä»¥æˆ‘ç”¨äº† multimap&lt;intï¼Œstring&gt;æ¥å­˜å‚¨è¿™ç§å…³ç³»ï¼ˆmultimap å¯¹äº key æ˜¯è‡ªå¢é•¿æ’åºï¼Œå¹¶ä¸”å¯ä»¥å­˜å‚¨ç›¸åŒçš„ keyï¼‰ã€‚æ¥çœ‹çœ‹æˆ‘å¯¹å…³ç³»å¼çš„ä¸€ä¸ªè½¬æ¢å‡½æ•°ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">multimap&lt;int,string&gt; convertStrToMap(string operation)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  multimap&lt;int,string&gt; mapOp;</span><br><span class=\"line\">Â  Â  size_t len = operation.length();</span><br><span class=\"line\">Â  Â  int rank = 0;</span><br><span class=\"line\">Â  Â  int prior = 0;</span><br><span class=\"line\">Â  Â  for (int i = 0; i &lt; len; i++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  char letter = operation[i];</span><br><span class=\"line\">Â  Â  Â  Â  if (letter == &apos;&lt;&apos;) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  string str = operation.substr(prior, i - prior);</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  mapOp.insert(make_pair(rank, str));</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  if (i - prior == 1) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  if (str[0] &gt;= &apos;A&apos; &amp;&amp; str[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  varMap.insert(make_pair(str[0], 0));</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  prior = i + 1;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  rank++;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  if (letter == &apos;=&apos;) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  prior = i + 1;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  rank--;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  string str = operation.substr(prior, len - prior);</span><br><span class=\"line\">Â  Â  mapOp.insert(make_pair(rank, str));</span><br><span class=\"line\">Â  Â  if (len - prior == 1) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  if (str[0] &gt;= &apos;A&apos; &amp;&amp; str[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  varMap.insert(make_pair(str[0], 0));</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  return mapOp;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¿”å›çš„ mapOp å°±æ˜¯å°† string ç±»å‹çš„å…³ç³»å¼è½¬æ¢åçš„ multimapï¼Œè¿™é‡Œçš„ key æ˜¯ int ç±»å‹ä»£è¡¨è¯¥å˜é‡æˆ–è€…æ•°å­—æ˜¯åœ¨å…³ç³»å¼ä»€ä¹ˆå±‚çº§ï¼Œvalue æ˜¯ string ç±»å‹æ–¹ä¾¿åé¢è½¬æ¢æˆæ•°å­—è¿›è¡Œæ¯”è¾ƒã€‚ä¾‹å¦‚ï¼ŒA&lt;B&lt;=Eï¼Œåœ¨ multimap ä¸­ä¼šå­˜ä¸ºï½›0:A,1:B,1:Eï½ã€‚è¿™æ®µä»£ç è¿˜æœ‰ä¸ª varMap å˜é‡ï¼Œå®ƒæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œç”¨æ¥è®°å½•å…³ç³»å¼ä¸­å‡ºç°çš„å˜é‡ï¼ˆé¢˜ç›®è§„å®šäº†å˜é‡åªèƒ½å¤Ÿæ˜¯ Aï¼Zï¼‰ã€‚<br>\n3ã€æœ€åå°±æ˜¯è¾“å…¥æ•°æ®ï¼Œæ›´æ–° varMapï¼Œç„¶åæ ¹æ®å…³ç³»å¼æ¯”è¾ƒçœ‹æ˜¯å¦æ»¡è¶³ï¼Œè¾“å‡ºç»“æœã€‚ä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int findValue(string input)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  if (input.size() == 1 &amp;&amp; input[0] &gt;= &apos;A&apos; &amp;&amp; input[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  return varMap[input[0]];</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  return atoi(input.c_str());</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void checker(vector&lt;multimap&lt;int,string&gt;&gt; opVec)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  bool pass = true;</span><br><span class=\"line\">Â  Â  for (int i = 0; i &lt; opVec.size(); i++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  multimap&lt;int,string&gt; operation = opVec[i];</span><br><span class=\"line\">Â  Â  Â  Â  multimap&lt;int,string&gt;::iterator it;</span><br><span class=\"line\">Â  Â  Â  Â  int rank1 = -1, rank2 = -1;</span><br><span class=\"line\">Â  Â  Â  Â  int value1, value2;</span><br><span class=\"line\">Â  Â  Â  Â  string var1, var2;</span><br><span class=\"line\">Â  Â  Â  Â  for (it = operation.begin(); it !=operation.end(); it++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  if (rank1 == -1) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  rank1 = it-&gt;first;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  var1 = it-&gt;second;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  continue;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  rank2 = it-&gt;first;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  var2 = it-&gt;second;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  value1 = findValue(var1);</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  value2 = findValue(var2);</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  if (rank1 == rank2) &#123; // &lt;=</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  if (value1 &lt;= value2) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = true;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  else</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = false;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  else // &lt;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  if (value1 &lt; value2) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = true;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  else</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  pass = false;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â  Â  Â  Â  Â </span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  if (!pass) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  break;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â  Â  Â  Â  Â </span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  var1 = var2;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  rank1 = rank2;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â  Â  Â </span><br><span class=\"line\">Â  Â  Â  Â  if (!pass) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  break;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  if (pass) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  cout&lt;&lt;&quot;Yes&quot;&lt;&lt;endl;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  else</span><br><span class=\"line\">Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  cout&lt;&lt;&quot;No&quot;&lt;&lt;endl;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ç”±äºå‰é¢å…³ç³»å¼å·²ç»æŒ‰ç»“æ„å­˜å‚¨å¥½äº†ï¼Œæ‰€ä»¥åªéœ€è¦ä¸€æ­¥æ­¥æ¯”è¾ƒæ ¡éªŒå³å¯ã€‚å±‚çº§ä¸€æ ·çš„å˜é‡ï¼Œvalue æƒ³ç­‰é€šè¿‡ï¼Œå±‚çº§ä¸ä¸€æ ·çš„ï¼Œvalue1&lt;value2 å³å¯ã€‚</p>\n<p>çœ‹ä¸€ä¸‹åˆ¤å®šç»“æœï¼š<br>\n<img src=\"http://upload-images.jianshu.io/upload_images/2641798-645fb746e176c24b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"\"></p>\n<p>å®Œæ•´ä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">//  main.cpp</span><br><span class=\"line\">//  Constraint Checker</span><br><span class=\"line\">//</span><br><span class=\"line\">//  Created by Jiao Liu on 7/18/16.</span><br><span class=\"line\">//  Copyright Â© 2016 ChangHong. All rights reserved.</span><br><span class=\"line\">//</span><br><span class=\"line\"></span><br><span class=\"line\">#include &lt;map&gt;</span><br><span class=\"line\">#include &lt;vector&gt;</span><br><span class=\"line\">#include &lt;string&gt;</span><br><span class=\"line\">#include &lt;stdio.h&gt;</span><br><span class=\"line\">#include &lt;iostream&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">using namespace std;</span><br><span class=\"line\">map&lt;char,int&gt; varMap;</span><br><span class=\"line\"></span><br><span class=\"line\">multimap&lt;int,string&gt; convertStrToMap(string operation)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    multimap&lt;int,string&gt; mapOp;</span><br><span class=\"line\">    size_t len = operation.length();</span><br><span class=\"line\">    int rank = 0;</span><br><span class=\"line\">    int prior = 0;</span><br><span class=\"line\">    for (int i = 0; i &lt; len; i++) &#123;</span><br><span class=\"line\">        char letter = operation[i];</span><br><span class=\"line\">        if (letter == &apos;&lt;&apos;) &#123;</span><br><span class=\"line\">            string str = operation.substr(prior, i - prior);</span><br><span class=\"line\">            mapOp.insert(make_pair(rank, str));</span><br><span class=\"line\">            if (i - prior == 1) &#123;</span><br><span class=\"line\">                if (str[0] &gt;= &apos;A&apos; &amp;&amp; str[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class=\"line\">                    varMap.insert(make_pair(str[0], 0));</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            prior = i + 1;</span><br><span class=\"line\">            rank++;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        if (letter == &apos;=&apos;) &#123;</span><br><span class=\"line\">            prior = i + 1;</span><br><span class=\"line\">            rank--;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    string str = operation.substr(prior, len - prior);</span><br><span class=\"line\">    mapOp.insert(make_pair(rank, str));</span><br><span class=\"line\">    if (len - prior == 1) &#123;</span><br><span class=\"line\">        if (str[0] &gt;= &apos;A&apos; &amp;&amp; str[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class=\"line\">            varMap.insert(make_pair(str[0], 0));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return mapOp;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">int findValue(string input)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (input.size() == 1 &amp;&amp; input[0] &gt;= &apos;A&apos; &amp;&amp; input[0] &lt;= &apos;Z&apos;) &#123;</span><br><span class=\"line\">        return varMap[input[0]];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return atoi(input.c_str());</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void checker(vector&lt;multimap&lt;int,string&gt;&gt; opVec)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    bool pass = true;</span><br><span class=\"line\">    for (int i = 0; i &lt; opVec.size(); i++) &#123;</span><br><span class=\"line\">        multimap&lt;int,string&gt; operation = opVec[i];</span><br><span class=\"line\">        multimap&lt;int,string&gt;::iterator it;</span><br><span class=\"line\">        int rank1 = -1, rank2 = -1;</span><br><span class=\"line\">        int value1, value2;</span><br><span class=\"line\">        string var1, var2;</span><br><span class=\"line\">        for (it = operation.begin(); it !=operation.end(); it++) &#123;</span><br><span class=\"line\">            if (rank1 == -1) &#123;</span><br><span class=\"line\">                rank1 = it-&gt;first;</span><br><span class=\"line\">                var1 = it-&gt;second;</span><br><span class=\"line\">                continue;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            rank2 = it-&gt;first;</span><br><span class=\"line\">            var2 = it-&gt;second;</span><br><span class=\"line\">            value1 = findValue(var1);</span><br><span class=\"line\">            value2 = findValue(var2);</span><br><span class=\"line\">            if (rank1 == rank2) &#123; // &lt;=</span><br><span class=\"line\">                if (value1 &lt;= value2) &#123;</span><br><span class=\"line\">                    pass = true;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                else</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    pass = false;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            else // &lt;</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">                if (value1 &lt; value2) &#123;</span><br><span class=\"line\">                    pass = true;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                else</span><br><span class=\"line\">                &#123;</span><br><span class=\"line\">                    pass = false;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            if (!pass) &#123;</span><br><span class=\"line\">                break;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">            var1 = var2;</span><br><span class=\"line\">            rank1 = rank2;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        if (!pass) &#123;</span><br><span class=\"line\">            break;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (pass) &#123;</span><br><span class=\"line\">        cout&lt;&lt;&quot;Yes&quot;&lt;&lt;endl;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    else</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        cout&lt;&lt;&quot;No&quot;&lt;&lt;endl;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">int main()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    int N;</span><br><span class=\"line\">    scanf(&quot;%d&quot;,&amp;N);</span><br><span class=\"line\">    vector&lt;multimap&lt;int,string&gt;&gt; opVec;</span><br><span class=\"line\">    while (N--) &#123;</span><br><span class=\"line\">        string op;</span><br><span class=\"line\">        cin &gt;&gt; op;</span><br><span class=\"line\">        multimap&lt;int,string&gt; operation = convertStrToMap(op);</span><br><span class=\"line\">        opVec.push_back(operation);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    int T;</span><br><span class=\"line\">    scanf(&quot;%d&quot;,&amp;T);</span><br><span class=\"line\">    while (T--) &#123;</span><br><span class=\"line\">        size_t numOfVar = varMap.size();</span><br><span class=\"line\">        while (numOfVar--) &#123;</span><br><span class=\"line\">            char letter;</span><br><span class=\"line\">            int value;</span><br><span class=\"line\">            cin&gt;&gt;letter&gt;&gt;value;</span><br><span class=\"line\">            varMap[letter] = value;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        checker(opVec);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"iOSå®ç°ç±»Prismaè½¯ä»¶","date":"2017-04-28T02:42:21.000Z","toc":true,"thumbnail":"http://upload-images.jianshu.io/upload_images/2641798-ab4749c205d9f6f8.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240","_content":"\n## å‰è¨€\n\n---\n\nPrisma åœ¨ 2016 ä¸Šçº¿åå°±å¤§ç«ï¼Œè¯¥ APP æ˜¯åˆ©ç”¨[ç¥ç»ç½‘ç»œ](https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C)å’Œ[äººå·¥æ™ºèƒ½](https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD)æŠ€æœ¯ï¼Œä¸ºæ™®é€šç…§ç‰‡åŠ å…¥è‰ºæœ¯æ•ˆæœçš„ç…§ç‰‡ç¼–è¾‘è½¯ä»¶ã€‚\n\nåŒå¹´ Google ä¹Ÿå‘å¸ƒäº†ä¸€ç¯‡ã€ŠA LEARNED REPRESENTATION FOR ARTISTIC STYLEã€‹è®ºæ–‡ï¼Œå®ç°äº†å‰å‘è¿ç®—ä¸€æ¬¡ä¸ºç…§ç‰‡æ•´åˆå¤šç§è‰ºæœ¯é£æ ¼çš„åŠŸèƒ½ï¼Œå¹¶ä¸”ä¼˜åŒ–äº†å†…å­˜ä½¿ç”¨å’Œè¿ç®—é€Ÿåº¦ï¼Œå¯ä»¥åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå¿«é€Ÿè¿ç®—ã€‚\n\næœ€è¿‘åœ¨ç ”ç©¶ Tensorflow æ•´åˆ iOS è¿‡ç¨‹ä¸­ï¼Œå‘ç° google å…¬å¼€äº†è®ºæ–‡å®ç°çš„æºç å’Œè®­ç»ƒæ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå·±å†™ä¸€ä¸ªå‰å‘è¿ç®—å›¾ï¼Œæ•´åˆå…¶è®­ç»ƒå‚æ•°å°±å¯ä»¥å¿«é€Ÿå®ç°ç±» Prisma çš„åº”ç”¨ã€‚\n\nä¸‹é¢å°±ä»‹ç»ä¸€ä¸‹å¦‚ä½•åœ¨ iPhone ä¸Šè·‘ä¸€ä¸ªè‡ªå·±çš„**\"Prisma\"**ã€‚\n\n<!-- more -->\n\n![æ‹›è´¢å’Œå’•å™œ](http://upload-images.jianshu.io/upload_images/2641798-ab4749c205d9f6f8.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n## å‡†å¤‡å·¥ä½œ\n\n---\n\n1. å®‰è£…[Tensorflow](https://www.tensorflow.org/versions/r0.12/get_started/os_setup.html#download-and-setup)ï¼Œè¿™ä¸ªå®˜ç½‘ä¸Šæœ‰è¯¦ç»†æ•™ç¨‹è¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚\n2. æ­å»º[iOS+Tensorflow](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/ios_examples/)å·¥ç¨‹ï¼Œè¿™ä¸ªå¯ä»¥æ ¹æ® Git ä¸Šçš„æ­¥éª¤å®ç°ï¼Œä¹Ÿå¯ä»¥å‚è€ƒå®˜æ–¹çš„ Demo ç¨‹åºé…ç½®ã€‚ï¼ˆè¿™ä¸ªè¿‡ç¨‹æœ‰å¾ˆå¤šå‘ï¼Œå¤šæ¬¡å°è¯•ï¼Œåº”è¯¥å¯ä»¥é…ç½®æˆåŠŸï¼‰\n3. ä¸‹è½½æ¨¡å‹ï¼Œæœ¬æ¬¡ä½¿ç”¨çš„æ¨¡å‹æ˜¯[image_stylization](https://github.com/tensorflow/magenta/tree/master/magenta/models/image_stylization)ï¼Œgoogle å·²å¼€æºåœ¨ GitHub ä¸Šã€‚\n4. ä¸‹è½½è®­ç»ƒå¥½çš„å‚æ•°ï¼ŒGoogle æä¾›äº† 2 ä¸ªï¼š\n   [Monet](http://download.magenta.tensorflow.org/models/multistyle-pastiche-generator-monet.ckpt)\n   [Varied](http://download.magenta.tensorflow.org/models/multistyle-pastiche-generator-varied.ckpt)\n   Monet è®­ç»ƒäº† 10 ç§è‰ºæœ¯å›¾ç‰‡ï¼ŒVaried è®­ç»ƒäº† 32 ç§ã€‚\n   å½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±è®­ç»ƒè‰ºæœ¯å›¾ç‰‡ï¼Œä½†æ˜¯å¾—ä¸‹è½½ VGG çš„è®­ç»ƒå‚æ•°å’Œ ImageNet æ•°æ®ï¼Œç„¶åè‡ªå·±è®­ç»ƒï¼Œæ¯”è¾ƒèŠ±æ—¶é—´ã€‚\n\n## æ„å»ºè®¡ç®—å›¾\n\n---\n\nè™½ç„¶ Google æä¾›äº†æ¨¡å‹çš„æºç ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰åœ¨æºç ä¸­è¾“å‡ºè¿ç®—å›¾å·²æ–¹ä¾¿è¿ç§»åˆ°ç§»åŠ¨è®¾å¤‡ä¸­ä½¿ç”¨ï¼ŒAndroid çš„ Demo ä¸­å€’æ˜¯æä¾›äº†ç”Ÿæˆçš„ pbï¼Œå¦‚ä½•è§‰å¾—è‡ªå·±å†™è®¡ç®—å›¾éº»çƒ¦å¯ä»¥ç›´æ¥æ‹·åˆ°è‡ªå·± iOS å·¥ç¨‹ä¸­ä½¿ç”¨ã€‚\n\næˆ‘è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ª python çš„å·¥ç¨‹ï¼Œç„¶åæŠŠ Google æºç ä¸­ model.py ç›¸å…³çš„æ–‡ä»¶éƒ½åŠ å…¥äº†å·¥ç¨‹ã€‚\næˆ‘çš„å»ºå›¾ä»£ç å¦‚ä¸‹ï¼š\n\n```\nimport numpy as np\nimport tensorflow as tf\nimport ast\nimport os\nfrom tensorflow.python import pywrap_tensorflow\n\nfrom matplotlib import pyplot\nfrom matplotlib.pyplot import imshow\n\nimport image_utils\nimport model\nimport ops\nimport argparse\nimport sys\n\n\nnum_styles = 32\nimgWidth = 512\nimgHeight = 512\nchannel = 3\ncheckpoint = \"/Users/Jiao/Desktop/TFProject/style-image/checkpoint/multistyle-pastiche-generator-varied.ckpt\"\n\ninputImage = tf.placeholder(tf.float32,shape=[None,imgWidth,imgHeight,channel],name=\"input\")\nstyles = tf.placeholder(tf.float32,shape=[num_styles],name=\"style\")\n\nwith tf.name_scope(\"\"):\n    transform = model.transform(inputImage,\n                            normalizer_fn=ops.weighted_instance_norm,\n                            normalizer_params={\n                                # 'weights': tf.constant(mixture),\n                                'weights' : styles,\n                                'num_categories': num_styles,\n                                'center': True,\n                                'scale': True})\n\nmodel_saver = tf.train.Saver(tf.global_variables())\n\nwith tf.Session() as sess:\n    tf.train.write_graph(sess.graph_def, \"/Users/Jiao/Desktop/TFProject/style-image/protobuf\", \"input.pb\")\n    #checkpoint = os.path.expanduser(checkpoint)\n    #if tf.gfile.IsDirectory(checkpoint):\n    #    checkpoint = tf.train.latest_checkpoint(checkpoint)\n    #    tf.logging.info('loading latest checkpoint file: {}'.format(checkpoint))\n    #model_saver.restore(sess, checkpoint)\n\n    #newstyle = np.zeros([num_styles], dtype=np.float32)\n    #newstyle[18] = 0.5\n    #newstyle[17] = 0.5\n    #newImage = np.zeros((1,imgWidth,imgHeight,channel))\n    #style_image = transform.eval(feed_dict={inputImage:newImage,styles:newstyle})\n    #style_image = style_image[0]\n    #imshow(style_image)\n    #pyplot.show()\n```\n\nè¿™é‡Œè¾“å…¥èŠ‚ç‚¹æ˜¯`input`å’Œ`style`ï¼Œè¾“å‡ºèŠ‚ç‚¹æ˜¯ model ä¸­çš„`transformer/expand/conv3/conv/Sigmoid`ã€‚\n\nåˆ°æ­¤å°±å°†æ¨¡å‹çš„è®¡ç®—å›¾ä¿å­˜åˆ°äº†æœ¬åœ°æ–‡ä»¶å¤¹ä¸­ã€‚\næ¥ä¸‹æ¥å°±æ˜¯å°†å›¾å’Œ ckpt ä¸­çš„å‚æ•°åˆå¹¶ï¼Œå¹¶ä¸”ç”Ÿæˆç§»åŠ¨ç«¯çš„å¯ä»¥ä½¿ç”¨çš„ pb æ–‡ä»¶ï¼Œè¿™ä¸€æ­¥å¯ä»¥å‚è€ƒæˆ‘ä¸Šä¸€ç¯‡æ–‡ç« [ã€ŠiOS+Tensorflow å®ç°å›¾åƒè¯†åˆ«ã€‹](http://www.jianshu.com/p/f096fe2212ce)ï¼Œå¾ˆå®¹æ˜“å°±å®ç°ã€‚\n\n## iOS å·¥ç¨‹\n\n---\n\nåœ¨ä¸Šé¢å‡†å¤‡å·¥ä½œä¸­ï¼Œå¦‚æœä½ å·²ç»æŒ‰æ­¥éª¤æ­å»ºå¥½ iOS+TF çš„å·¥ç¨‹ï¼Œè¿™é‡Œä½ åªéœ€è¦å¯¼å…¥ç”Ÿæˆçš„æœ€ç»ˆ pb æ–‡ä»¶å°±è¡Œäº†ã€‚å·¥ç¨‹ç»“æ„å¦‚å›¾ï¼š\n\n![XCodeå·¥ç¨‹](http://upload-images.jianshu.io/upload_images/2641798-ca34abd1c875504c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\nç„¶ååœ¨ iOS ä½¿ç”¨ pb æ–‡ä»¶ï¼Œæˆ‘è¿™é‡Œç›´æ¥å¯¼å…¥äº† Google æä¾›çš„`tensorflow_utils`ï¼Œä½¿ç”¨è¿™ä¸ªç±»é‡Œé¢çš„ LoadModel æ–¹æ³•å¯ä»¥å¾ˆå¿«çš„ç”Ÿæˆå«æœ‰è®¡ç®—å›¾çš„ sessionã€‚\n\n```\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    tensorflow::Status load_status;\n    load_status = LoadModel(@\"rounded_graph\", @\"pb\", &tf_session);\n    if (!load_status.ok()) {\n        LOG(FATAL) << \"Couldn't load model: \" << load_status;\n    }\n    currentStyle = 0;\n    isDone = true;\n    _styleImageView.layer.borderColor = [UIColor grayColor].CGColor;\n    _styleImageView.layer.borderWidth = 0.5;\n    _ogImageView.layer.borderColor = [UIColor grayColor].CGColor;\n    _ogImageView.layer.borderWidth = 0.5;\n}\n```\n\næœ€åå°±æ˜¯è·å–å›¾ç‰‡ï¼Œæ‰§è¡Œè¿ç®—ï¼Œç”Ÿæˆè‰ºæœ¯å›¾ç‰‡å±•ç¤ºã€‚è¿™é‡Œå›¾ç‰‡éœ€è¦è½¬æ¢æˆ bitmap ç„¶åè·å– data å€¼ï¼Œå±•ç¤ºå›¾ç‰‡ä¹Ÿæ˜¯ç›¸è¯†çš„è¿‡ç¨‹ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š\n\n```\n- (void)runCnn:(UIImage *)compressedImg\n{\n    unsigned char *pixels = [self getImagePixel:compressedImg];\n    int image_channels = 4;\n    tensorflow::Tensor image_tensor(\n                                    tensorflow::DT_FLOAT,\n                                    tensorflow::TensorShape(\n                                                            {1, wanted_input_height, wanted_input_width, wanted_input_channels}));\n    auto image_tensor_mapped = image_tensor.tensor<float, 4>();\n    tensorflow::uint8 *in = pixels;\n    float *out = image_tensor_mapped.data();\n    for (int y = 0; y < wanted_input_height; ++y) {\n        float *out_row = out + (y * wanted_input_width * wanted_input_channels);\n        for (int x = 0; x < wanted_input_width; ++x) {\n            tensorflow::uint8 *in_pixel =\n            in + (x * wanted_input_width * image_channels) + (y * image_channels);\n            float *out_pixel = out_row + (x * wanted_input_channels);\n            for (int c = 0; c < wanted_input_channels; ++c) {\n                out_pixel[c] = in_pixel[c];\n            }\n        }\n    }\n\n\n    tensorflow::Tensor style(tensorflow::DT_FLOAT, tensorflow::TensorShape({32}));\n    float *style_data = style.tensor<float, 1>().data();\n    memset(style_data, 0, sizeof(float) * 32);\n    style_data[currentStyle] = 1;\n\n    if (tf_session.get()) {\n        std::vector<tensorflow::Tensor> outputs;\n        tensorflow::Status run_status = tf_session->Run(\n                                                        {{contentNode, image_tensor},\n                                                            {styleNode, style}},\n                                                        {outputNode},\n                                                        {},\n                                                        &outputs);\n        if (!run_status.ok()) {\n            LOG(ERROR) << \"Running model failed:\" << run_status;\n            isDone = true;\n            free(pixels);\n        } else {\n            float *styledData = outputs[0].tensor<float,4>().data();\n            UIImage *styledImg = [self createImage:styledData];\n            dispatch_async(dispatch_get_main_queue(), ^{\n                _styleImageView.image = styledImg;\n                dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.3 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{\n                    isDone = true;\n                    free(pixels);\n                });\n            });\n        }\n    }\n}\n\n- (unsigned char *)getImagePixel:(UIImage *)image\n{\n    int width = image.size.width;\n    int height = image.size.height;\n    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();\n    unsigned char *rawData = (unsigned char*) calloc(height * width * 4, sizeof(unsigned char));\n    NSUInteger bytesPerPixel = 4;\n    NSUInteger bytesPerRow = bytesPerPixel * width;\n    NSUInteger bitsPerComponent = 8;\n    CGContextRef context = CGBitmapContextCreate(rawData, width, height,\n\n                                                 bitsPerComponent, bytesPerRow, colorSpace,\n\n                                                 kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);\n\n    CGColorSpaceRelease(colorSpace);\n    CGContextDrawImage(context, CGRectMake(0, 0, width, height), image.CGImage);\n    UIImage *ogImg = [UIImage imageWithCGImage:CGBitmapContextCreateImage(context)];\n    dispatch_async(dispatch_get_main_queue(), ^{\n        _ogImageView.image = ogImg;\n    });\n    CGContextRelease(context);\n    return rawData;\n}\n\n- (UIImage *)createImage:(float *)pixels\n{\n    unsigned char *rawData = (unsigned char*) calloc(wanted_input_height * wanted_input_width * 4, sizeof(unsigned char));\n    for (int y = 0; y < wanted_input_height; ++y) {\n        unsigned char *out_row = rawData + (y * wanted_input_width * 4);\n        for (int x = 0; x < wanted_input_width; ++x) {\n            float *in_pixel =\n            pixels + (x * wanted_input_width * 3) + (y * 3);\n            unsigned char *out_pixel = out_row + (x * 4);\n            for (int c = 0; c < wanted_input_channels; ++c) {\n                out_pixel[c] = in_pixel[c] * 255;\n            }\n            out_pixel[3] = UINT8_MAX;\n        }\n    }\n    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();\n    NSUInteger bytesPerPixel = 4;\n    NSUInteger bytesPerRow = bytesPerPixel * wanted_input_width;\n    NSUInteger bitsPerComponent = 8;\n    CGContextRef context = CGBitmapContextCreate(rawData, wanted_input_width, wanted_input_height,\n\n                                                 bitsPerComponent, bytesPerRow, colorSpace,\n\n                                                 kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);\n\n    CGColorSpaceRelease(colorSpace);\n    UIImage *retImg = [UIImage imageWithCGImage:CGBitmapContextCreateImage(context)];\n    CGContextRelease(context);\n    free(rawData);\n    return retImg;\n}\n```\n\n_è¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼Œå‰é¢ python å·¥ç¨‹å·²ç»å®šä¹‰äº†ï¼Œæˆ‘çš„è¾“å…¥å’Œè¾“å‡ºå›¾ç‰‡çš„å¤§å°æ˜¯ 512âœ•512ã€‚_\n\n## è¿æ¥ iPhoneï¼Œè¿è¡Œå·¥ç¨‹\n\n---\n\næœ€åè¿ä¸Šæ‰‹æœºè¿è¡Œï¼Œå°±å¯ä»¥è‡ªå·±åˆ›å»ºè‡ªå·±çš„è‰ºæœ¯ç±»å›¾ç‰‡äº†ã€‚ğŸ˜Š\n\næ”¾å‡ å¼ è¿è¡Œæ•ˆæœå›¾ï¼š\n![æˆªå›¾1](http://upload-images.jianshu.io/upload_images/2641798-d105c1089f62c634.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![æˆªå›¾2](http://upload-images.jianshu.io/upload_images/2641798-6b722e433ca66c5b.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![æˆªå›¾3](http://upload-images.jianshu.io/upload_images/2641798-1b5acd6620b5b447.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n","source":"_posts/iOSå®ç°ç±»Prismaè½¯ä»¶.md","raw":"---\ntitle: iOSå®ç°ç±»Prismaè½¯ä»¶\ndate: 2017-04-28 10:42:21\ntags: [ç§»åŠ¨ç«¯, æœºå™¨å­¦ä¹ , tensorflow]\ntoc: true\ncategories:\n  - å·¥ä½œ\n  - iOS\nthumbnail: http://upload-images.jianshu.io/upload_images/2641798-ab4749c205d9f6f8.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\n---\n\n## å‰è¨€\n\n---\n\nPrisma åœ¨ 2016 ä¸Šçº¿åå°±å¤§ç«ï¼Œè¯¥ APP æ˜¯åˆ©ç”¨[ç¥ç»ç½‘ç»œ](https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C)å’Œ[äººå·¥æ™ºèƒ½](https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD)æŠ€æœ¯ï¼Œä¸ºæ™®é€šç…§ç‰‡åŠ å…¥è‰ºæœ¯æ•ˆæœçš„ç…§ç‰‡ç¼–è¾‘è½¯ä»¶ã€‚\n\nåŒå¹´ Google ä¹Ÿå‘å¸ƒäº†ä¸€ç¯‡ã€ŠA LEARNED REPRESENTATION FOR ARTISTIC STYLEã€‹è®ºæ–‡ï¼Œå®ç°äº†å‰å‘è¿ç®—ä¸€æ¬¡ä¸ºç…§ç‰‡æ•´åˆå¤šç§è‰ºæœ¯é£æ ¼çš„åŠŸèƒ½ï¼Œå¹¶ä¸”ä¼˜åŒ–äº†å†…å­˜ä½¿ç”¨å’Œè¿ç®—é€Ÿåº¦ï¼Œå¯ä»¥åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå¿«é€Ÿè¿ç®—ã€‚\n\næœ€è¿‘åœ¨ç ”ç©¶ Tensorflow æ•´åˆ iOS è¿‡ç¨‹ä¸­ï¼Œå‘ç° google å…¬å¼€äº†è®ºæ–‡å®ç°çš„æºç å’Œè®­ç»ƒæ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå·±å†™ä¸€ä¸ªå‰å‘è¿ç®—å›¾ï¼Œæ•´åˆå…¶è®­ç»ƒå‚æ•°å°±å¯ä»¥å¿«é€Ÿå®ç°ç±» Prisma çš„åº”ç”¨ã€‚\n\nä¸‹é¢å°±ä»‹ç»ä¸€ä¸‹å¦‚ä½•åœ¨ iPhone ä¸Šè·‘ä¸€ä¸ªè‡ªå·±çš„**\"Prisma\"**ã€‚\n\n<!-- more -->\n\n![æ‹›è´¢å’Œå’•å™œ](http://upload-images.jianshu.io/upload_images/2641798-ab4749c205d9f6f8.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n## å‡†å¤‡å·¥ä½œ\n\n---\n\n1. å®‰è£…[Tensorflow](https://www.tensorflow.org/versions/r0.12/get_started/os_setup.html#download-and-setup)ï¼Œè¿™ä¸ªå®˜ç½‘ä¸Šæœ‰è¯¦ç»†æ•™ç¨‹è¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚\n2. æ­å»º[iOS+Tensorflow](https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/ios_examples/)å·¥ç¨‹ï¼Œè¿™ä¸ªå¯ä»¥æ ¹æ® Git ä¸Šçš„æ­¥éª¤å®ç°ï¼Œä¹Ÿå¯ä»¥å‚è€ƒå®˜æ–¹çš„ Demo ç¨‹åºé…ç½®ã€‚ï¼ˆè¿™ä¸ªè¿‡ç¨‹æœ‰å¾ˆå¤šå‘ï¼Œå¤šæ¬¡å°è¯•ï¼Œåº”è¯¥å¯ä»¥é…ç½®æˆåŠŸï¼‰\n3. ä¸‹è½½æ¨¡å‹ï¼Œæœ¬æ¬¡ä½¿ç”¨çš„æ¨¡å‹æ˜¯[image_stylization](https://github.com/tensorflow/magenta/tree/master/magenta/models/image_stylization)ï¼Œgoogle å·²å¼€æºåœ¨ GitHub ä¸Šã€‚\n4. ä¸‹è½½è®­ç»ƒå¥½çš„å‚æ•°ï¼ŒGoogle æä¾›äº† 2 ä¸ªï¼š\n   [Monet](http://download.magenta.tensorflow.org/models/multistyle-pastiche-generator-monet.ckpt)\n   [Varied](http://download.magenta.tensorflow.org/models/multistyle-pastiche-generator-varied.ckpt)\n   Monet è®­ç»ƒäº† 10 ç§è‰ºæœ¯å›¾ç‰‡ï¼ŒVaried è®­ç»ƒäº† 32 ç§ã€‚\n   å½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±è®­ç»ƒè‰ºæœ¯å›¾ç‰‡ï¼Œä½†æ˜¯å¾—ä¸‹è½½ VGG çš„è®­ç»ƒå‚æ•°å’Œ ImageNet æ•°æ®ï¼Œç„¶åè‡ªå·±è®­ç»ƒï¼Œæ¯”è¾ƒèŠ±æ—¶é—´ã€‚\n\n## æ„å»ºè®¡ç®—å›¾\n\n---\n\nè™½ç„¶ Google æä¾›äº†æ¨¡å‹çš„æºç ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰åœ¨æºç ä¸­è¾“å‡ºè¿ç®—å›¾å·²æ–¹ä¾¿è¿ç§»åˆ°ç§»åŠ¨è®¾å¤‡ä¸­ä½¿ç”¨ï¼ŒAndroid çš„ Demo ä¸­å€’æ˜¯æä¾›äº†ç”Ÿæˆçš„ pbï¼Œå¦‚ä½•è§‰å¾—è‡ªå·±å†™è®¡ç®—å›¾éº»çƒ¦å¯ä»¥ç›´æ¥æ‹·åˆ°è‡ªå·± iOS å·¥ç¨‹ä¸­ä½¿ç”¨ã€‚\n\næˆ‘è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ª python çš„å·¥ç¨‹ï¼Œç„¶åæŠŠ Google æºç ä¸­ model.py ç›¸å…³çš„æ–‡ä»¶éƒ½åŠ å…¥äº†å·¥ç¨‹ã€‚\næˆ‘çš„å»ºå›¾ä»£ç å¦‚ä¸‹ï¼š\n\n```\nimport numpy as np\nimport tensorflow as tf\nimport ast\nimport os\nfrom tensorflow.python import pywrap_tensorflow\n\nfrom matplotlib import pyplot\nfrom matplotlib.pyplot import imshow\n\nimport image_utils\nimport model\nimport ops\nimport argparse\nimport sys\n\n\nnum_styles = 32\nimgWidth = 512\nimgHeight = 512\nchannel = 3\ncheckpoint = \"/Users/Jiao/Desktop/TFProject/style-image/checkpoint/multistyle-pastiche-generator-varied.ckpt\"\n\ninputImage = tf.placeholder(tf.float32,shape=[None,imgWidth,imgHeight,channel],name=\"input\")\nstyles = tf.placeholder(tf.float32,shape=[num_styles],name=\"style\")\n\nwith tf.name_scope(\"\"):\n    transform = model.transform(inputImage,\n                            normalizer_fn=ops.weighted_instance_norm,\n                            normalizer_params={\n                                # 'weights': tf.constant(mixture),\n                                'weights' : styles,\n                                'num_categories': num_styles,\n                                'center': True,\n                                'scale': True})\n\nmodel_saver = tf.train.Saver(tf.global_variables())\n\nwith tf.Session() as sess:\n    tf.train.write_graph(sess.graph_def, \"/Users/Jiao/Desktop/TFProject/style-image/protobuf\", \"input.pb\")\n    #checkpoint = os.path.expanduser(checkpoint)\n    #if tf.gfile.IsDirectory(checkpoint):\n    #    checkpoint = tf.train.latest_checkpoint(checkpoint)\n    #    tf.logging.info('loading latest checkpoint file: {}'.format(checkpoint))\n    #model_saver.restore(sess, checkpoint)\n\n    #newstyle = np.zeros([num_styles], dtype=np.float32)\n    #newstyle[18] = 0.5\n    #newstyle[17] = 0.5\n    #newImage = np.zeros((1,imgWidth,imgHeight,channel))\n    #style_image = transform.eval(feed_dict={inputImage:newImage,styles:newstyle})\n    #style_image = style_image[0]\n    #imshow(style_image)\n    #pyplot.show()\n```\n\nè¿™é‡Œè¾“å…¥èŠ‚ç‚¹æ˜¯`input`å’Œ`style`ï¼Œè¾“å‡ºèŠ‚ç‚¹æ˜¯ model ä¸­çš„`transformer/expand/conv3/conv/Sigmoid`ã€‚\n\nåˆ°æ­¤å°±å°†æ¨¡å‹çš„è®¡ç®—å›¾ä¿å­˜åˆ°äº†æœ¬åœ°æ–‡ä»¶å¤¹ä¸­ã€‚\næ¥ä¸‹æ¥å°±æ˜¯å°†å›¾å’Œ ckpt ä¸­çš„å‚æ•°åˆå¹¶ï¼Œå¹¶ä¸”ç”Ÿæˆç§»åŠ¨ç«¯çš„å¯ä»¥ä½¿ç”¨çš„ pb æ–‡ä»¶ï¼Œè¿™ä¸€æ­¥å¯ä»¥å‚è€ƒæˆ‘ä¸Šä¸€ç¯‡æ–‡ç« [ã€ŠiOS+Tensorflow å®ç°å›¾åƒè¯†åˆ«ã€‹](http://www.jianshu.com/p/f096fe2212ce)ï¼Œå¾ˆå®¹æ˜“å°±å®ç°ã€‚\n\n## iOS å·¥ç¨‹\n\n---\n\nåœ¨ä¸Šé¢å‡†å¤‡å·¥ä½œä¸­ï¼Œå¦‚æœä½ å·²ç»æŒ‰æ­¥éª¤æ­å»ºå¥½ iOS+TF çš„å·¥ç¨‹ï¼Œè¿™é‡Œä½ åªéœ€è¦å¯¼å…¥ç”Ÿæˆçš„æœ€ç»ˆ pb æ–‡ä»¶å°±è¡Œäº†ã€‚å·¥ç¨‹ç»“æ„å¦‚å›¾ï¼š\n\n![XCodeå·¥ç¨‹](http://upload-images.jianshu.io/upload_images/2641798-ca34abd1c875504c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\nç„¶ååœ¨ iOS ä½¿ç”¨ pb æ–‡ä»¶ï¼Œæˆ‘è¿™é‡Œç›´æ¥å¯¼å…¥äº† Google æä¾›çš„`tensorflow_utils`ï¼Œä½¿ç”¨è¿™ä¸ªç±»é‡Œé¢çš„ LoadModel æ–¹æ³•å¯ä»¥å¾ˆå¿«çš„ç”Ÿæˆå«æœ‰è®¡ç®—å›¾çš„ sessionã€‚\n\n```\n- (void)viewDidLoad {\n    [super viewDidLoad];\n    tensorflow::Status load_status;\n    load_status = LoadModel(@\"rounded_graph\", @\"pb\", &tf_session);\n    if (!load_status.ok()) {\n        LOG(FATAL) << \"Couldn't load model: \" << load_status;\n    }\n    currentStyle = 0;\n    isDone = true;\n    _styleImageView.layer.borderColor = [UIColor grayColor].CGColor;\n    _styleImageView.layer.borderWidth = 0.5;\n    _ogImageView.layer.borderColor = [UIColor grayColor].CGColor;\n    _ogImageView.layer.borderWidth = 0.5;\n}\n```\n\næœ€åå°±æ˜¯è·å–å›¾ç‰‡ï¼Œæ‰§è¡Œè¿ç®—ï¼Œç”Ÿæˆè‰ºæœ¯å›¾ç‰‡å±•ç¤ºã€‚è¿™é‡Œå›¾ç‰‡éœ€è¦è½¬æ¢æˆ bitmap ç„¶åè·å– data å€¼ï¼Œå±•ç¤ºå›¾ç‰‡ä¹Ÿæ˜¯ç›¸è¯†çš„è¿‡ç¨‹ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š\n\n```\n- (void)runCnn:(UIImage *)compressedImg\n{\n    unsigned char *pixels = [self getImagePixel:compressedImg];\n    int image_channels = 4;\n    tensorflow::Tensor image_tensor(\n                                    tensorflow::DT_FLOAT,\n                                    tensorflow::TensorShape(\n                                                            {1, wanted_input_height, wanted_input_width, wanted_input_channels}));\n    auto image_tensor_mapped = image_tensor.tensor<float, 4>();\n    tensorflow::uint8 *in = pixels;\n    float *out = image_tensor_mapped.data();\n    for (int y = 0; y < wanted_input_height; ++y) {\n        float *out_row = out + (y * wanted_input_width * wanted_input_channels);\n        for (int x = 0; x < wanted_input_width; ++x) {\n            tensorflow::uint8 *in_pixel =\n            in + (x * wanted_input_width * image_channels) + (y * image_channels);\n            float *out_pixel = out_row + (x * wanted_input_channels);\n            for (int c = 0; c < wanted_input_channels; ++c) {\n                out_pixel[c] = in_pixel[c];\n            }\n        }\n    }\n\n\n    tensorflow::Tensor style(tensorflow::DT_FLOAT, tensorflow::TensorShape({32}));\n    float *style_data = style.tensor<float, 1>().data();\n    memset(style_data, 0, sizeof(float) * 32);\n    style_data[currentStyle] = 1;\n\n    if (tf_session.get()) {\n        std::vector<tensorflow::Tensor> outputs;\n        tensorflow::Status run_status = tf_session->Run(\n                                                        {{contentNode, image_tensor},\n                                                            {styleNode, style}},\n                                                        {outputNode},\n                                                        {},\n                                                        &outputs);\n        if (!run_status.ok()) {\n            LOG(ERROR) << \"Running model failed:\" << run_status;\n            isDone = true;\n            free(pixels);\n        } else {\n            float *styledData = outputs[0].tensor<float,4>().data();\n            UIImage *styledImg = [self createImage:styledData];\n            dispatch_async(dispatch_get_main_queue(), ^{\n                _styleImageView.image = styledImg;\n                dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.3 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{\n                    isDone = true;\n                    free(pixels);\n                });\n            });\n        }\n    }\n}\n\n- (unsigned char *)getImagePixel:(UIImage *)image\n{\n    int width = image.size.width;\n    int height = image.size.height;\n    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();\n    unsigned char *rawData = (unsigned char*) calloc(height * width * 4, sizeof(unsigned char));\n    NSUInteger bytesPerPixel = 4;\n    NSUInteger bytesPerRow = bytesPerPixel * width;\n    NSUInteger bitsPerComponent = 8;\n    CGContextRef context = CGBitmapContextCreate(rawData, width, height,\n\n                                                 bitsPerComponent, bytesPerRow, colorSpace,\n\n                                                 kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);\n\n    CGColorSpaceRelease(colorSpace);\n    CGContextDrawImage(context, CGRectMake(0, 0, width, height), image.CGImage);\n    UIImage *ogImg = [UIImage imageWithCGImage:CGBitmapContextCreateImage(context)];\n    dispatch_async(dispatch_get_main_queue(), ^{\n        _ogImageView.image = ogImg;\n    });\n    CGContextRelease(context);\n    return rawData;\n}\n\n- (UIImage *)createImage:(float *)pixels\n{\n    unsigned char *rawData = (unsigned char*) calloc(wanted_input_height * wanted_input_width * 4, sizeof(unsigned char));\n    for (int y = 0; y < wanted_input_height; ++y) {\n        unsigned char *out_row = rawData + (y * wanted_input_width * 4);\n        for (int x = 0; x < wanted_input_width; ++x) {\n            float *in_pixel =\n            pixels + (x * wanted_input_width * 3) + (y * 3);\n            unsigned char *out_pixel = out_row + (x * 4);\n            for (int c = 0; c < wanted_input_channels; ++c) {\n                out_pixel[c] = in_pixel[c] * 255;\n            }\n            out_pixel[3] = UINT8_MAX;\n        }\n    }\n    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();\n    NSUInteger bytesPerPixel = 4;\n    NSUInteger bytesPerRow = bytesPerPixel * wanted_input_width;\n    NSUInteger bitsPerComponent = 8;\n    CGContextRef context = CGBitmapContextCreate(rawData, wanted_input_width, wanted_input_height,\n\n                                                 bitsPerComponent, bytesPerRow, colorSpace,\n\n                                                 kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);\n\n    CGColorSpaceRelease(colorSpace);\n    UIImage *retImg = [UIImage imageWithCGImage:CGBitmapContextCreateImage(context)];\n    CGContextRelease(context);\n    free(rawData);\n    return retImg;\n}\n```\n\n_è¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼Œå‰é¢ python å·¥ç¨‹å·²ç»å®šä¹‰äº†ï¼Œæˆ‘çš„è¾“å…¥å’Œè¾“å‡ºå›¾ç‰‡çš„å¤§å°æ˜¯ 512âœ•512ã€‚_\n\n## è¿æ¥ iPhoneï¼Œè¿è¡Œå·¥ç¨‹\n\n---\n\næœ€åè¿ä¸Šæ‰‹æœºè¿è¡Œï¼Œå°±å¯ä»¥è‡ªå·±åˆ›å»ºè‡ªå·±çš„è‰ºæœ¯ç±»å›¾ç‰‡äº†ã€‚ğŸ˜Š\n\næ”¾å‡ å¼ è¿è¡Œæ•ˆæœå›¾ï¼š\n![æˆªå›¾1](http://upload-images.jianshu.io/upload_images/2641798-d105c1089f62c634.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![æˆªå›¾2](http://upload-images.jianshu.io/upload_images/2641798-6b722e433ca66c5b.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n![æˆªå›¾3](http://upload-images.jianshu.io/upload_images/2641798-1b5acd6620b5b447.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n","slug":"iOSå®ç°ç±»Prismaè½¯ä»¶","published":1,"updated":"2019-01-10T02:18:05.708Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlpj1001whqoxzbvx3vqu","content":"<h2 id=\"å‰è¨€\"><a class=\"header-anchor\" href=\"#å‰è¨€\">Â¶</a>å‰è¨€</h2>\n<hr>\n<p>Prisma åœ¨ 2016 ä¸Šçº¿åå°±å¤§ç«ï¼Œè¯¥ APP æ˜¯åˆ©ç”¨<a href=\"https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C\" target=\"_blank\" rel=\"noopener\">ç¥ç»ç½‘ç»œ</a>å’Œ<a href=\"https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD\" target=\"_blank\" rel=\"noopener\">äººå·¥æ™ºèƒ½</a>æŠ€æœ¯ï¼Œä¸ºæ™®é€šç…§ç‰‡åŠ å…¥è‰ºæœ¯æ•ˆæœçš„ç…§ç‰‡ç¼–è¾‘è½¯ä»¶ã€‚</p>\n<p>åŒå¹´ Google ä¹Ÿå‘å¸ƒäº†ä¸€ç¯‡ã€ŠA LEARNED REPRESENTATION FOR ARTISTIC STYLEã€‹è®ºæ–‡ï¼Œå®ç°äº†å‰å‘è¿ç®—ä¸€æ¬¡ä¸ºç…§ç‰‡æ•´åˆå¤šç§è‰ºæœ¯é£æ ¼çš„åŠŸèƒ½ï¼Œå¹¶ä¸”ä¼˜åŒ–äº†å†…å­˜ä½¿ç”¨å’Œè¿ç®—é€Ÿåº¦ï¼Œå¯ä»¥åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå¿«é€Ÿè¿ç®—ã€‚</p>\n<p>æœ€è¿‘åœ¨ç ”ç©¶ Tensorflow æ•´åˆ iOS è¿‡ç¨‹ä¸­ï¼Œå‘ç° google å…¬å¼€äº†è®ºæ–‡å®ç°çš„æºç å’Œè®­ç»ƒæ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå·±å†™ä¸€ä¸ªå‰å‘è¿ç®—å›¾ï¼Œæ•´åˆå…¶è®­ç»ƒå‚æ•°å°±å¯ä»¥å¿«é€Ÿå®ç°ç±» Prisma çš„åº”ç”¨ã€‚</p>\n<p>ä¸‹é¢å°±ä»‹ç»ä¸€ä¸‹å¦‚ä½•åœ¨ iPhone ä¸Šè·‘ä¸€ä¸ªè‡ªå·±çš„**â€œPrismaâ€**ã€‚</p>\n<a id=\"more\"></a>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2641798-ab4749c205d9f6f8.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"æ‹›è´¢å’Œå’•å™œ\"></p>\n<h2 id=\"å‡†å¤‡å·¥ä½œ\"><a class=\"header-anchor\" href=\"#å‡†å¤‡å·¥ä½œ\">Â¶</a>å‡†å¤‡å·¥ä½œ</h2>\n<hr>\n<ol>\n<li>å®‰è£…<a href=\"https://www.tensorflow.org/versions/r0.12/get_started/os_setup.html#download-and-setup\" target=\"_blank\" rel=\"noopener\">Tensorflow</a>ï¼Œè¿™ä¸ªå®˜ç½‘ä¸Šæœ‰è¯¦ç»†æ•™ç¨‹è¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚</li>\n<li>æ­å»º<a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/ios_examples/\" target=\"_blank\" rel=\"noopener\">iOS+Tensorflow</a>å·¥ç¨‹ï¼Œè¿™ä¸ªå¯ä»¥æ ¹æ® Git ä¸Šçš„æ­¥éª¤å®ç°ï¼Œä¹Ÿå¯ä»¥å‚è€ƒå®˜æ–¹çš„ Demo ç¨‹åºé…ç½®ã€‚ï¼ˆè¿™ä¸ªè¿‡ç¨‹æœ‰å¾ˆå¤šå‘ï¼Œå¤šæ¬¡å°è¯•ï¼Œåº”è¯¥å¯ä»¥é…ç½®æˆåŠŸï¼‰</li>\n<li>ä¸‹è½½æ¨¡å‹ï¼Œæœ¬æ¬¡ä½¿ç”¨çš„æ¨¡å‹æ˜¯<a href=\"https://github.com/tensorflow/magenta/tree/master/magenta/models/image_stylization\" target=\"_blank\" rel=\"noopener\">image_stylization</a>ï¼Œgoogle å·²å¼€æºåœ¨ GitHub ä¸Šã€‚</li>\n<li>ä¸‹è½½è®­ç»ƒå¥½çš„å‚æ•°ï¼ŒGoogle æä¾›äº† 2 ä¸ªï¼š<br>\n<a href=\"http://download.magenta.tensorflow.org/models/multistyle-pastiche-generator-monet.ckpt\" target=\"_blank\" rel=\"noopener\">Monet</a><br>\n<a href=\"http://download.magenta.tensorflow.org/models/multistyle-pastiche-generator-varied.ckpt\" target=\"_blank\" rel=\"noopener\">Varied</a><br>\nMonet è®­ç»ƒäº† 10 ç§è‰ºæœ¯å›¾ç‰‡ï¼ŒVaried è®­ç»ƒäº† 32 ç§ã€‚<br>\nå½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±è®­ç»ƒè‰ºæœ¯å›¾ç‰‡ï¼Œä½†æ˜¯å¾—ä¸‹è½½ VGG çš„è®­ç»ƒå‚æ•°å’Œ ImageNet æ•°æ®ï¼Œç„¶åè‡ªå·±è®­ç»ƒï¼Œæ¯”è¾ƒèŠ±æ—¶é—´ã€‚</li>\n</ol>\n<h2 id=\"æ„å»ºè®¡ç®—å›¾\"><a class=\"header-anchor\" href=\"#æ„å»ºè®¡ç®—å›¾\">Â¶</a>æ„å»ºè®¡ç®—å›¾</h2>\n<hr>\n<p>è™½ç„¶ Google æä¾›äº†æ¨¡å‹çš„æºç ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰åœ¨æºç ä¸­è¾“å‡ºè¿ç®—å›¾å·²æ–¹ä¾¿è¿ç§»åˆ°ç§»åŠ¨è®¾å¤‡ä¸­ä½¿ç”¨ï¼ŒAndroid çš„ Demo ä¸­å€’æ˜¯æä¾›äº†ç”Ÿæˆçš„ pbï¼Œå¦‚ä½•è§‰å¾—è‡ªå·±å†™è®¡ç®—å›¾éº»çƒ¦å¯ä»¥ç›´æ¥æ‹·åˆ°è‡ªå·± iOS å·¥ç¨‹ä¸­ä½¿ç”¨ã€‚</p>\n<p>æˆ‘è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ª python çš„å·¥ç¨‹ï¼Œç„¶åæŠŠ Google æºç ä¸­ <a href=\"http://model.py\" target=\"_blank\" rel=\"noopener\">model.py</a> ç›¸å…³çš„æ–‡ä»¶éƒ½åŠ å…¥äº†å·¥ç¨‹ã€‚<br>\næˆ‘çš„å»ºå›¾ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import numpy as np</span><br><span class=\"line\">import tensorflow as tf</span><br><span class=\"line\">import ast</span><br><span class=\"line\">import os</span><br><span class=\"line\">from tensorflow.python import pywrap_tensorflow</span><br><span class=\"line\"></span><br><span class=\"line\">from matplotlib import pyplot</span><br><span class=\"line\">from matplotlib.pyplot import imshow</span><br><span class=\"line\"></span><br><span class=\"line\">import image_utils</span><br><span class=\"line\">import model</span><br><span class=\"line\">import ops</span><br><span class=\"line\">import argparse</span><br><span class=\"line\">import sys</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">num_styles = 32</span><br><span class=\"line\">imgWidth = 512</span><br><span class=\"line\">imgHeight = 512</span><br><span class=\"line\">channel = 3</span><br><span class=\"line\">checkpoint = &quot;/Users/Jiao/Desktop/TFProject/style-image/checkpoint/multistyle-pastiche-generator-varied.ckpt&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">inputImage = tf.placeholder(tf.float32,shape=[None,imgWidth,imgHeight,channel],name=&quot;input&quot;)</span><br><span class=\"line\">styles = tf.placeholder(tf.float32,shape=[num_styles],name=&quot;style&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">with tf.name_scope(&quot;&quot;):</span><br><span class=\"line\">    transform = model.transform(inputImage,</span><br><span class=\"line\">                            normalizer_fn=ops.weighted_instance_norm,</span><br><span class=\"line\">                            normalizer_params=&#123;</span><br><span class=\"line\">                                # &apos;weights&apos;: tf.constant(mixture),</span><br><span class=\"line\">                                &apos;weights&apos; : styles,</span><br><span class=\"line\">                                &apos;num_categories&apos;: num_styles,</span><br><span class=\"line\">                                &apos;center&apos;: True,</span><br><span class=\"line\">                                &apos;scale&apos;: True&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">model_saver = tf.train.Saver(tf.global_variables())</span><br><span class=\"line\"></span><br><span class=\"line\">with tf.Session() as sess:</span><br><span class=\"line\">    tf.train.write_graph(sess.graph_def, &quot;/Users/Jiao/Desktop/TFProject/style-image/protobuf&quot;, &quot;input.pb&quot;)</span><br><span class=\"line\">    #checkpoint = os.path.expanduser(checkpoint)</span><br><span class=\"line\">    #if tf.gfile.IsDirectory(checkpoint):</span><br><span class=\"line\">    #    checkpoint = tf.train.latest_checkpoint(checkpoint)</span><br><span class=\"line\">    #    tf.logging.info(&apos;loading latest checkpoint file: &#123;&#125;&apos;.format(checkpoint))</span><br><span class=\"line\">    #model_saver.restore(sess, checkpoint)</span><br><span class=\"line\"></span><br><span class=\"line\">    #newstyle = np.zeros([num_styles], dtype=np.float32)</span><br><span class=\"line\">    #newstyle[18] = 0.5</span><br><span class=\"line\">    #newstyle[17] = 0.5</span><br><span class=\"line\">    #newImage = np.zeros((1,imgWidth,imgHeight,channel))</span><br><span class=\"line\">    #style_image = transform.eval(feed_dict=&#123;inputImage:newImage,styles:newstyle&#125;)</span><br><span class=\"line\">    #style_image = style_image[0]</span><br><span class=\"line\">    #imshow(style_image)</span><br><span class=\"line\">    #pyplot.show()</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œè¾“å…¥èŠ‚ç‚¹æ˜¯<code>input</code>å’Œ<code>style</code>ï¼Œè¾“å‡ºèŠ‚ç‚¹æ˜¯ model ä¸­çš„<code>transformer/expand/conv3/conv/Sigmoid</code>ã€‚</p>\n<p>åˆ°æ­¤å°±å°†æ¨¡å‹çš„è®¡ç®—å›¾ä¿å­˜åˆ°äº†æœ¬åœ°æ–‡ä»¶å¤¹ä¸­ã€‚<br>\næ¥ä¸‹æ¥å°±æ˜¯å°†å›¾å’Œ ckpt ä¸­çš„å‚æ•°åˆå¹¶ï¼Œå¹¶ä¸”ç”Ÿæˆç§»åŠ¨ç«¯çš„å¯ä»¥ä½¿ç”¨çš„ pb æ–‡ä»¶ï¼Œè¿™ä¸€æ­¥å¯ä»¥å‚è€ƒæˆ‘ä¸Šä¸€ç¯‡æ–‡ç« <a href=\"http://www.jianshu.com/p/f096fe2212ce\" target=\"_blank\" rel=\"noopener\">ã€ŠiOS+Tensorflow å®ç°å›¾åƒè¯†åˆ«ã€‹</a>ï¼Œå¾ˆå®¹æ˜“å°±å®ç°ã€‚</p>\n<h2 id=\"ios-å·¥ç¨‹\"><a class=\"header-anchor\" href=\"#ios-å·¥ç¨‹\">Â¶</a>iOS å·¥ç¨‹</h2>\n<hr>\n<p>åœ¨ä¸Šé¢å‡†å¤‡å·¥ä½œä¸­ï¼Œå¦‚æœä½ å·²ç»æŒ‰æ­¥éª¤æ­å»ºå¥½ iOS+TF çš„å·¥ç¨‹ï¼Œè¿™é‡Œä½ åªéœ€è¦å¯¼å…¥ç”Ÿæˆçš„æœ€ç»ˆ pb æ–‡ä»¶å°±è¡Œäº†ã€‚å·¥ç¨‹ç»“æ„å¦‚å›¾ï¼š</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2641798-ca34abd1c875504c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"XCodeå·¥ç¨‹\"></p>\n<p>ç„¶ååœ¨ iOS ä½¿ç”¨ pb æ–‡ä»¶ï¼Œæˆ‘è¿™é‡Œç›´æ¥å¯¼å…¥äº† Google æä¾›çš„<code>tensorflow_utils</code>ï¼Œä½¿ç”¨è¿™ä¸ªç±»é‡Œé¢çš„ LoadModel æ–¹æ³•å¯ä»¥å¾ˆå¿«çš„ç”Ÿæˆå«æœ‰è®¡ç®—å›¾çš„ sessionã€‚</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (void)viewDidLoad &#123;</span><br><span class=\"line\">    [super viewDidLoad];</span><br><span class=\"line\">    tensorflow::Status load_status;</span><br><span class=\"line\">    load_status = LoadModel(@&quot;rounded_graph&quot;, @&quot;pb&quot;, &amp;tf_session);</span><br><span class=\"line\">    if (!load_status.ok()) &#123;</span><br><span class=\"line\">        LOG(FATAL) &lt;&lt; &quot;Couldn&apos;t load model: &quot; &lt;&lt; load_status;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    currentStyle = 0;</span><br><span class=\"line\">    isDone = true;</span><br><span class=\"line\">    _styleImageView.layer.borderColor = [UIColor grayColor].CGColor;</span><br><span class=\"line\">    _styleImageView.layer.borderWidth = 0.5;</span><br><span class=\"line\">    _ogImageView.layer.borderColor = [UIColor grayColor].CGColor;</span><br><span class=\"line\">    _ogImageView.layer.borderWidth = 0.5;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æœ€åå°±æ˜¯è·å–å›¾ç‰‡ï¼Œæ‰§è¡Œè¿ç®—ï¼Œç”Ÿæˆè‰ºæœ¯å›¾ç‰‡å±•ç¤ºã€‚è¿™é‡Œå›¾ç‰‡éœ€è¦è½¬æ¢æˆ bitmap ç„¶åè·å– data å€¼ï¼Œå±•ç¤ºå›¾ç‰‡ä¹Ÿæ˜¯ç›¸è¯†çš„è¿‡ç¨‹ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (void)runCnn:(UIImage *)compressedImg</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    unsigned char *pixels = [self getImagePixel:compressedImg];</span><br><span class=\"line\">    int image_channels = 4;</span><br><span class=\"line\">    tensorflow::Tensor image_tensor(</span><br><span class=\"line\">                                    tensorflow::DT_FLOAT,</span><br><span class=\"line\">                                    tensorflow::TensorShape(</span><br><span class=\"line\">                                                            &#123;1, wanted_input_height, wanted_input_width, wanted_input_channels&#125;));</span><br><span class=\"line\">    auto image_tensor_mapped = image_tensor.tensor&lt;float, 4&gt;();</span><br><span class=\"line\">    tensorflow::uint8 *in = pixels;</span><br><span class=\"line\">    float *out = image_tensor_mapped.data();</span><br><span class=\"line\">    for (int y = 0; y &lt; wanted_input_height; ++y) &#123;</span><br><span class=\"line\">        float *out_row = out + (y * wanted_input_width * wanted_input_channels);</span><br><span class=\"line\">        for (int x = 0; x &lt; wanted_input_width; ++x) &#123;</span><br><span class=\"line\">            tensorflow::uint8 *in_pixel =</span><br><span class=\"line\">            in + (x * wanted_input_width * image_channels) + (y * image_channels);</span><br><span class=\"line\">            float *out_pixel = out_row + (x * wanted_input_channels);</span><br><span class=\"line\">            for (int c = 0; c &lt; wanted_input_channels; ++c) &#123;</span><br><span class=\"line\">                out_pixel[c] = in_pixel[c];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    tensorflow::Tensor style(tensorflow::DT_FLOAT, tensorflow::TensorShape(&#123;32&#125;));</span><br><span class=\"line\">    float *style_data = style.tensor&lt;float, 1&gt;().data();</span><br><span class=\"line\">    memset(style_data, 0, sizeof(float) * 32);</span><br><span class=\"line\">    style_data[currentStyle] = 1;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (tf_session.get()) &#123;</span><br><span class=\"line\">        std::vector&lt;tensorflow::Tensor&gt; outputs;</span><br><span class=\"line\">        tensorflow::Status run_status = tf_session-&gt;Run(</span><br><span class=\"line\">                                                        &#123;&#123;contentNode, image_tensor&#125;,</span><br><span class=\"line\">                                                            &#123;styleNode, style&#125;&#125;,</span><br><span class=\"line\">                                                        &#123;outputNode&#125;,</span><br><span class=\"line\">                                                        &#123;&#125;,</span><br><span class=\"line\">                                                        &amp;outputs);</span><br><span class=\"line\">        if (!run_status.ok()) &#123;</span><br><span class=\"line\">            LOG(ERROR) &lt;&lt; &quot;Running model failed:&quot; &lt;&lt; run_status;</span><br><span class=\"line\">            isDone = true;</span><br><span class=\"line\">            free(pixels);</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            float *styledData = outputs[0].tensor&lt;float,4&gt;().data();</span><br><span class=\"line\">            UIImage *styledImg = [self createImage:styledData];</span><br><span class=\"line\">            dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class=\"line\">                _styleImageView.image = styledImg;</span><br><span class=\"line\">                dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.3 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class=\"line\">                    isDone = true;</span><br><span class=\"line\">                    free(pixels);</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- (unsigned char *)getImagePixel:(UIImage *)image</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    int width = image.size.width;</span><br><span class=\"line\">    int height = image.size.height;</span><br><span class=\"line\">    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();</span><br><span class=\"line\">    unsigned char *rawData = (unsigned char*) calloc(height * width * 4, sizeof(unsigned char));</span><br><span class=\"line\">    NSUInteger bytesPerPixel = 4;</span><br><span class=\"line\">    NSUInteger bytesPerRow = bytesPerPixel * width;</span><br><span class=\"line\">    NSUInteger bitsPerComponent = 8;</span><br><span class=\"line\">    CGContextRef context = CGBitmapContextCreate(rawData, width, height,</span><br><span class=\"line\"></span><br><span class=\"line\">                                                 bitsPerComponent, bytesPerRow, colorSpace,</span><br><span class=\"line\"></span><br><span class=\"line\">                                                 kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);</span><br><span class=\"line\"></span><br><span class=\"line\">    CGColorSpaceRelease(colorSpace);</span><br><span class=\"line\">    CGContextDrawImage(context, CGRectMake(0, 0, width, height), image.CGImage);</span><br><span class=\"line\">    UIImage *ogImg = [UIImage imageWithCGImage:CGBitmapContextCreateImage(context)];</span><br><span class=\"line\">    dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class=\"line\">        _ogImageView.image = ogImg;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    CGContextRelease(context);</span><br><span class=\"line\">    return rawData;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- (UIImage *)createImage:(float *)pixels</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    unsigned char *rawData = (unsigned char*) calloc(wanted_input_height * wanted_input_width * 4, sizeof(unsigned char));</span><br><span class=\"line\">    for (int y = 0; y &lt; wanted_input_height; ++y) &#123;</span><br><span class=\"line\">        unsigned char *out_row = rawData + (y * wanted_input_width * 4);</span><br><span class=\"line\">        for (int x = 0; x &lt; wanted_input_width; ++x) &#123;</span><br><span class=\"line\">            float *in_pixel =</span><br><span class=\"line\">            pixels + (x * wanted_input_width * 3) + (y * 3);</span><br><span class=\"line\">            unsigned char *out_pixel = out_row + (x * 4);</span><br><span class=\"line\">            for (int c = 0; c &lt; wanted_input_channels; ++c) &#123;</span><br><span class=\"line\">                out_pixel[c] = in_pixel[c] * 255;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            out_pixel[3] = UINT8_MAX;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();</span><br><span class=\"line\">    NSUInteger bytesPerPixel = 4;</span><br><span class=\"line\">    NSUInteger bytesPerRow = bytesPerPixel * wanted_input_width;</span><br><span class=\"line\">    NSUInteger bitsPerComponent = 8;</span><br><span class=\"line\">    CGContextRef context = CGBitmapContextCreate(rawData, wanted_input_width, wanted_input_height,</span><br><span class=\"line\"></span><br><span class=\"line\">                                                 bitsPerComponent, bytesPerRow, colorSpace,</span><br><span class=\"line\"></span><br><span class=\"line\">                                                 kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);</span><br><span class=\"line\"></span><br><span class=\"line\">    CGColorSpaceRelease(colorSpace);</span><br><span class=\"line\">    UIImage *retImg = [UIImage imageWithCGImage:CGBitmapContextCreateImage(context)];</span><br><span class=\"line\">    CGContextRelease(context);</span><br><span class=\"line\">    free(rawData);</span><br><span class=\"line\">    return retImg;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><em>è¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼Œå‰é¢ python å·¥ç¨‹å·²ç»å®šä¹‰äº†ï¼Œæˆ‘çš„è¾“å…¥å’Œè¾“å‡ºå›¾ç‰‡çš„å¤§å°æ˜¯ 512âœ•512ã€‚</em></p>\n<h2 id=\"è¿æ¥-iphone-è¿è¡Œå·¥ç¨‹\"><a class=\"header-anchor\" href=\"#è¿æ¥-iphone-è¿è¡Œå·¥ç¨‹\">Â¶</a>è¿æ¥ iPhoneï¼Œè¿è¡Œå·¥ç¨‹</h2>\n<hr>\n<p>æœ€åè¿ä¸Šæ‰‹æœºè¿è¡Œï¼Œå°±å¯ä»¥è‡ªå·±åˆ›å»ºè‡ªå·±çš„è‰ºæœ¯ç±»å›¾ç‰‡äº†ã€‚ğŸ˜Š</p>\n<p>æ”¾å‡ å¼ è¿è¡Œæ•ˆæœå›¾ï¼š<br>\n<img src=\"http://upload-images.jianshu.io/upload_images/2641798-d105c1089f62c634.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"æˆªå›¾1\"></p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2641798-6b722e433ca66c5b.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"æˆªå›¾2\"></p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2641798-1b5acd6620b5b447.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"æˆªå›¾3\"></p>\n","site":{"data":{}},"excerpt":"<h2 id=\"å‰è¨€\"><a class=\"header-anchor\" href=\"#å‰è¨€\">Â¶</a>å‰è¨€</h2>\n<hr>\n<p>Prisma åœ¨ 2016 ä¸Šçº¿åå°±å¤§ç«ï¼Œè¯¥ APP æ˜¯åˆ©ç”¨<a href=\"https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C\" target=\"_blank\" rel=\"noopener\">ç¥ç»ç½‘ç»œ</a>å’Œ<a href=\"https://zh.wikipedia.org/wiki/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD\" target=\"_blank\" rel=\"noopener\">äººå·¥æ™ºèƒ½</a>æŠ€æœ¯ï¼Œä¸ºæ™®é€šç…§ç‰‡åŠ å…¥è‰ºæœ¯æ•ˆæœçš„ç…§ç‰‡ç¼–è¾‘è½¯ä»¶ã€‚</p>\n<p>åŒå¹´ Google ä¹Ÿå‘å¸ƒäº†ä¸€ç¯‡ã€ŠA LEARNED REPRESENTATION FOR ARTISTIC STYLEã€‹è®ºæ–‡ï¼Œå®ç°äº†å‰å‘è¿ç®—ä¸€æ¬¡ä¸ºç…§ç‰‡æ•´åˆå¤šç§è‰ºæœ¯é£æ ¼çš„åŠŸèƒ½ï¼Œå¹¶ä¸”ä¼˜åŒ–äº†å†…å­˜ä½¿ç”¨å’Œè¿ç®—é€Ÿåº¦ï¼Œå¯ä»¥åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå¿«é€Ÿè¿ç®—ã€‚</p>\n<p>æœ€è¿‘åœ¨ç ”ç©¶ Tensorflow æ•´åˆ iOS è¿‡ç¨‹ä¸­ï¼Œå‘ç° google å…¬å¼€äº†è®ºæ–‡å®ç°çš„æºç å’Œè®­ç»ƒæ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå·±å†™ä¸€ä¸ªå‰å‘è¿ç®—å›¾ï¼Œæ•´åˆå…¶è®­ç»ƒå‚æ•°å°±å¯ä»¥å¿«é€Ÿå®ç°ç±» Prisma çš„åº”ç”¨ã€‚</p>\n<p>ä¸‹é¢å°±ä»‹ç»ä¸€ä¸‹å¦‚ä½•åœ¨ iPhone ä¸Šè·‘ä¸€ä¸ªè‡ªå·±çš„**â€œPrismaâ€**ã€‚</p>","more":"<p><img src=\"http://upload-images.jianshu.io/upload_images/2641798-ab4749c205d9f6f8.JPG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"æ‹›è´¢å’Œå’•å™œ\"></p>\n<h2 id=\"å‡†å¤‡å·¥ä½œ\"><a class=\"header-anchor\" href=\"#å‡†å¤‡å·¥ä½œ\">Â¶</a>å‡†å¤‡å·¥ä½œ</h2>\n<hr>\n<ol>\n<li>å®‰è£…<a href=\"https://www.tensorflow.org/versions/r0.12/get_started/os_setup.html#download-and-setup\" target=\"_blank\" rel=\"noopener\">Tensorflow</a>ï¼Œè¿™ä¸ªå®˜ç½‘ä¸Šæœ‰è¯¦ç»†æ•™ç¨‹è¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚</li>\n<li>æ­å»º<a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/contrib/ios_examples/\" target=\"_blank\" rel=\"noopener\">iOS+Tensorflow</a>å·¥ç¨‹ï¼Œè¿™ä¸ªå¯ä»¥æ ¹æ® Git ä¸Šçš„æ­¥éª¤å®ç°ï¼Œä¹Ÿå¯ä»¥å‚è€ƒå®˜æ–¹çš„ Demo ç¨‹åºé…ç½®ã€‚ï¼ˆè¿™ä¸ªè¿‡ç¨‹æœ‰å¾ˆå¤šå‘ï¼Œå¤šæ¬¡å°è¯•ï¼Œåº”è¯¥å¯ä»¥é…ç½®æˆåŠŸï¼‰</li>\n<li>ä¸‹è½½æ¨¡å‹ï¼Œæœ¬æ¬¡ä½¿ç”¨çš„æ¨¡å‹æ˜¯<a href=\"https://github.com/tensorflow/magenta/tree/master/magenta/models/image_stylization\" target=\"_blank\" rel=\"noopener\">image_stylization</a>ï¼Œgoogle å·²å¼€æºåœ¨ GitHub ä¸Šã€‚</li>\n<li>ä¸‹è½½è®­ç»ƒå¥½çš„å‚æ•°ï¼ŒGoogle æä¾›äº† 2 ä¸ªï¼š<br>\n<a href=\"http://download.magenta.tensorflow.org/models/multistyle-pastiche-generator-monet.ckpt\" target=\"_blank\" rel=\"noopener\">Monet</a><br>\n<a href=\"http://download.magenta.tensorflow.org/models/multistyle-pastiche-generator-varied.ckpt\" target=\"_blank\" rel=\"noopener\">Varied</a><br>\nMonet è®­ç»ƒäº† 10 ç§è‰ºæœ¯å›¾ç‰‡ï¼ŒVaried è®­ç»ƒäº† 32 ç§ã€‚<br>\nå½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå·±è®­ç»ƒè‰ºæœ¯å›¾ç‰‡ï¼Œä½†æ˜¯å¾—ä¸‹è½½ VGG çš„è®­ç»ƒå‚æ•°å’Œ ImageNet æ•°æ®ï¼Œç„¶åè‡ªå·±è®­ç»ƒï¼Œæ¯”è¾ƒèŠ±æ—¶é—´ã€‚</li>\n</ol>\n<h2 id=\"æ„å»ºè®¡ç®—å›¾\"><a class=\"header-anchor\" href=\"#æ„å»ºè®¡ç®—å›¾\">Â¶</a>æ„å»ºè®¡ç®—å›¾</h2>\n<hr>\n<p>è™½ç„¶ Google æä¾›äº†æ¨¡å‹çš„æºç ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰åœ¨æºç ä¸­è¾“å‡ºè¿ç®—å›¾å·²æ–¹ä¾¿è¿ç§»åˆ°ç§»åŠ¨è®¾å¤‡ä¸­ä½¿ç”¨ï¼ŒAndroid çš„ Demo ä¸­å€’æ˜¯æä¾›äº†ç”Ÿæˆçš„ pbï¼Œå¦‚ä½•è§‰å¾—è‡ªå·±å†™è®¡ç®—å›¾éº»çƒ¦å¯ä»¥ç›´æ¥æ‹·åˆ°è‡ªå·± iOS å·¥ç¨‹ä¸­ä½¿ç”¨ã€‚</p>\n<p>æˆ‘è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ª python çš„å·¥ç¨‹ï¼Œç„¶åæŠŠ Google æºç ä¸­ <a href=\"http://model.py\" target=\"_blank\" rel=\"noopener\">model.py</a> ç›¸å…³çš„æ–‡ä»¶éƒ½åŠ å…¥äº†å·¥ç¨‹ã€‚<br>\næˆ‘çš„å»ºå›¾ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import numpy as np</span><br><span class=\"line\">import tensorflow as tf</span><br><span class=\"line\">import ast</span><br><span class=\"line\">import os</span><br><span class=\"line\">from tensorflow.python import pywrap_tensorflow</span><br><span class=\"line\"></span><br><span class=\"line\">from matplotlib import pyplot</span><br><span class=\"line\">from matplotlib.pyplot import imshow</span><br><span class=\"line\"></span><br><span class=\"line\">import image_utils</span><br><span class=\"line\">import model</span><br><span class=\"line\">import ops</span><br><span class=\"line\">import argparse</span><br><span class=\"line\">import sys</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">num_styles = 32</span><br><span class=\"line\">imgWidth = 512</span><br><span class=\"line\">imgHeight = 512</span><br><span class=\"line\">channel = 3</span><br><span class=\"line\">checkpoint = &quot;/Users/Jiao/Desktop/TFProject/style-image/checkpoint/multistyle-pastiche-generator-varied.ckpt&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">inputImage = tf.placeholder(tf.float32,shape=[None,imgWidth,imgHeight,channel],name=&quot;input&quot;)</span><br><span class=\"line\">styles = tf.placeholder(tf.float32,shape=[num_styles],name=&quot;style&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">with tf.name_scope(&quot;&quot;):</span><br><span class=\"line\">    transform = model.transform(inputImage,</span><br><span class=\"line\">                            normalizer_fn=ops.weighted_instance_norm,</span><br><span class=\"line\">                            normalizer_params=&#123;</span><br><span class=\"line\">                                # &apos;weights&apos;: tf.constant(mixture),</span><br><span class=\"line\">                                &apos;weights&apos; : styles,</span><br><span class=\"line\">                                &apos;num_categories&apos;: num_styles,</span><br><span class=\"line\">                                &apos;center&apos;: True,</span><br><span class=\"line\">                                &apos;scale&apos;: True&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">model_saver = tf.train.Saver(tf.global_variables())</span><br><span class=\"line\"></span><br><span class=\"line\">with tf.Session() as sess:</span><br><span class=\"line\">    tf.train.write_graph(sess.graph_def, &quot;/Users/Jiao/Desktop/TFProject/style-image/protobuf&quot;, &quot;input.pb&quot;)</span><br><span class=\"line\">    #checkpoint = os.path.expanduser(checkpoint)</span><br><span class=\"line\">    #if tf.gfile.IsDirectory(checkpoint):</span><br><span class=\"line\">    #    checkpoint = tf.train.latest_checkpoint(checkpoint)</span><br><span class=\"line\">    #    tf.logging.info(&apos;loading latest checkpoint file: &#123;&#125;&apos;.format(checkpoint))</span><br><span class=\"line\">    #model_saver.restore(sess, checkpoint)</span><br><span class=\"line\"></span><br><span class=\"line\">    #newstyle = np.zeros([num_styles], dtype=np.float32)</span><br><span class=\"line\">    #newstyle[18] = 0.5</span><br><span class=\"line\">    #newstyle[17] = 0.5</span><br><span class=\"line\">    #newImage = np.zeros((1,imgWidth,imgHeight,channel))</span><br><span class=\"line\">    #style_image = transform.eval(feed_dict=&#123;inputImage:newImage,styles:newstyle&#125;)</span><br><span class=\"line\">    #style_image = style_image[0]</span><br><span class=\"line\">    #imshow(style_image)</span><br><span class=\"line\">    #pyplot.show()</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œè¾“å…¥èŠ‚ç‚¹æ˜¯<code>input</code>å’Œ<code>style</code>ï¼Œè¾“å‡ºèŠ‚ç‚¹æ˜¯ model ä¸­çš„<code>transformer/expand/conv3/conv/Sigmoid</code>ã€‚</p>\n<p>åˆ°æ­¤å°±å°†æ¨¡å‹çš„è®¡ç®—å›¾ä¿å­˜åˆ°äº†æœ¬åœ°æ–‡ä»¶å¤¹ä¸­ã€‚<br>\næ¥ä¸‹æ¥å°±æ˜¯å°†å›¾å’Œ ckpt ä¸­çš„å‚æ•°åˆå¹¶ï¼Œå¹¶ä¸”ç”Ÿæˆç§»åŠ¨ç«¯çš„å¯ä»¥ä½¿ç”¨çš„ pb æ–‡ä»¶ï¼Œè¿™ä¸€æ­¥å¯ä»¥å‚è€ƒæˆ‘ä¸Šä¸€ç¯‡æ–‡ç« <a href=\"http://www.jianshu.com/p/f096fe2212ce\" target=\"_blank\" rel=\"noopener\">ã€ŠiOS+Tensorflow å®ç°å›¾åƒè¯†åˆ«ã€‹</a>ï¼Œå¾ˆå®¹æ˜“å°±å®ç°ã€‚</p>\n<h2 id=\"ios-å·¥ç¨‹\"><a class=\"header-anchor\" href=\"#ios-å·¥ç¨‹\">Â¶</a>iOS å·¥ç¨‹</h2>\n<hr>\n<p>åœ¨ä¸Šé¢å‡†å¤‡å·¥ä½œä¸­ï¼Œå¦‚æœä½ å·²ç»æŒ‰æ­¥éª¤æ­å»ºå¥½ iOS+TF çš„å·¥ç¨‹ï¼Œè¿™é‡Œä½ åªéœ€è¦å¯¼å…¥ç”Ÿæˆçš„æœ€ç»ˆ pb æ–‡ä»¶å°±è¡Œäº†ã€‚å·¥ç¨‹ç»“æ„å¦‚å›¾ï¼š</p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2641798-ca34abd1c875504c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"XCodeå·¥ç¨‹\"></p>\n<p>ç„¶ååœ¨ iOS ä½¿ç”¨ pb æ–‡ä»¶ï¼Œæˆ‘è¿™é‡Œç›´æ¥å¯¼å…¥äº† Google æä¾›çš„<code>tensorflow_utils</code>ï¼Œä½¿ç”¨è¿™ä¸ªç±»é‡Œé¢çš„ LoadModel æ–¹æ³•å¯ä»¥å¾ˆå¿«çš„ç”Ÿæˆå«æœ‰è®¡ç®—å›¾çš„ sessionã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (void)viewDidLoad &#123;</span><br><span class=\"line\">    [super viewDidLoad];</span><br><span class=\"line\">    tensorflow::Status load_status;</span><br><span class=\"line\">    load_status = LoadModel(@&quot;rounded_graph&quot;, @&quot;pb&quot;, &amp;tf_session);</span><br><span class=\"line\">    if (!load_status.ok()) &#123;</span><br><span class=\"line\">        LOG(FATAL) &lt;&lt; &quot;Couldn&apos;t load model: &quot; &lt;&lt; load_status;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    currentStyle = 0;</span><br><span class=\"line\">    isDone = true;</span><br><span class=\"line\">    _styleImageView.layer.borderColor = [UIColor grayColor].CGColor;</span><br><span class=\"line\">    _styleImageView.layer.borderWidth = 0.5;</span><br><span class=\"line\">    _ogImageView.layer.borderColor = [UIColor grayColor].CGColor;</span><br><span class=\"line\">    _ogImageView.layer.borderWidth = 0.5;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æœ€åå°±æ˜¯è·å–å›¾ç‰‡ï¼Œæ‰§è¡Œè¿ç®—ï¼Œç”Ÿæˆè‰ºæœ¯å›¾ç‰‡å±•ç¤ºã€‚è¿™é‡Œå›¾ç‰‡éœ€è¦è½¬æ¢æˆ bitmap ç„¶åè·å– data å€¼ï¼Œå±•ç¤ºå›¾ç‰‡ä¹Ÿæ˜¯ç›¸è¯†çš„è¿‡ç¨‹ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">- (void)runCnn:(UIImage *)compressedImg</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    unsigned char *pixels = [self getImagePixel:compressedImg];</span><br><span class=\"line\">    int image_channels = 4;</span><br><span class=\"line\">    tensorflow::Tensor image_tensor(</span><br><span class=\"line\">                                    tensorflow::DT_FLOAT,</span><br><span class=\"line\">                                    tensorflow::TensorShape(</span><br><span class=\"line\">                                                            &#123;1, wanted_input_height, wanted_input_width, wanted_input_channels&#125;));</span><br><span class=\"line\">    auto image_tensor_mapped = image_tensor.tensor&lt;float, 4&gt;();</span><br><span class=\"line\">    tensorflow::uint8 *in = pixels;</span><br><span class=\"line\">    float *out = image_tensor_mapped.data();</span><br><span class=\"line\">    for (int y = 0; y &lt; wanted_input_height; ++y) &#123;</span><br><span class=\"line\">        float *out_row = out + (y * wanted_input_width * wanted_input_channels);</span><br><span class=\"line\">        for (int x = 0; x &lt; wanted_input_width; ++x) &#123;</span><br><span class=\"line\">            tensorflow::uint8 *in_pixel =</span><br><span class=\"line\">            in + (x * wanted_input_width * image_channels) + (y * image_channels);</span><br><span class=\"line\">            float *out_pixel = out_row + (x * wanted_input_channels);</span><br><span class=\"line\">            for (int c = 0; c &lt; wanted_input_channels; ++c) &#123;</span><br><span class=\"line\">                out_pixel[c] = in_pixel[c];</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    tensorflow::Tensor style(tensorflow::DT_FLOAT, tensorflow::TensorShape(&#123;32&#125;));</span><br><span class=\"line\">    float *style_data = style.tensor&lt;float, 1&gt;().data();</span><br><span class=\"line\">    memset(style_data, 0, sizeof(float) * 32);</span><br><span class=\"line\">    style_data[currentStyle] = 1;</span><br><span class=\"line\"></span><br><span class=\"line\">    if (tf_session.get()) &#123;</span><br><span class=\"line\">        std::vector&lt;tensorflow::Tensor&gt; outputs;</span><br><span class=\"line\">        tensorflow::Status run_status = tf_session-&gt;Run(</span><br><span class=\"line\">                                                        &#123;&#123;contentNode, image_tensor&#125;,</span><br><span class=\"line\">                                                            &#123;styleNode, style&#125;&#125;,</span><br><span class=\"line\">                                                        &#123;outputNode&#125;,</span><br><span class=\"line\">                                                        &#123;&#125;,</span><br><span class=\"line\">                                                        &amp;outputs);</span><br><span class=\"line\">        if (!run_status.ok()) &#123;</span><br><span class=\"line\">            LOG(ERROR) &lt;&lt; &quot;Running model failed:&quot; &lt;&lt; run_status;</span><br><span class=\"line\">            isDone = true;</span><br><span class=\"line\">            free(pixels);</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            float *styledData = outputs[0].tensor&lt;float,4&gt;().data();</span><br><span class=\"line\">            UIImage *styledImg = [self createImage:styledData];</span><br><span class=\"line\">            dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class=\"line\">                _styleImageView.image = styledImg;</span><br><span class=\"line\">                dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.3 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123;</span><br><span class=\"line\">                    isDone = true;</span><br><span class=\"line\">                    free(pixels);</span><br><span class=\"line\">                &#125;);</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- (unsigned char *)getImagePixel:(UIImage *)image</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    int width = image.size.width;</span><br><span class=\"line\">    int height = image.size.height;</span><br><span class=\"line\">    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();</span><br><span class=\"line\">    unsigned char *rawData = (unsigned char*) calloc(height * width * 4, sizeof(unsigned char));</span><br><span class=\"line\">    NSUInteger bytesPerPixel = 4;</span><br><span class=\"line\">    NSUInteger bytesPerRow = bytesPerPixel * width;</span><br><span class=\"line\">    NSUInteger bitsPerComponent = 8;</span><br><span class=\"line\">    CGContextRef context = CGBitmapContextCreate(rawData, width, height,</span><br><span class=\"line\"></span><br><span class=\"line\">                                                 bitsPerComponent, bytesPerRow, colorSpace,</span><br><span class=\"line\"></span><br><span class=\"line\">                                                 kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);</span><br><span class=\"line\"></span><br><span class=\"line\">    CGColorSpaceRelease(colorSpace);</span><br><span class=\"line\">    CGContextDrawImage(context, CGRectMake(0, 0, width, height), image.CGImage);</span><br><span class=\"line\">    UIImage *ogImg = [UIImage imageWithCGImage:CGBitmapContextCreateImage(context)];</span><br><span class=\"line\">    dispatch_async(dispatch_get_main_queue(), ^&#123;</span><br><span class=\"line\">        _ogImageView.image = ogImg;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    CGContextRelease(context);</span><br><span class=\"line\">    return rawData;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">- (UIImage *)createImage:(float *)pixels</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    unsigned char *rawData = (unsigned char*) calloc(wanted_input_height * wanted_input_width * 4, sizeof(unsigned char));</span><br><span class=\"line\">    for (int y = 0; y &lt; wanted_input_height; ++y) &#123;</span><br><span class=\"line\">        unsigned char *out_row = rawData + (y * wanted_input_width * 4);</span><br><span class=\"line\">        for (int x = 0; x &lt; wanted_input_width; ++x) &#123;</span><br><span class=\"line\">            float *in_pixel =</span><br><span class=\"line\">            pixels + (x * wanted_input_width * 3) + (y * 3);</span><br><span class=\"line\">            unsigned char *out_pixel = out_row + (x * 4);</span><br><span class=\"line\">            for (int c = 0; c &lt; wanted_input_channels; ++c) &#123;</span><br><span class=\"line\">                out_pixel[c] = in_pixel[c] * 255;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            out_pixel[3] = UINT8_MAX;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();</span><br><span class=\"line\">    NSUInteger bytesPerPixel = 4;</span><br><span class=\"line\">    NSUInteger bytesPerRow = bytesPerPixel * wanted_input_width;</span><br><span class=\"line\">    NSUInteger bitsPerComponent = 8;</span><br><span class=\"line\">    CGContextRef context = CGBitmapContextCreate(rawData, wanted_input_width, wanted_input_height,</span><br><span class=\"line\"></span><br><span class=\"line\">                                                 bitsPerComponent, bytesPerRow, colorSpace,</span><br><span class=\"line\"></span><br><span class=\"line\">                                                 kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);</span><br><span class=\"line\"></span><br><span class=\"line\">    CGColorSpaceRelease(colorSpace);</span><br><span class=\"line\">    UIImage *retImg = [UIImage imageWithCGImage:CGBitmapContextCreateImage(context)];</span><br><span class=\"line\">    CGContextRelease(context);</span><br><span class=\"line\">    free(rawData);</span><br><span class=\"line\">    return retImg;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><em>è¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼Œå‰é¢ python å·¥ç¨‹å·²ç»å®šä¹‰äº†ï¼Œæˆ‘çš„è¾“å…¥å’Œè¾“å‡ºå›¾ç‰‡çš„å¤§å°æ˜¯ 512âœ•512ã€‚</em></p>\n<h2 id=\"è¿æ¥-iphone-è¿è¡Œå·¥ç¨‹\"><a class=\"header-anchor\" href=\"#è¿æ¥-iphone-è¿è¡Œå·¥ç¨‹\">Â¶</a>è¿æ¥ iPhoneï¼Œè¿è¡Œå·¥ç¨‹</h2>\n<hr>\n<p>æœ€åè¿ä¸Šæ‰‹æœºè¿è¡Œï¼Œå°±å¯ä»¥è‡ªå·±åˆ›å»ºè‡ªå·±çš„è‰ºæœ¯ç±»å›¾ç‰‡äº†ã€‚ğŸ˜Š</p>\n<p>æ”¾å‡ å¼ è¿è¡Œæ•ˆæœå›¾ï¼š<br>\n<img src=\"http://upload-images.jianshu.io/upload_images/2641798-d105c1089f62c634.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"æˆªå›¾1\"></p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2641798-6b722e433ca66c5b.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"æˆªå›¾2\"></p>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2641798-1b5acd6620b5b447.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"æˆªå›¾3\"></p>"},{"title":"å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾","date":"2018-08-29T01:50:00.000Z","toc":true,"thumbnail":"https://upload-images.jianshu.io/upload_images/2641798-4cb2f61add473cd8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/124","_content":"\n## å‰è¨€\n\né›·è¾¾å›¾ï¼ˆRadar Chartï¼‰ï¼Œåˆå¯ç§°ä¸ºæˆ´å¸ƒæ‹‰å›¾ã€èœ˜è››ç½‘å›¾ï¼ˆSpider Chartï¼‰ï¼Œæ˜¯è´¢åŠ¡åˆ†ææŠ¥è¡¨çš„ä¸€ç§ã€‚ä½¿ç”¨è€…èƒ½ä¸€ç›®äº†ç„¶çš„äº†è§£å„é¡¹æŒ‡æ ‡çš„å˜åŠ¨æƒ…å½¢åŠå…¶å¥½åè¶‹å‘ã€‚\næœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨å¾®ä¿¡å°ç¨‹åºä¸­å®ç°é›·è¾¾å›¾ç»˜åˆ¶ã€‚\n\n<!-- more -->\n\n![é›·è¾¾å›¾](https://upload-images.jianshu.io/upload_images/2641798-4cb2f61add473cd8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n## ç»˜åˆ¶èƒŒæ™¯\n\né¦–å…ˆæˆ‘ä»¬éœ€è¦ç»˜åˆ¶å‡ºé›·è¾¾å›¾åé¢çš„â€œèœ˜è››ç½‘â€ã€‚å…·ä½“åŸç†å°±æ˜¯ä¸€å±‚ä¸€å±‚å°†å¤šè¾¹å½¢ç”»å‡ºæ¥ï¼Œæ ¹æ®æ•°æ®é•¿åº¦å†³å®šæ¯ä¸€ä¸ªç‚¹çš„ä½ç½®å’ŒåŠå¾„é•¿åº¦ã€‚\n\n```\nvar angle = Math.PI * 2 / length;\nfor (var layer = 5; layer > 0; layer--) {\n        context.beginPath();\n        context.setGlobalAlpha(1);\n        context.setStrokeStyle(\"#D3D3D3\");\n        if (layer % 2 != 0) {\n          context.setFillStyle(\"white\");\n        } else {\n          context.setFillStyle(\"#F5F5F5\");\n        }\n        var currentRad = layer / 5 * radius;\n        context.moveTo(center.x, center.y - currentRad);\n        var currentAngle = -Math.PI / 2;\n        for (var i = 0; i < length; i++) {\n          context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));\n          currentAngle += angle;\n        }\n        context.fill();\n        context.closePath();\n        context.stroke();\n      }\n```\n\nå¦‚ä»£ç æ‰€ç¤ºï¼Œ`angle`æ˜¯æ ¹æ®æ•°æ®é•¿åº¦å†³å®šçš„ï¼Œè¿™é‡Œä¸ºäº†å¥½çœ‹ï¼Œä¸€å…±ç”»äº”å±‚ï¼Œå¹¶ä¸”äº¤æ›¿æ¶‚æŠ¹é¢œè‰²ã€‚ä¸‹å›¾æ˜¯`length=6`çš„æ•ˆæœï¼š\n![èœ˜è››ç½‘](https://upload-images.jianshu.io/upload_images/2641798-482cb08a73db4b5c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n## ç»˜åˆ¶è½´\n\næ¥ä¸‹æ¥å°±æ˜¯å°†å„ä¸ªé¡¶ç‚¹ä¸åœ†å¿ƒè¿æ¥èµ·æ¥ã€‚æœ‰äº†â€œèœ˜è››ç½‘â€çš„ç»éªŒï¼Œç”»è½´å°±ç®€å•å¤šäº†ï¼Œåªéœ€è¦çŸ¥é“æœ€å¤–å±‚é¡¶ç‚¹ä½ç½®ç„¶å`lineTo`åœ†å¿ƒå°±è¡Œäº†ã€‚\n\n```\n      // draw Axis\n      context.beginPath();\n      var currentAngle = -Math.PI / 2;\n      for (var i = 0; i < length; i++) {\n        context.moveTo(center.x + radius * Math.cos(currentAngle), center.y + radius * Math.sin(currentAngle));\n        context.lineTo(center.x, center.y);\n        currentAngle += angle;\n      }\n      context.closePath();\n      context.stroke();\n```\n\nä»¥ä¸‹æ˜¯åŠ ä¸Šè½´çº¿åçš„æ•ˆæœï¼š\n![æ•°è½´](https://upload-images.jianshu.io/upload_images/2641798-fd3a8dd75cc634c6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n## ç»˜åˆ¶æŒ‡æ ‡\n\næ¥ä¸‹æ¥æ˜¯å°†å„ä¸ªç»´åº¦æŒ‡æ ‡åå­—æ·»åŠ åˆ°å›¾è¡¨ä¸Šã€‚åŒæ•°è½´ä¸€æ ·ï¼Œé¦–å…ˆéœ€è¦ç¡®å®šæœ€å¤–å±‚é¡¶ç‚¹çš„ä½ç½®ï¼Œç„¶åæ ¹æ®ä½ç½®è°ƒæ•´æ–‡å­—æ˜¾ç¤ºçš„åŸºå‡†ï¼Œå°†æ–‡å­—å†™ä¸Šå»ã€‚\n\n```\n      // draw Index\n      context.beginPath();\n      context.setFillStyle(\"#D3D3D3\");\n      context.setFontSize(14);\n      var currentAngle = -Math.PI / 2;\n      for (var i = 0; i < length; i++) {\n        var posX = center.x + radius * Math.cos(currentAngle);\n        var posY = center.y + radius * Math.sin(currentAngle);\n        if (posX < center.x) context.setTextAlign(\"right\");\n        else context.setTextAlign(\"left\");\n        if (posY > center.y) context.setTextBaseline(\"top\");\n        else context.setTextBaseline(\"bottom\");\n        context.fillText(that.options.xLabel[i], posX, posY);\n        currentAngle += angle;\n      }\n      context.closePath();\n```\n\nè¿™é‡Œä¸ºäº†å¥½çœ‹ï¼Œå¯¹äºæ–‡å­—è¦æ˜¾ç¤ºçš„ä½ç½®å°äºä¸­å¿ƒç‚¹ x åæ ‡çš„é å³å¯¹é½ï¼Œå¦åˆ™é å·¦å¯¹é½ï¼›å¯¹äºæ–‡å­—ä½ç½®å¤§äºä¸­å¿ƒç‚¹ y åæ ‡çš„åŸºå‡†è®¾ç½®åœ¨ä¸Šæ–¹ï¼Œå¦åˆ™åœ¨ä¸‹æ–¹ã€‚ä»¥ä¸‹æ˜¯åŠ ä¸ŠæŒ‡æ ‡åçš„æ•ˆæœï¼š\n![æŒ‡æ ‡](https://upload-images.jianshu.io/upload_images/2641798-896f6d32eda04d07.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n## ç»˜åˆ¶æ•°æ®\n\næœ€åï¼Œæˆ‘ä»¬å°†æ•°æ®ç»˜åˆ¶åˆ°å›¾è¡¨ä¸Šã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è¦ç¡®å®šæ‰€æœ‰æ•°æ®çš„æœ€å¤§å€¼ï¼Œå¦‚æœæœ€å¤§å€¼å¤§äº 10ï¼Œé‚£ä¹ˆå– 10 çš„å€æ•°ã€‚ç„¶ååŒç”»â€œèœ˜è››ç½‘â€ä¸€æ ·ï¼Œå°†å„ä¸ªæ•°æ®ç‚¹çš„åŠå¾„æ ¹æ®ç›¸å¯¹äºæœ€å¤§å€¼æ¯”ä¾‹æ¢ç®—å‡ºæ¥ï¼Œç„¶åç»˜åˆ¶åœ¨å›¾è¡¨ä¸Šã€‚\n\n```\n      // draw data\n      var MaxValue = Math.max.apply(null, that.options.data[0].value);\n      that.options.data.forEach(function(val) {\n        var temp = Math.max.apply(null, val.value);\n        if (temp > MaxValue) MaxValue = temp;\n      });\n      if (MaxValue > 10) {\n        MaxValue = Math.ceil(MaxValue / 10) * 10\n      }\n\n      that.options.data.forEach(function(val) {\n        context.beginPath();\n        context.setStrokeStyle(val.color);\n        var currentRad = radius * val.value[0] / MaxValue * step / MaxStep;\n        context.moveTo(center.x, center.y - currentRad);\n        var currentAngle = -Math.PI / 2;\n        for (var i = 0; i < length; i++) {\n          currentRad = radius * val.value[i] / MaxValue * step / MaxStep;\n          context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));\n          currentAngle += angle;\n        }\n        currentRad = radius * val.value[0] / MaxValue * step / MaxStep;\n        context.lineTo(center.x, center.y - currentRad);\n        context.stroke();\n        if (that.options.area) {\n          context.setFillStyle(val.color);\n          context.setGlobalAlpha(0.5);\n          context.fill();\n        }\n        context.closePath();\n      });\n      context.draw();\n```\n\nä»¥ä¸‹å°±æ˜¯æ·»åŠ æ•°æ®åçš„å®Œæ•´æ•ˆæœï¼š\n![æ•°æ®](https://upload-images.jianshu.io/upload_images/2641798-cb22523fbd815021.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n## æ·»åŠ ç»˜åˆ¶åŠ¨ç”»\n\nä¸ºäº†æ˜¾ç¤ºæ•ˆæœæ›´ä½³ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ç»˜åˆ¶å›¾è¡¨åŠ ä¸ŠåŠ¨ç”»ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š\n\n```\n  var angle = Math.PI * 2 / length;\n\n  var step = 1;\n  var MaxStep = that.options.animation ? 50 : 1;\n  var animation = function() {\n    if (step <= MaxStep) {\n      // draw background\n      for (var layer = 5; layer > 0; layer--) {\n        context.beginPath();\n        context.setGlobalAlpha(1);\n        context.setStrokeStyle(\"#D3D3D3\");\n        if (layer % 2 != 0) {\n          context.setFillStyle(\"white\");\n        } else {\n          context.setFillStyle(\"#F5F5F5\");\n        }\n        var currentRad = layer / 5 * radius;\n        context.moveTo(center.x, center.y - currentRad);\n        var currentAngle = -Math.PI / 2;\n        for (var i = 0; i < length; i++) {\n          context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));\n          currentAngle += angle;\n        }\n        context.fill();\n        context.closePath();\n        context.stroke();\n      }\n\n      // draw Axis\n      context.beginPath();\n      var currentAngle = -Math.PI / 2;\n      for (var i = 0; i < length; i++) {\n        context.moveTo(center.x + radius * Math.cos(currentAngle), center.y + radius * Math.sin(currentAngle));\n        context.lineTo(center.x, center.y);\n        currentAngle += angle;\n      }\n      context.closePath();\n      context.stroke();\n\n      // draw Index\n      context.beginPath();\n      context.setFillStyle(\"#D3D3D3\");\n      context.setFontSize(14);\n      var currentAngle = -Math.PI / 2;\n      for (var i = 0; i < length; i++) {\n        var posX = center.x + radius * Math.cos(currentAngle);\n        var posY = center.y + radius * Math.sin(currentAngle);\n        if (posX < center.x) context.setTextAlign(\"right\");\n        else context.setTextAlign(\"left\");\n        if (posY > center.y) context.setTextBaseline(\"top\");\n        else context.setTextBaseline(\"bottom\");\n        context.fillText(that.options.xLabel[i], posX, posY);\n        currentAngle += angle;\n      }\n      context.closePath();\n\n      // draw data\n      var MaxValue = Math.max.apply(null, that.options.data[0].value);\n      that.options.data.forEach(function(val) {\n        var temp = Math.max.apply(null, val.value);\n        if (temp > MaxValue) MaxValue = temp;\n      });\n      if (MaxValue > 10) {\n        MaxValue = Math.ceil(MaxValue / 10) * 10\n      }\n\n      that.options.data.forEach(function(val) {\n        context.beginPath();\n        context.setStrokeStyle(val.color);\n        var currentRad = radius * val.value[0] / MaxValue * step / MaxStep;\n        context.moveTo(center.x, center.y - currentRad);\n        var currentAngle = -Math.PI / 2;\n        for (var i = 0; i < length; i++) {\n          currentRad = radius * val.value[i] / MaxValue * step / MaxStep;\n          context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));\n          currentAngle += angle;\n        }\n        currentRad = radius * val.value[0] / MaxValue * step / MaxStep;\n        context.lineTo(center.x, center.y - currentRad);\n        context.stroke();\n        if (that.options.area) {\n          context.setFillStyle(val.color);\n          context.setGlobalAlpha(0.5);\n          context.fill();\n        }\n        context.closePath();\n      });\n      context.draw();\n      step++;\n    } else {\n      clearInterval(aniName);\n    }\n  }\n  var aniName = setInterval(animation, 10);\n```\n\næœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š\n![åŠ¨ç”»æ•ˆæœ](https://upload-images.jianshu.io/upload_images/2641798-d476058258f845d5.gif?imageMogr2/auto-orient/strip)\n\n## ç»“è¯­\n\nğŸ˜Š ä»¥ä¸Šå°±æ˜¯åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾çš„æ–¹æ³•ã€‚å¦‚æœ‰å…´è¶£äº†è§£æ›´å¤šï¼Œå¯ä»¥æŸ¥çœ‹å®Œæ•´ä»£ç ï¼š[https://github.com/chmini-app/CHCharts-wechat](https://github.com/chmini-app/CHCharts-wechat)ã€‚\n","source":"_posts/å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾.md","raw":"---\ntitle: å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾\ndate: 2018-08-29 09:50:00\ntags: [å°ç¨‹åº, html, å‰ç«¯]\ntoc: true\ncategories:\n  - å·¥ä½œ\n  - å°ç¨‹åº\nthumbnail: https://upload-images.jianshu.io/upload_images/2641798-4cb2f61add473cd8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/124\n---\n\n## å‰è¨€\n\né›·è¾¾å›¾ï¼ˆRadar Chartï¼‰ï¼Œåˆå¯ç§°ä¸ºæˆ´å¸ƒæ‹‰å›¾ã€èœ˜è››ç½‘å›¾ï¼ˆSpider Chartï¼‰ï¼Œæ˜¯è´¢åŠ¡åˆ†ææŠ¥è¡¨çš„ä¸€ç§ã€‚ä½¿ç”¨è€…èƒ½ä¸€ç›®äº†ç„¶çš„äº†è§£å„é¡¹æŒ‡æ ‡çš„å˜åŠ¨æƒ…å½¢åŠå…¶å¥½åè¶‹å‘ã€‚\næœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨å¾®ä¿¡å°ç¨‹åºä¸­å®ç°é›·è¾¾å›¾ç»˜åˆ¶ã€‚\n\n<!-- more -->\n\n![é›·è¾¾å›¾](https://upload-images.jianshu.io/upload_images/2641798-4cb2f61add473cd8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n## ç»˜åˆ¶èƒŒæ™¯\n\né¦–å…ˆæˆ‘ä»¬éœ€è¦ç»˜åˆ¶å‡ºé›·è¾¾å›¾åé¢çš„â€œèœ˜è››ç½‘â€ã€‚å…·ä½“åŸç†å°±æ˜¯ä¸€å±‚ä¸€å±‚å°†å¤šè¾¹å½¢ç”»å‡ºæ¥ï¼Œæ ¹æ®æ•°æ®é•¿åº¦å†³å®šæ¯ä¸€ä¸ªç‚¹çš„ä½ç½®å’ŒåŠå¾„é•¿åº¦ã€‚\n\n```\nvar angle = Math.PI * 2 / length;\nfor (var layer = 5; layer > 0; layer--) {\n        context.beginPath();\n        context.setGlobalAlpha(1);\n        context.setStrokeStyle(\"#D3D3D3\");\n        if (layer % 2 != 0) {\n          context.setFillStyle(\"white\");\n        } else {\n          context.setFillStyle(\"#F5F5F5\");\n        }\n        var currentRad = layer / 5 * radius;\n        context.moveTo(center.x, center.y - currentRad);\n        var currentAngle = -Math.PI / 2;\n        for (var i = 0; i < length; i++) {\n          context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));\n          currentAngle += angle;\n        }\n        context.fill();\n        context.closePath();\n        context.stroke();\n      }\n```\n\nå¦‚ä»£ç æ‰€ç¤ºï¼Œ`angle`æ˜¯æ ¹æ®æ•°æ®é•¿åº¦å†³å®šçš„ï¼Œè¿™é‡Œä¸ºäº†å¥½çœ‹ï¼Œä¸€å…±ç”»äº”å±‚ï¼Œå¹¶ä¸”äº¤æ›¿æ¶‚æŠ¹é¢œè‰²ã€‚ä¸‹å›¾æ˜¯`length=6`çš„æ•ˆæœï¼š\n![èœ˜è››ç½‘](https://upload-images.jianshu.io/upload_images/2641798-482cb08a73db4b5c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n## ç»˜åˆ¶è½´\n\næ¥ä¸‹æ¥å°±æ˜¯å°†å„ä¸ªé¡¶ç‚¹ä¸åœ†å¿ƒè¿æ¥èµ·æ¥ã€‚æœ‰äº†â€œèœ˜è››ç½‘â€çš„ç»éªŒï¼Œç”»è½´å°±ç®€å•å¤šäº†ï¼Œåªéœ€è¦çŸ¥é“æœ€å¤–å±‚é¡¶ç‚¹ä½ç½®ç„¶å`lineTo`åœ†å¿ƒå°±è¡Œäº†ã€‚\n\n```\n      // draw Axis\n      context.beginPath();\n      var currentAngle = -Math.PI / 2;\n      for (var i = 0; i < length; i++) {\n        context.moveTo(center.x + radius * Math.cos(currentAngle), center.y + radius * Math.sin(currentAngle));\n        context.lineTo(center.x, center.y);\n        currentAngle += angle;\n      }\n      context.closePath();\n      context.stroke();\n```\n\nä»¥ä¸‹æ˜¯åŠ ä¸Šè½´çº¿åçš„æ•ˆæœï¼š\n![æ•°è½´](https://upload-images.jianshu.io/upload_images/2641798-fd3a8dd75cc634c6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n## ç»˜åˆ¶æŒ‡æ ‡\n\næ¥ä¸‹æ¥æ˜¯å°†å„ä¸ªç»´åº¦æŒ‡æ ‡åå­—æ·»åŠ åˆ°å›¾è¡¨ä¸Šã€‚åŒæ•°è½´ä¸€æ ·ï¼Œé¦–å…ˆéœ€è¦ç¡®å®šæœ€å¤–å±‚é¡¶ç‚¹çš„ä½ç½®ï¼Œç„¶åæ ¹æ®ä½ç½®è°ƒæ•´æ–‡å­—æ˜¾ç¤ºçš„åŸºå‡†ï¼Œå°†æ–‡å­—å†™ä¸Šå»ã€‚\n\n```\n      // draw Index\n      context.beginPath();\n      context.setFillStyle(\"#D3D3D3\");\n      context.setFontSize(14);\n      var currentAngle = -Math.PI / 2;\n      for (var i = 0; i < length; i++) {\n        var posX = center.x + radius * Math.cos(currentAngle);\n        var posY = center.y + radius * Math.sin(currentAngle);\n        if (posX < center.x) context.setTextAlign(\"right\");\n        else context.setTextAlign(\"left\");\n        if (posY > center.y) context.setTextBaseline(\"top\");\n        else context.setTextBaseline(\"bottom\");\n        context.fillText(that.options.xLabel[i], posX, posY);\n        currentAngle += angle;\n      }\n      context.closePath();\n```\n\nè¿™é‡Œä¸ºäº†å¥½çœ‹ï¼Œå¯¹äºæ–‡å­—è¦æ˜¾ç¤ºçš„ä½ç½®å°äºä¸­å¿ƒç‚¹ x åæ ‡çš„é å³å¯¹é½ï¼Œå¦åˆ™é å·¦å¯¹é½ï¼›å¯¹äºæ–‡å­—ä½ç½®å¤§äºä¸­å¿ƒç‚¹ y åæ ‡çš„åŸºå‡†è®¾ç½®åœ¨ä¸Šæ–¹ï¼Œå¦åˆ™åœ¨ä¸‹æ–¹ã€‚ä»¥ä¸‹æ˜¯åŠ ä¸ŠæŒ‡æ ‡åçš„æ•ˆæœï¼š\n![æŒ‡æ ‡](https://upload-images.jianshu.io/upload_images/2641798-896f6d32eda04d07.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n## ç»˜åˆ¶æ•°æ®\n\næœ€åï¼Œæˆ‘ä»¬å°†æ•°æ®ç»˜åˆ¶åˆ°å›¾è¡¨ä¸Šã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è¦ç¡®å®šæ‰€æœ‰æ•°æ®çš„æœ€å¤§å€¼ï¼Œå¦‚æœæœ€å¤§å€¼å¤§äº 10ï¼Œé‚£ä¹ˆå– 10 çš„å€æ•°ã€‚ç„¶ååŒç”»â€œèœ˜è››ç½‘â€ä¸€æ ·ï¼Œå°†å„ä¸ªæ•°æ®ç‚¹çš„åŠå¾„æ ¹æ®ç›¸å¯¹äºæœ€å¤§å€¼æ¯”ä¾‹æ¢ç®—å‡ºæ¥ï¼Œç„¶åç»˜åˆ¶åœ¨å›¾è¡¨ä¸Šã€‚\n\n```\n      // draw data\n      var MaxValue = Math.max.apply(null, that.options.data[0].value);\n      that.options.data.forEach(function(val) {\n        var temp = Math.max.apply(null, val.value);\n        if (temp > MaxValue) MaxValue = temp;\n      });\n      if (MaxValue > 10) {\n        MaxValue = Math.ceil(MaxValue / 10) * 10\n      }\n\n      that.options.data.forEach(function(val) {\n        context.beginPath();\n        context.setStrokeStyle(val.color);\n        var currentRad = radius * val.value[0] / MaxValue * step / MaxStep;\n        context.moveTo(center.x, center.y - currentRad);\n        var currentAngle = -Math.PI / 2;\n        for (var i = 0; i < length; i++) {\n          currentRad = radius * val.value[i] / MaxValue * step / MaxStep;\n          context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));\n          currentAngle += angle;\n        }\n        currentRad = radius * val.value[0] / MaxValue * step / MaxStep;\n        context.lineTo(center.x, center.y - currentRad);\n        context.stroke();\n        if (that.options.area) {\n          context.setFillStyle(val.color);\n          context.setGlobalAlpha(0.5);\n          context.fill();\n        }\n        context.closePath();\n      });\n      context.draw();\n```\n\nä»¥ä¸‹å°±æ˜¯æ·»åŠ æ•°æ®åçš„å®Œæ•´æ•ˆæœï¼š\n![æ•°æ®](https://upload-images.jianshu.io/upload_images/2641798-cb22523fbd815021.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n## æ·»åŠ ç»˜åˆ¶åŠ¨ç”»\n\nä¸ºäº†æ˜¾ç¤ºæ•ˆæœæ›´ä½³ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ç»˜åˆ¶å›¾è¡¨åŠ ä¸ŠåŠ¨ç”»ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š\n\n```\n  var angle = Math.PI * 2 / length;\n\n  var step = 1;\n  var MaxStep = that.options.animation ? 50 : 1;\n  var animation = function() {\n    if (step <= MaxStep) {\n      // draw background\n      for (var layer = 5; layer > 0; layer--) {\n        context.beginPath();\n        context.setGlobalAlpha(1);\n        context.setStrokeStyle(\"#D3D3D3\");\n        if (layer % 2 != 0) {\n          context.setFillStyle(\"white\");\n        } else {\n          context.setFillStyle(\"#F5F5F5\");\n        }\n        var currentRad = layer / 5 * radius;\n        context.moveTo(center.x, center.y - currentRad);\n        var currentAngle = -Math.PI / 2;\n        for (var i = 0; i < length; i++) {\n          context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));\n          currentAngle += angle;\n        }\n        context.fill();\n        context.closePath();\n        context.stroke();\n      }\n\n      // draw Axis\n      context.beginPath();\n      var currentAngle = -Math.PI / 2;\n      for (var i = 0; i < length; i++) {\n        context.moveTo(center.x + radius * Math.cos(currentAngle), center.y + radius * Math.sin(currentAngle));\n        context.lineTo(center.x, center.y);\n        currentAngle += angle;\n      }\n      context.closePath();\n      context.stroke();\n\n      // draw Index\n      context.beginPath();\n      context.setFillStyle(\"#D3D3D3\");\n      context.setFontSize(14);\n      var currentAngle = -Math.PI / 2;\n      for (var i = 0; i < length; i++) {\n        var posX = center.x + radius * Math.cos(currentAngle);\n        var posY = center.y + radius * Math.sin(currentAngle);\n        if (posX < center.x) context.setTextAlign(\"right\");\n        else context.setTextAlign(\"left\");\n        if (posY > center.y) context.setTextBaseline(\"top\");\n        else context.setTextBaseline(\"bottom\");\n        context.fillText(that.options.xLabel[i], posX, posY);\n        currentAngle += angle;\n      }\n      context.closePath();\n\n      // draw data\n      var MaxValue = Math.max.apply(null, that.options.data[0].value);\n      that.options.data.forEach(function(val) {\n        var temp = Math.max.apply(null, val.value);\n        if (temp > MaxValue) MaxValue = temp;\n      });\n      if (MaxValue > 10) {\n        MaxValue = Math.ceil(MaxValue / 10) * 10\n      }\n\n      that.options.data.forEach(function(val) {\n        context.beginPath();\n        context.setStrokeStyle(val.color);\n        var currentRad = radius * val.value[0] / MaxValue * step / MaxStep;\n        context.moveTo(center.x, center.y - currentRad);\n        var currentAngle = -Math.PI / 2;\n        for (var i = 0; i < length; i++) {\n          currentRad = radius * val.value[i] / MaxValue * step / MaxStep;\n          context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));\n          currentAngle += angle;\n        }\n        currentRad = radius * val.value[0] / MaxValue * step / MaxStep;\n        context.lineTo(center.x, center.y - currentRad);\n        context.stroke();\n        if (that.options.area) {\n          context.setFillStyle(val.color);\n          context.setGlobalAlpha(0.5);\n          context.fill();\n        }\n        context.closePath();\n      });\n      context.draw();\n      step++;\n    } else {\n      clearInterval(aniName);\n    }\n  }\n  var aniName = setInterval(animation, 10);\n```\n\næœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š\n![åŠ¨ç”»æ•ˆæœ](https://upload-images.jianshu.io/upload_images/2641798-d476058258f845d5.gif?imageMogr2/auto-orient/strip)\n\n## ç»“è¯­\n\nğŸ˜Š ä»¥ä¸Šå°±æ˜¯åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾çš„æ–¹æ³•ã€‚å¦‚æœ‰å…´è¶£äº†è§£æ›´å¤šï¼Œå¯ä»¥æŸ¥çœ‹å®Œæ•´ä»£ç ï¼š[https://github.com/chmini-app/CHCharts-wechat](https://github.com/chmini-app/CHCharts-wechat)ã€‚\n","slug":"å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾","published":1,"updated":"2019-01-08T05:32:48.949Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlpj3001zhqoxlrujnuvf","content":"<h2 id=\"å‰è¨€\"><a class=\"header-anchor\" href=\"#å‰è¨€\">Â¶</a>å‰è¨€</h2>\n<p>é›·è¾¾å›¾ï¼ˆRadar Chartï¼‰ï¼Œåˆå¯ç§°ä¸ºæˆ´å¸ƒæ‹‰å›¾ã€èœ˜è››ç½‘å›¾ï¼ˆSpider Chartï¼‰ï¼Œæ˜¯è´¢åŠ¡åˆ†ææŠ¥è¡¨çš„ä¸€ç§ã€‚ä½¿ç”¨è€…èƒ½ä¸€ç›®äº†ç„¶çš„äº†è§£å„é¡¹æŒ‡æ ‡çš„å˜åŠ¨æƒ…å½¢åŠå…¶å¥½åè¶‹å‘ã€‚<br>\næœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨å¾®ä¿¡å°ç¨‹åºä¸­å®ç°é›·è¾¾å›¾ç»˜åˆ¶ã€‚</p>\n<a id=\"more\"></a>\n<p><img src=\"https://upload-images.jianshu.io/upload_images/2641798-4cb2f61add473cd8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"é›·è¾¾å›¾\"></p>\n<h2 id=\"ç»˜åˆ¶èƒŒæ™¯\"><a class=\"header-anchor\" href=\"#ç»˜åˆ¶èƒŒæ™¯\">Â¶</a>ç»˜åˆ¶èƒŒæ™¯</h2>\n<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç»˜åˆ¶å‡ºé›·è¾¾å›¾åé¢çš„â€œèœ˜è››ç½‘â€ã€‚å…·ä½“åŸç†å°±æ˜¯ä¸€å±‚ä¸€å±‚å°†å¤šè¾¹å½¢ç”»å‡ºæ¥ï¼Œæ ¹æ®æ•°æ®é•¿åº¦å†³å®šæ¯ä¸€ä¸ªç‚¹çš„ä½ç½®å’ŒåŠå¾„é•¿åº¦ã€‚</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var angle = Math.PI * 2 / length;</span><br><span class=\"line\">for (var layer = 5; layer &gt; 0; layer--) &#123;</span><br><span class=\"line\">        context.beginPath();</span><br><span class=\"line\">        context.setGlobalAlpha(1);</span><br><span class=\"line\">        context.setStrokeStyle(&quot;#D3D3D3&quot;);</span><br><span class=\"line\">        if (layer % 2 != 0) &#123;</span><br><span class=\"line\">          context.setFillStyle(&quot;white&quot;);</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          context.setFillStyle(&quot;#F5F5F5&quot;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        var currentRad = layer / 5 * radius;</span><br><span class=\"line\">        context.moveTo(center.x, center.y - currentRad);</span><br><span class=\"line\">        var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">        for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">          context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));</span><br><span class=\"line\">          currentAngle += angle;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        context.fill();</span><br><span class=\"line\">        context.closePath();</span><br><span class=\"line\">        context.stroke();</span><br><span class=\"line\">      &#125;</span><br></pre></td></tr></table></figure>\n<p>å¦‚ä»£ç æ‰€ç¤ºï¼Œ<code>angle</code>æ˜¯æ ¹æ®æ•°æ®é•¿åº¦å†³å®šçš„ï¼Œè¿™é‡Œä¸ºäº†å¥½çœ‹ï¼Œä¸€å…±ç”»äº”å±‚ï¼Œå¹¶ä¸”äº¤æ›¿æ¶‚æŠ¹é¢œè‰²ã€‚ä¸‹å›¾æ˜¯<code>length=6</code>çš„æ•ˆæœï¼š<br>\n<img src=\"https://upload-images.jianshu.io/upload_images/2641798-482cb08a73db4b5c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"èœ˜è››ç½‘\"></p>\n<h2 id=\"ç»˜åˆ¶è½´\"><a class=\"header-anchor\" href=\"#ç»˜åˆ¶è½´\">Â¶</a>ç»˜åˆ¶è½´</h2>\n<p>æ¥ä¸‹æ¥å°±æ˜¯å°†å„ä¸ªé¡¶ç‚¹ä¸åœ†å¿ƒè¿æ¥èµ·æ¥ã€‚æœ‰äº†â€œèœ˜è››ç½‘â€çš„ç»éªŒï¼Œç”»è½´å°±ç®€å•å¤šäº†ï¼Œåªéœ€è¦çŸ¥é“æœ€å¤–å±‚é¡¶ç‚¹ä½ç½®ç„¶å<code>lineTo</code>åœ†å¿ƒå°±è¡Œäº†ã€‚</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// draw Axis</span><br><span class=\"line\">context.beginPath();</span><br><span class=\"line\">var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">  context.moveTo(center.x + radius * Math.cos(currentAngle), center.y + radius * Math.sin(currentAngle));</span><br><span class=\"line\">  context.lineTo(center.x, center.y);</span><br><span class=\"line\">  currentAngle += angle;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">context.closePath();</span><br><span class=\"line\">context.stroke();</span><br></pre></td></tr></table></figure>\n<p>ä»¥ä¸‹æ˜¯åŠ ä¸Šè½´çº¿åçš„æ•ˆæœï¼š<br>\n<img src=\"https://upload-images.jianshu.io/upload_images/2641798-fd3a8dd75cc634c6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"æ•°è½´\"></p>\n<h2 id=\"ç»˜åˆ¶æŒ‡æ ‡\"><a class=\"header-anchor\" href=\"#ç»˜åˆ¶æŒ‡æ ‡\">Â¶</a>ç»˜åˆ¶æŒ‡æ ‡</h2>\n<p>æ¥ä¸‹æ¥æ˜¯å°†å„ä¸ªç»´åº¦æŒ‡æ ‡åå­—æ·»åŠ åˆ°å›¾è¡¨ä¸Šã€‚åŒæ•°è½´ä¸€æ ·ï¼Œé¦–å…ˆéœ€è¦ç¡®å®šæœ€å¤–å±‚é¡¶ç‚¹çš„ä½ç½®ï¼Œç„¶åæ ¹æ®ä½ç½®è°ƒæ•´æ–‡å­—æ˜¾ç¤ºçš„åŸºå‡†ï¼Œå°†æ–‡å­—å†™ä¸Šå»ã€‚</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// draw Index</span><br><span class=\"line\">context.beginPath();</span><br><span class=\"line\">context.setFillStyle(&quot;#D3D3D3&quot;);</span><br><span class=\"line\">context.setFontSize(14);</span><br><span class=\"line\">var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">  var posX = center.x + radius * Math.cos(currentAngle);</span><br><span class=\"line\">  var posY = center.y + radius * Math.sin(currentAngle);</span><br><span class=\"line\">  if (posX &lt; center.x) context.setTextAlign(&quot;right&quot;);</span><br><span class=\"line\">  else context.setTextAlign(&quot;left&quot;);</span><br><span class=\"line\">  if (posY &gt; center.y) context.setTextBaseline(&quot;top&quot;);</span><br><span class=\"line\">  else context.setTextBaseline(&quot;bottom&quot;);</span><br><span class=\"line\">  context.fillText(that.options.xLabel[i], posX, posY);</span><br><span class=\"line\">  currentAngle += angle;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">context.closePath();</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œä¸ºäº†å¥½çœ‹ï¼Œå¯¹äºæ–‡å­—è¦æ˜¾ç¤ºçš„ä½ç½®å°äºä¸­å¿ƒç‚¹ x åæ ‡çš„é å³å¯¹é½ï¼Œå¦åˆ™é å·¦å¯¹é½ï¼›å¯¹äºæ–‡å­—ä½ç½®å¤§äºä¸­å¿ƒç‚¹ y åæ ‡çš„åŸºå‡†è®¾ç½®åœ¨ä¸Šæ–¹ï¼Œå¦åˆ™åœ¨ä¸‹æ–¹ã€‚ä»¥ä¸‹æ˜¯åŠ ä¸ŠæŒ‡æ ‡åçš„æ•ˆæœï¼š<br>\n<img src=\"https://upload-images.jianshu.io/upload_images/2641798-896f6d32eda04d07.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"æŒ‡æ ‡\"></p>\n<h2 id=\"ç»˜åˆ¶æ•°æ®\"><a class=\"header-anchor\" href=\"#ç»˜åˆ¶æ•°æ®\">Â¶</a>ç»˜åˆ¶æ•°æ®</h2>\n<p>æœ€åï¼Œæˆ‘ä»¬å°†æ•°æ®ç»˜åˆ¶åˆ°å›¾è¡¨ä¸Šã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è¦ç¡®å®šæ‰€æœ‰æ•°æ®çš„æœ€å¤§å€¼ï¼Œå¦‚æœæœ€å¤§å€¼å¤§äº 10ï¼Œé‚£ä¹ˆå– 10 çš„å€æ•°ã€‚ç„¶ååŒç”»â€œèœ˜è››ç½‘â€ä¸€æ ·ï¼Œå°†å„ä¸ªæ•°æ®ç‚¹çš„åŠå¾„æ ¹æ®ç›¸å¯¹äºæœ€å¤§å€¼æ¯”ä¾‹æ¢ç®—å‡ºæ¥ï¼Œç„¶åç»˜åˆ¶åœ¨å›¾è¡¨ä¸Šã€‚</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// draw data</span><br><span class=\"line\">var MaxValue = Math.max.apply(null, that.options.data[0].value);</span><br><span class=\"line\">that.options.data.forEach(function(val) &#123;</span><br><span class=\"line\">  var temp = Math.max.apply(null, val.value);</span><br><span class=\"line\">  if (temp &gt; MaxValue) MaxValue = temp;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">if (MaxValue &gt; 10) &#123;</span><br><span class=\"line\">  MaxValue = Math.ceil(MaxValue / 10) * 10</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">that.options.data.forEach(function(val) &#123;</span><br><span class=\"line\">  context.beginPath();</span><br><span class=\"line\">  context.setStrokeStyle(val.color);</span><br><span class=\"line\">  var currentRad = radius * val.value[0] / MaxValue * step / MaxStep;</span><br><span class=\"line\">  context.moveTo(center.x, center.y - currentRad);</span><br><span class=\"line\">  var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">  for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">    currentRad = radius * val.value[i] / MaxValue * step / MaxStep;</span><br><span class=\"line\">    context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));</span><br><span class=\"line\">    currentAngle += angle;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  currentRad = radius * val.value[0] / MaxValue * step / MaxStep;</span><br><span class=\"line\">  context.lineTo(center.x, center.y - currentRad);</span><br><span class=\"line\">  context.stroke();</span><br><span class=\"line\">  if (that.options.area) &#123;</span><br><span class=\"line\">    context.setFillStyle(val.color);</span><br><span class=\"line\">    context.setGlobalAlpha(0.5);</span><br><span class=\"line\">    context.fill();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  context.closePath();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">context.draw();</span><br></pre></td></tr></table></figure>\n<p>ä»¥ä¸‹å°±æ˜¯æ·»åŠ æ•°æ®åçš„å®Œæ•´æ•ˆæœï¼š<br>\n<img src=\"https://upload-images.jianshu.io/upload_images/2641798-cb22523fbd815021.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"æ•°æ®\"></p>\n<h2 id=\"æ·»åŠ ç»˜åˆ¶åŠ¨ç”»\"><a class=\"header-anchor\" href=\"#æ·»åŠ ç»˜åˆ¶åŠ¨ç”»\">Â¶</a>æ·»åŠ ç»˜åˆ¶åŠ¨ç”»</h2>\n<p>ä¸ºäº†æ˜¾ç¤ºæ•ˆæœæ›´ä½³ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ç»˜åˆ¶å›¾è¡¨åŠ ä¸ŠåŠ¨ç”»ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var angle = Math.PI * 2 / length;</span><br><span class=\"line\"></span><br><span class=\"line\">var step = 1;</span><br><span class=\"line\">var MaxStep = that.options.animation ? 50 : 1;</span><br><span class=\"line\">var animation = function() &#123;</span><br><span class=\"line\">  if (step &lt;= MaxStep) &#123;</span><br><span class=\"line\">    // draw background</span><br><span class=\"line\">    for (var layer = 5; layer &gt; 0; layer--) &#123;</span><br><span class=\"line\">      context.beginPath();</span><br><span class=\"line\">      context.setGlobalAlpha(1);</span><br><span class=\"line\">      context.setStrokeStyle(&quot;#D3D3D3&quot;);</span><br><span class=\"line\">      if (layer % 2 != 0) &#123;</span><br><span class=\"line\">        context.setFillStyle(&quot;white&quot;);</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        context.setFillStyle(&quot;#F5F5F5&quot;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      var currentRad = layer / 5 * radius;</span><br><span class=\"line\">      context.moveTo(center.x, center.y - currentRad);</span><br><span class=\"line\">      var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">      for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">        context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));</span><br><span class=\"line\">        currentAngle += angle;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      context.fill();</span><br><span class=\"line\">      context.closePath();</span><br><span class=\"line\">      context.stroke();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // draw Axis</span><br><span class=\"line\">    context.beginPath();</span><br><span class=\"line\">    var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">    for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">      context.moveTo(center.x + radius * Math.cos(currentAngle), center.y + radius * Math.sin(currentAngle));</span><br><span class=\"line\">      context.lineTo(center.x, center.y);</span><br><span class=\"line\">      currentAngle += angle;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    context.closePath();</span><br><span class=\"line\">    context.stroke();</span><br><span class=\"line\"></span><br><span class=\"line\">    // draw Index</span><br><span class=\"line\">    context.beginPath();</span><br><span class=\"line\">    context.setFillStyle(&quot;#D3D3D3&quot;);</span><br><span class=\"line\">    context.setFontSize(14);</span><br><span class=\"line\">    var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">    for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">      var posX = center.x + radius * Math.cos(currentAngle);</span><br><span class=\"line\">      var posY = center.y + radius * Math.sin(currentAngle);</span><br><span class=\"line\">      if (posX &lt; center.x) context.setTextAlign(&quot;right&quot;);</span><br><span class=\"line\">      else context.setTextAlign(&quot;left&quot;);</span><br><span class=\"line\">      if (posY &gt; center.y) context.setTextBaseline(&quot;top&quot;);</span><br><span class=\"line\">      else context.setTextBaseline(&quot;bottom&quot;);</span><br><span class=\"line\">      context.fillText(that.options.xLabel[i], posX, posY);</span><br><span class=\"line\">      currentAngle += angle;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    context.closePath();</span><br><span class=\"line\"></span><br><span class=\"line\">    // draw data</span><br><span class=\"line\">    var MaxValue = Math.max.apply(null, that.options.data[0].value);</span><br><span class=\"line\">    that.options.data.forEach(function(val) &#123;</span><br><span class=\"line\">      var temp = Math.max.apply(null, val.value);</span><br><span class=\"line\">      if (temp &gt; MaxValue) MaxValue = temp;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    if (MaxValue &gt; 10) &#123;</span><br><span class=\"line\">      MaxValue = Math.ceil(MaxValue / 10) * 10</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    that.options.data.forEach(function(val) &#123;</span><br><span class=\"line\">      context.beginPath();</span><br><span class=\"line\">      context.setStrokeStyle(val.color);</span><br><span class=\"line\">      var currentRad = radius * val.value[0] / MaxValue * step / MaxStep;</span><br><span class=\"line\">      context.moveTo(center.x, center.y - currentRad);</span><br><span class=\"line\">      var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">      for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">        currentRad = radius * val.value[i] / MaxValue * step / MaxStep;</span><br><span class=\"line\">        context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));</span><br><span class=\"line\">        currentAngle += angle;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      currentRad = radius * val.value[0] / MaxValue * step / MaxStep;</span><br><span class=\"line\">      context.lineTo(center.x, center.y - currentRad);</span><br><span class=\"line\">      context.stroke();</span><br><span class=\"line\">      if (that.options.area) &#123;</span><br><span class=\"line\">        context.setFillStyle(val.color);</span><br><span class=\"line\">        context.setGlobalAlpha(0.5);</span><br><span class=\"line\">        context.fill();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      context.closePath();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    context.draw();</span><br><span class=\"line\">    step++;</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    clearInterval(aniName);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var aniName = setInterval(animation, 10);</span><br></pre></td></tr></table></figure>\n<p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š<br>\n<img src=\"https://upload-images.jianshu.io/upload_images/2641798-d476058258f845d5.gif?imageMogr2/auto-orient/strip\" alt=\"åŠ¨ç”»æ•ˆæœ\"></p>\n<h2 id=\"ç»“è¯­\"><a class=\"header-anchor\" href=\"#ç»“è¯­\">Â¶</a>ç»“è¯­</h2>\n<p>ğŸ˜Š ä»¥ä¸Šå°±æ˜¯åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾çš„æ–¹æ³•ã€‚å¦‚æœ‰å…´è¶£äº†è§£æ›´å¤šï¼Œå¯ä»¥æŸ¥çœ‹å®Œæ•´ä»£ç ï¼š<a href=\"https://github.com/chmini-app/CHCharts-wechat\" target=\"_blank\" rel=\"noopener\">https://github.com/chmini-app/CHCharts-wechat</a>ã€‚</p>\n","site":{"data":{}},"excerpt":"<h2 id=\"å‰è¨€\"><a class=\"header-anchor\" href=\"#å‰è¨€\">Â¶</a>å‰è¨€</h2>\n<p>é›·è¾¾å›¾ï¼ˆRadar Chartï¼‰ï¼Œåˆå¯ç§°ä¸ºæˆ´å¸ƒæ‹‰å›¾ã€èœ˜è››ç½‘å›¾ï¼ˆSpider Chartï¼‰ï¼Œæ˜¯è´¢åŠ¡åˆ†ææŠ¥è¡¨çš„ä¸€ç§ã€‚ä½¿ç”¨è€…èƒ½ä¸€ç›®äº†ç„¶çš„äº†è§£å„é¡¹æŒ‡æ ‡çš„å˜åŠ¨æƒ…å½¢åŠå…¶å¥½åè¶‹å‘ã€‚<br>\næœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨å¾®ä¿¡å°ç¨‹åºä¸­å®ç°é›·è¾¾å›¾ç»˜åˆ¶ã€‚</p>","more":"<p><img src=\"https://upload-images.jianshu.io/upload_images/2641798-4cb2f61add473cd8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"é›·è¾¾å›¾\"></p>\n<h2 id=\"ç»˜åˆ¶èƒŒæ™¯\"><a class=\"header-anchor\" href=\"#ç»˜åˆ¶èƒŒæ™¯\">Â¶</a>ç»˜åˆ¶èƒŒæ™¯</h2>\n<p>é¦–å…ˆæˆ‘ä»¬éœ€è¦ç»˜åˆ¶å‡ºé›·è¾¾å›¾åé¢çš„â€œèœ˜è››ç½‘â€ã€‚å…·ä½“åŸç†å°±æ˜¯ä¸€å±‚ä¸€å±‚å°†å¤šè¾¹å½¢ç”»å‡ºæ¥ï¼Œæ ¹æ®æ•°æ®é•¿åº¦å†³å®šæ¯ä¸€ä¸ªç‚¹çš„ä½ç½®å’ŒåŠå¾„é•¿åº¦ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var angle = Math.PI * 2 / length;</span><br><span class=\"line\">for (var layer = 5; layer &gt; 0; layer--) &#123;</span><br><span class=\"line\">        context.beginPath();</span><br><span class=\"line\">        context.setGlobalAlpha(1);</span><br><span class=\"line\">        context.setStrokeStyle(&quot;#D3D3D3&quot;);</span><br><span class=\"line\">        if (layer % 2 != 0) &#123;</span><br><span class=\"line\">          context.setFillStyle(&quot;white&quot;);</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">          context.setFillStyle(&quot;#F5F5F5&quot;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        var currentRad = layer / 5 * radius;</span><br><span class=\"line\">        context.moveTo(center.x, center.y - currentRad);</span><br><span class=\"line\">        var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">        for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">          context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));</span><br><span class=\"line\">          currentAngle += angle;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        context.fill();</span><br><span class=\"line\">        context.closePath();</span><br><span class=\"line\">        context.stroke();</span><br><span class=\"line\">      &#125;</span><br></pre></td></tr></table></figure>\n<p>å¦‚ä»£ç æ‰€ç¤ºï¼Œ<code>angle</code>æ˜¯æ ¹æ®æ•°æ®é•¿åº¦å†³å®šçš„ï¼Œè¿™é‡Œä¸ºäº†å¥½çœ‹ï¼Œä¸€å…±ç”»äº”å±‚ï¼Œå¹¶ä¸”äº¤æ›¿æ¶‚æŠ¹é¢œè‰²ã€‚ä¸‹å›¾æ˜¯<code>length=6</code>çš„æ•ˆæœï¼š<br>\n<img src=\"https://upload-images.jianshu.io/upload_images/2641798-482cb08a73db4b5c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"èœ˜è››ç½‘\"></p>\n<h2 id=\"ç»˜åˆ¶è½´\"><a class=\"header-anchor\" href=\"#ç»˜åˆ¶è½´\">Â¶</a>ç»˜åˆ¶è½´</h2>\n<p>æ¥ä¸‹æ¥å°±æ˜¯å°†å„ä¸ªé¡¶ç‚¹ä¸åœ†å¿ƒè¿æ¥èµ·æ¥ã€‚æœ‰äº†â€œèœ˜è››ç½‘â€çš„ç»éªŒï¼Œç”»è½´å°±ç®€å•å¤šäº†ï¼Œåªéœ€è¦çŸ¥é“æœ€å¤–å±‚é¡¶ç‚¹ä½ç½®ç„¶å<code>lineTo</code>åœ†å¿ƒå°±è¡Œäº†ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// draw Axis</span><br><span class=\"line\">context.beginPath();</span><br><span class=\"line\">var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">  context.moveTo(center.x + radius * Math.cos(currentAngle), center.y + radius * Math.sin(currentAngle));</span><br><span class=\"line\">  context.lineTo(center.x, center.y);</span><br><span class=\"line\">  currentAngle += angle;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">context.closePath();</span><br><span class=\"line\">context.stroke();</span><br></pre></td></tr></table></figure>\n<p>ä»¥ä¸‹æ˜¯åŠ ä¸Šè½´çº¿åçš„æ•ˆæœï¼š<br>\n<img src=\"https://upload-images.jianshu.io/upload_images/2641798-fd3a8dd75cc634c6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"æ•°è½´\"></p>\n<h2 id=\"ç»˜åˆ¶æŒ‡æ ‡\"><a class=\"header-anchor\" href=\"#ç»˜åˆ¶æŒ‡æ ‡\">Â¶</a>ç»˜åˆ¶æŒ‡æ ‡</h2>\n<p>æ¥ä¸‹æ¥æ˜¯å°†å„ä¸ªç»´åº¦æŒ‡æ ‡åå­—æ·»åŠ åˆ°å›¾è¡¨ä¸Šã€‚åŒæ•°è½´ä¸€æ ·ï¼Œé¦–å…ˆéœ€è¦ç¡®å®šæœ€å¤–å±‚é¡¶ç‚¹çš„ä½ç½®ï¼Œç„¶åæ ¹æ®ä½ç½®è°ƒæ•´æ–‡å­—æ˜¾ç¤ºçš„åŸºå‡†ï¼Œå°†æ–‡å­—å†™ä¸Šå»ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// draw Index</span><br><span class=\"line\">context.beginPath();</span><br><span class=\"line\">context.setFillStyle(&quot;#D3D3D3&quot;);</span><br><span class=\"line\">context.setFontSize(14);</span><br><span class=\"line\">var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">  var posX = center.x + radius * Math.cos(currentAngle);</span><br><span class=\"line\">  var posY = center.y + radius * Math.sin(currentAngle);</span><br><span class=\"line\">  if (posX &lt; center.x) context.setTextAlign(&quot;right&quot;);</span><br><span class=\"line\">  else context.setTextAlign(&quot;left&quot;);</span><br><span class=\"line\">  if (posY &gt; center.y) context.setTextBaseline(&quot;top&quot;);</span><br><span class=\"line\">  else context.setTextBaseline(&quot;bottom&quot;);</span><br><span class=\"line\">  context.fillText(that.options.xLabel[i], posX, posY);</span><br><span class=\"line\">  currentAngle += angle;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">context.closePath();</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œä¸ºäº†å¥½çœ‹ï¼Œå¯¹äºæ–‡å­—è¦æ˜¾ç¤ºçš„ä½ç½®å°äºä¸­å¿ƒç‚¹ x åæ ‡çš„é å³å¯¹é½ï¼Œå¦åˆ™é å·¦å¯¹é½ï¼›å¯¹äºæ–‡å­—ä½ç½®å¤§äºä¸­å¿ƒç‚¹ y åæ ‡çš„åŸºå‡†è®¾ç½®åœ¨ä¸Šæ–¹ï¼Œå¦åˆ™åœ¨ä¸‹æ–¹ã€‚ä»¥ä¸‹æ˜¯åŠ ä¸ŠæŒ‡æ ‡åçš„æ•ˆæœï¼š<br>\n<img src=\"https://upload-images.jianshu.io/upload_images/2641798-896f6d32eda04d07.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"æŒ‡æ ‡\"></p>\n<h2 id=\"ç»˜åˆ¶æ•°æ®\"><a class=\"header-anchor\" href=\"#ç»˜åˆ¶æ•°æ®\">Â¶</a>ç»˜åˆ¶æ•°æ®</h2>\n<p>æœ€åï¼Œæˆ‘ä»¬å°†æ•°æ®ç»˜åˆ¶åˆ°å›¾è¡¨ä¸Šã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è¦ç¡®å®šæ‰€æœ‰æ•°æ®çš„æœ€å¤§å€¼ï¼Œå¦‚æœæœ€å¤§å€¼å¤§äº 10ï¼Œé‚£ä¹ˆå– 10 çš„å€æ•°ã€‚ç„¶ååŒç”»â€œèœ˜è››ç½‘â€ä¸€æ ·ï¼Œå°†å„ä¸ªæ•°æ®ç‚¹çš„åŠå¾„æ ¹æ®ç›¸å¯¹äºæœ€å¤§å€¼æ¯”ä¾‹æ¢ç®—å‡ºæ¥ï¼Œç„¶åç»˜åˆ¶åœ¨å›¾è¡¨ä¸Šã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// draw data</span><br><span class=\"line\">var MaxValue = Math.max.apply(null, that.options.data[0].value);</span><br><span class=\"line\">that.options.data.forEach(function(val) &#123;</span><br><span class=\"line\">  var temp = Math.max.apply(null, val.value);</span><br><span class=\"line\">  if (temp &gt; MaxValue) MaxValue = temp;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">if (MaxValue &gt; 10) &#123;</span><br><span class=\"line\">  MaxValue = Math.ceil(MaxValue / 10) * 10</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">that.options.data.forEach(function(val) &#123;</span><br><span class=\"line\">  context.beginPath();</span><br><span class=\"line\">  context.setStrokeStyle(val.color);</span><br><span class=\"line\">  var currentRad = radius * val.value[0] / MaxValue * step / MaxStep;</span><br><span class=\"line\">  context.moveTo(center.x, center.y - currentRad);</span><br><span class=\"line\">  var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">  for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">    currentRad = radius * val.value[i] / MaxValue * step / MaxStep;</span><br><span class=\"line\">    context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));</span><br><span class=\"line\">    currentAngle += angle;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  currentRad = radius * val.value[0] / MaxValue * step / MaxStep;</span><br><span class=\"line\">  context.lineTo(center.x, center.y - currentRad);</span><br><span class=\"line\">  context.stroke();</span><br><span class=\"line\">  if (that.options.area) &#123;</span><br><span class=\"line\">    context.setFillStyle(val.color);</span><br><span class=\"line\">    context.setGlobalAlpha(0.5);</span><br><span class=\"line\">    context.fill();</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  context.closePath();</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\">context.draw();</span><br></pre></td></tr></table></figure>\n<p>ä»¥ä¸‹å°±æ˜¯æ·»åŠ æ•°æ®åçš„å®Œæ•´æ•ˆæœï¼š<br>\n<img src=\"https://upload-images.jianshu.io/upload_images/2641798-cb22523fbd815021.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"æ•°æ®\"></p>\n<h2 id=\"æ·»åŠ ç»˜åˆ¶åŠ¨ç”»\"><a class=\"header-anchor\" href=\"#æ·»åŠ ç»˜åˆ¶åŠ¨ç”»\">Â¶</a>æ·»åŠ ç»˜åˆ¶åŠ¨ç”»</h2>\n<p>ä¸ºäº†æ˜¾ç¤ºæ•ˆæœæ›´ä½³ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ç»˜åˆ¶å›¾è¡¨åŠ ä¸ŠåŠ¨ç”»ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var angle = Math.PI * 2 / length;</span><br><span class=\"line\"></span><br><span class=\"line\">var step = 1;</span><br><span class=\"line\">var MaxStep = that.options.animation ? 50 : 1;</span><br><span class=\"line\">var animation = function() &#123;</span><br><span class=\"line\">  if (step &lt;= MaxStep) &#123;</span><br><span class=\"line\">    // draw background</span><br><span class=\"line\">    for (var layer = 5; layer &gt; 0; layer--) &#123;</span><br><span class=\"line\">      context.beginPath();</span><br><span class=\"line\">      context.setGlobalAlpha(1);</span><br><span class=\"line\">      context.setStrokeStyle(&quot;#D3D3D3&quot;);</span><br><span class=\"line\">      if (layer % 2 != 0) &#123;</span><br><span class=\"line\">        context.setFillStyle(&quot;white&quot;);</span><br><span class=\"line\">      &#125; else &#123;</span><br><span class=\"line\">        context.setFillStyle(&quot;#F5F5F5&quot;);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      var currentRad = layer / 5 * radius;</span><br><span class=\"line\">      context.moveTo(center.x, center.y - currentRad);</span><br><span class=\"line\">      var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">      for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">        context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));</span><br><span class=\"line\">        currentAngle += angle;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      context.fill();</span><br><span class=\"line\">      context.closePath();</span><br><span class=\"line\">      context.stroke();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // draw Axis</span><br><span class=\"line\">    context.beginPath();</span><br><span class=\"line\">    var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">    for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">      context.moveTo(center.x + radius * Math.cos(currentAngle), center.y + radius * Math.sin(currentAngle));</span><br><span class=\"line\">      context.lineTo(center.x, center.y);</span><br><span class=\"line\">      currentAngle += angle;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    context.closePath();</span><br><span class=\"line\">    context.stroke();</span><br><span class=\"line\"></span><br><span class=\"line\">    // draw Index</span><br><span class=\"line\">    context.beginPath();</span><br><span class=\"line\">    context.setFillStyle(&quot;#D3D3D3&quot;);</span><br><span class=\"line\">    context.setFontSize(14);</span><br><span class=\"line\">    var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">    for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">      var posX = center.x + radius * Math.cos(currentAngle);</span><br><span class=\"line\">      var posY = center.y + radius * Math.sin(currentAngle);</span><br><span class=\"line\">      if (posX &lt; center.x) context.setTextAlign(&quot;right&quot;);</span><br><span class=\"line\">      else context.setTextAlign(&quot;left&quot;);</span><br><span class=\"line\">      if (posY &gt; center.y) context.setTextBaseline(&quot;top&quot;);</span><br><span class=\"line\">      else context.setTextBaseline(&quot;bottom&quot;);</span><br><span class=\"line\">      context.fillText(that.options.xLabel[i], posX, posY);</span><br><span class=\"line\">      currentAngle += angle;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    context.closePath();</span><br><span class=\"line\"></span><br><span class=\"line\">    // draw data</span><br><span class=\"line\">    var MaxValue = Math.max.apply(null, that.options.data[0].value);</span><br><span class=\"line\">    that.options.data.forEach(function(val) &#123;</span><br><span class=\"line\">      var temp = Math.max.apply(null, val.value);</span><br><span class=\"line\">      if (temp &gt; MaxValue) MaxValue = temp;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    if (MaxValue &gt; 10) &#123;</span><br><span class=\"line\">      MaxValue = Math.ceil(MaxValue / 10) * 10</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    that.options.data.forEach(function(val) &#123;</span><br><span class=\"line\">      context.beginPath();</span><br><span class=\"line\">      context.setStrokeStyle(val.color);</span><br><span class=\"line\">      var currentRad = radius * val.value[0] / MaxValue * step / MaxStep;</span><br><span class=\"line\">      context.moveTo(center.x, center.y - currentRad);</span><br><span class=\"line\">      var currentAngle = -Math.PI / 2;</span><br><span class=\"line\">      for (var i = 0; i &lt; length; i++) &#123;</span><br><span class=\"line\">        currentRad = radius * val.value[i] / MaxValue * step / MaxStep;</span><br><span class=\"line\">        context.lineTo(center.x + currentRad * Math.cos(currentAngle), center.y + currentRad * Math.sin(currentAngle));</span><br><span class=\"line\">        currentAngle += angle;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      currentRad = radius * val.value[0] / MaxValue * step / MaxStep;</span><br><span class=\"line\">      context.lineTo(center.x, center.y - currentRad);</span><br><span class=\"line\">      context.stroke();</span><br><span class=\"line\">      if (that.options.area) &#123;</span><br><span class=\"line\">        context.setFillStyle(val.color);</span><br><span class=\"line\">        context.setGlobalAlpha(0.5);</span><br><span class=\"line\">        context.fill();</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      context.closePath();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    context.draw();</span><br><span class=\"line\">    step++;</span><br><span class=\"line\">  &#125; else &#123;</span><br><span class=\"line\">    clearInterval(aniName);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">var aniName = setInterval(animation, 10);</span><br></pre></td></tr></table></figure>\n<p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š<br>\n<img src=\"https://upload-images.jianshu.io/upload_images/2641798-d476058258f845d5.gif?imageMogr2/auto-orient/strip\" alt=\"åŠ¨ç”»æ•ˆæœ\"></p>\n<h2 id=\"ç»“è¯­\"><a class=\"header-anchor\" href=\"#ç»“è¯­\">Â¶</a>ç»“è¯­</h2>\n<p>ğŸ˜Š ä»¥ä¸Šå°±æ˜¯åœ¨å¾®ä¿¡å°ç¨‹åºä¸­ç»˜åˆ¶é›·è¾¾å›¾çš„æ–¹æ³•ã€‚å¦‚æœ‰å…´è¶£äº†è§£æ›´å¤šï¼Œå¯ä»¥æŸ¥çœ‹å®Œæ•´ä»£ç ï¼š<a href=\"https://github.com/chmini-app/CHCharts-wechat\" target=\"_blank\" rel=\"noopener\">https://github.com/chmini-app/CHCharts-wechat</a>ã€‚</p>"},{"title":"ç”¨DFSæ¥æ’åº§ä½","date":"2016-08-02T02:49:54.000Z","thumbnail":"http://upload-images.jianshu.io/upload_images/2641798-5ed96443e4c08337.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240","_content":"\nDFSï¼ˆDepth-First-Searchï¼‰æ·±åº¦ä¼˜å…ˆç®—æ³•ï¼Œæ˜¯æœç´¢ç®—æ³•çš„ä¸€ç§ã€‚æ˜¯ä¸€ç§åœ¨å¼€å‘çˆ¬è™«æ—©æœŸä½¿ç”¨è¾ƒå¤šçš„æ–¹æ³•ã€‚å®ƒçš„æ€æƒ³æ˜¯ä»ä¸€ä¸ªé¡¶ç‚¹ V0 å¼€å§‹ï¼Œæ²¿ç€ä¸€æ¡è·¯ä¸€ç›´èµ°åˆ°åº•ï¼Œå¦‚æœå‘ç°ä¸èƒ½åˆ°è¾¾ç›®æ ‡è§£ï¼Œé‚£å°±è¿”å›åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åä»å¦ä¸€æ¡è·¯å¼€å§‹èµ°åˆ°åº•ï¼Œè¿™ç§å°½é‡å¾€æ·±å¤„èµ°çš„æ¦‚å¿µå³æ˜¯æ·±åº¦ä¼˜å…ˆçš„æ¦‚å¿µã€‚\n\næ·±åº¦ä¼˜å…ˆæœç´¢æ˜¯å›¾è®ºä¸­çš„ç»å…¸ç®—æ³•ï¼Œåˆ©ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•å¯ä»¥äº§ç”Ÿç›®æ ‡å›¾çš„ç›¸åº”æ‹“æ‰‘æ’åºè¡¨ï¼Œåˆ©ç”¨æ‹“æ‰‘æ’åºè¡¨å¯ä»¥æ–¹ä¾¿çš„è§£å†³å¾ˆå¤šç›¸å…³çš„å›¾è®ºé—®é¢˜ï¼Œå¦‚æœ€å¤§è·¯å¾„é—®é¢˜ç­‰ç­‰ã€‚\n\n<!-- more -->\n\n![DFS](http://upload-images.jianshu.io/upload_images/2641798-5ed96443e4c08337.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\nä¸‹é¢ä»¥ä¸€ä¸ªå…·ä½“é—®é¢˜æ¥çœ‹ DFS çš„å®ç°ä¸å®ç”¨ã€‚ï¼ˆé—®é¢˜æ¥æº[GCJ2016-1A]BFFsï¼‰\n\n**Problem**\nYou are a teacher at the brand new Little Coders kindergarten. You have**N**kids in your class, and each one has a different student ID number from 1 through**N**. Every kid in your class has a single best friend forever (BFF), and you know who that BFF is for each kid. BFFs are not necessarily reciprocal -- that is, B being A's BFF does not imply that A is B's BFF.\nYour lesson plan for tomorrow includes an activity in which the participants must sit in a circle. You want to make the activity as successful as possible by building the largest possible circle of kids such that each kid in the circle is sitting directly next to their BFF, either to the left or to the right. Any kids not in the circle will watch the activity without participating.\nWhat is the greatest number of kids that can be in the circle?\n**Input**\nThe first line of the input gives the number of test cases,**T**.**T**test cases follow. Each test case consists of two lines. The first line of a test case contains a single integer**N**, the total number of kids in the class. The second line of a test case contains**N**integers**F1**,**F2**, ...,**FN**, where**Fi**is the student ID number of the BFF of the kid with student ID i.\n**Output**\nFor each test case, output one line containing \"Case #x: y\", where x is the test case number (starting from 1) and y is the maximum number of kids in the group that can be arranged in a circle such that each kid in the circle is sitting next to his or her BFF.\n**Limits**\n1 â‰¤**T**â‰¤ 100.\n1 â‰¤**Fi**â‰¤**N**, for all i.\n**Fi**â‰  i, for all i. (No kid is their own BFF.)\n**Small dataset**\n3 â‰¤**N**â‰¤ 10.\n**Large dataset**\n3 â‰¤**N**â‰¤ 1000.\n**Sample**\n\n> Input\n> 4\n> 4\n> 2 3 4 1\n> 4\n> 3 3 4 1\n> 4\n> 3 3 4 3\n> 10\n> 7 8 10 10 9 2 9 6 3 3\n> Output\n> Case #1: 4\n> Case #2: 3\n> Case #3: 3\n> Case #4: 6\n\nIn sample case #4, the largest possible circle seats the following kids in the following order:7 9 3 10 4 1. (Any reflection or rotation of this circle would also work.) Note that the kid with student ID 1 is next to the kid with student ID 7, as required, because the list represents a circle.\n\nè§£é‡Šï¼š\nä¸€ä¸ªå¹¼å„¿å›­ï¼Œæœ‰ N ä¸ªå°æœ‹å‹ï¼Œç¼–å·ä» 1 åˆ° Nï¼Œæ¯ä¸ªå­©å­æœ‰ä¸€ä¸ªæ°¸è¿œæœ€å¥½çš„æœ‹å‹ã€‚è¿™ä¸ª BFF ä¸æ˜¯ç›¸äº’çš„ï¼ŒA æ˜¯ B çš„ BFFï¼Œä¸ä»£è¡¨ B ä¹Ÿæ˜¯ A çš„çš„ BFFã€‚æ¥ä¸‹æ¥æ˜å¤©æœ‰èŠ‚è¯¾éœ€è¦å°æœ‹å‹åæˆä¸€ä¸ªåœˆç©æ¸¸æˆï¼Œä½†æ˜¯æ¯ä¸ªå­©å­éƒ½å¸Œæœ›è‡ªå·±çš„å·¦è¾¹æˆ–è€…å³è¾¹åçš„æ˜¯è‡ªå·±çš„ BFFï¼Œæ²¡åè¿›å»çš„å°æœ‹å‹å°±åªèƒ½è§‚çœ‹ä»–ä»¬ç©ï¼Œé‚£ä¹ˆè¿™ä¸ªåœˆæœ€å¤§èƒ½åå¤šå°‘ä¸ªå°æœ‹å‹ï¼Ÿ\nè¾“å…¥ç¬¬ä¸€ä¸ªæ•° T æ˜¯æµ‹è¯•æ•°æ®çš„ç»„æ•°ï¼Œç„¶åæ¯ä¸¤è¡Œä¸ºä¸€ç»„ï¼Œç¬¬ä¸€è¡Œä¸€ä¸ªæ•°å­—æ˜¯ N å°æœ‹å‹çš„ä¸ªæ•°ï¼Œç¬¬äºŒè¡Œ N ä¸ªæ•°å­—æ˜¯ç¼–å· 1 åˆ° N çš„å­©å­çš„æœ€å¥½æœ‹å‹ç¼–å·ã€‚\nè¾“å‡ºæ¯è¡Œä»£è¡¨æ¯ç»„æµ‹è¯•æ•°æ®çš„æœ€å¤§åœˆåå°æœ‹å‹æ•°é‡ã€‚\n\nåˆ†æï¼š\nç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ¯ä¸ªå­©å­é€šè¿‡ BFF è¿™ä¸ªå…³ç³»å•å‘èƒ½ä¸€å…±èƒ½é“¾åˆ°å¤šå°‘å­©å­è¿›æ¥ï¼Œè¿™é‡Œå°±è¦ç”¨åˆ° DFS æŠ€æœ¯æ¥å®ç°ã€‚æ¥çœ‹ä¸€ä¸‹ä»£ç ï¼š\n\n```\nvoid dfs(int *input, bool *flag ,int start, NSMutableArray *array)\n{\nÂ  Â  if (flag[start - 1] == true) {\nÂ  Â  Â  Â  return;\nÂ  Â  }\nÂ  Â  else\nÂ  Â  {\nÂ  Â  Â  Â  flag[start - 1] = true;\nÂ  Â  Â  Â  [array addObject:[NSNumber numberWithInt:start]];\nÂ  Â  Â  Â  start = input[start - 1];\nÂ  Â  Â  Â  dfs(input, flag, start, array);\nÂ  Â  }\n}\n```\n\nè¿™é‡Œ input æ˜¯ BFF å…³ç³»æ•°ç»„ï¼Œflag æ˜¯æ ‡å¿—æŸä¸€ä¸ªå°å­©æ˜¯å¦è®¿é—®è¿‡çš„æ•°ç»„ï¼Œstart ä»£è¡¨ä»å“ªä¸ªå°å­©å¼€å§‹æœç´¢ï¼Œarray æ˜¯æœ€åæˆ‘ä»¬è¦çš„é“¾ã€‚ä» start ä¼ å…¥çš„å°å­©ç¼–å·å¼€å§‹æœç´¢ï¼Œå°† start è‡ªå·±å†™åˆ° array ä¸­å¹¶æ ‡è®°ä¸ºå·²è®¿é—®ï¼Œç„¶å start æ›´æ–°ä¸ºè‡ªå·±çš„ BFFï¼Œè¿­ä»£è°ƒç”¨ dfsï¼Œç›´åˆ°èµ°åˆ°æ ‡è®°ä¸ºå·²è®¿é—®èŠ‚ç‚¹åœæ­¢æœç´¢ã€‚ç„¶åå°†åˆ†åˆ«ä» 1 åˆ° N ç¼–å·çš„å°å­©ä¸ºèµ·ç‚¹çš„å½¢æˆçš„æœ€é•¿é“¾çš„éƒ½å­˜å‚¨èµ·æ¥ã€‚è¿™é‡Œæˆ‘ä»¬å­˜åœ¨ chainArray é‡Œé¢ï¼Œæ–¹ä¾¿åé¢ä½¿ç”¨ã€‚\n\nç¬¬äºŒæ­¥ï¼Œæˆ‘ä»¬ç”¨åˆšæ‰ä¿å­˜çš„é“¾æ¥æ‹¼æ¥ç¯ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ä¸€ä¸ªæ•°ç»„æ¥è®°å½•ä»¥æ¯ä¸ªå­©å­ä¸ºèµ·ç‚¹çš„æœ€å¤§ç¯é•¿åº¦ circleï¼ŒåŒæ—¶ç”¨ä¸€ä¸ªæ•´æ•° maxNum è®°å½•æ‰€æœ‰çš„ç¯ä¸­æœ€å¤§å€¼ã€‚ç„¶åæˆ‘ä»¬å¼€å§‹éå†åˆšæ‰è®°å½•åœ¨ chainArray é‡Œé¢çš„é“¾ï¼Œè®¡ç®—ä»–ä»¬èƒ½æ‹¼æ¥æœ€é•¿ç¯çš„å¤§å°ã€‚è®¡ç®—ä¸­åˆ†ä¸‰ç§æƒ…å†µï¼š\n1ã€é“¾çš„æœ€åä¸€ä½å°æœ‹å‹çš„æœ€å¥½æœ‹å‹ä¸æ˜¯ç¬¬ä¸€ä½ä¸å€’æ•°ç¬¬äºŒä½å°å­©ã€‚å¦‚ï¼š1->2->3->4ï¼Œä½†æ˜¯ 4 çš„ BFF æ˜¯ 2ï¼Œé‚£ä¹ˆè¿™ç§é“¾å°±æ˜¯æ— æ•ˆçš„ï¼Œä¹Ÿä¸èƒ½å¤Ÿæˆç¯ï¼Œé•¿åº¦å°±è®°ä¸º 0ï¼›\n2ã€é“¾çš„æœ€åä¸€ä½å°æœ‹å‹çš„æœ€å¥½æœ‹å‹æ˜¯ç¬¬ä¸€ä½å°å­©ã€‚å¦‚ï¼š1->2->3->4ï¼Œ4 çš„ BFF æ˜¯ 1ï¼Œé‚£ä¹ˆè¿™ç§é“¾å°±æ˜¯è‡ªæˆç¯ï¼Œé•¿åº¦è®°ä¸ºé“¾é•¿åº¦ 4ã€‚\n3ã€é“¾çš„æœ€åä¸€ä½å°æœ‹å‹çš„æœ€å¥½æœ‹å‹æ˜¯å€’æ•°ç¬¬äºŒä½å°å­©ã€‚å¦‚ï¼š1->2->3->4ï¼Œ4 çš„ BFF æ˜¯ 3ï¼Œè¿™ç§é“¾æ—¢è‡ªæˆç¯ï¼Œåˆå¯ä»¥å’Œå…¶å®ƒä»¥ 3 ç»“å°¾çš„é“¾æ‹¼æ¥æˆç¯ï¼Œå¦‚ 5->4->3ï¼Œä¸¤ä¸ªé“¾æ‹¼æ¥åå°±æˆäº† 1->2->3<->4<-5ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å°±å¿…é¡»å†æ¬¡éå†æ‰€æœ‰é“¾ï¼Œæ‰¾å‡ºå’Œè¯¥é“¾æ‹¼æ¥åçš„æœ€é•¿é“¾ï¼Œè®°å½•ä¸ºä¸¤é“¾é•¿åº¦å’Œå‡ 2ï¼Œå¹¶ä¿å­˜è¿› circle ä¸­ã€‚\næœ€åï¼Œæ¯æ¬¡æ›´æ–°è¿‡åç¯é•¿åº¦è¿‡åï¼Œéœ€è¦æ›´æ–° maxNum çš„å€¼ã€‚\nå®ç°ä»£ç å¦‚ä¸‹ï¼š\n\n```\nÂ  Â  for (int j = 0; j < N; j++) {\nÂ  Â  Â  Â  NSArray *array = [chainArray objectAtIndex:j];\nÂ  Â  Â  Â  int length = (int)array.count;\nÂ  Â  Â  Â  int LastIndex = [[array lastObject] intValue];\nÂ  Â  Â  Â  int nextValue = input[LastIndex - 1];\nÂ  Â  Â  Â  if (nextValue != [[array firstObject] intValue] && nextValue != [[array objectAtIndex:array.count - 2] intValue]) {\nÂ  Â  Â  Â  Â  Â  length = 0;\nÂ  Â  Â  Â  }\nÂ  Â  Â  Â  else\nÂ  Â  Â  Â  {\nÂ  Â  Â  Â  Â  Â  if (nextValue == [[array objectAtIndex:array.count - 2] intValue]) {\nÂ  Â  Â  Â  Â  Â  Â  Â  int MaxLength = 0;\nÂ  Â  Â  Â  Â  Â  Â  Â  for (NSArray *item in chainArray) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  int newLength = 0;\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ([[item lastObject] intValue] == nextValue) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newLength = length + (int)[item count] - 2;\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  MaxLength = MAX(MaxLength, newLength);\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  Â  Â  length = MaxLength;\nÂ  Â  Â  Â  Â  Â  Â  Â  if (circle[nextValue - 1] < length) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  circle[nextValue - 1] = length;\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  }\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  maxNum = MAX(maxNum, length);\nÂ  Â  }\n```\n\nè‡³æ­¤ï¼Œæˆ‘ä»¬åŸºæœ¬æ‰¾åˆ°äº†ä»¥æ‰€æœ‰å­©å­ä¸ºèµ·ç‚¹èƒ½å½¢æˆçš„å•ä¸€ç¯ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯èƒ½å½¢æˆçš„æœ€å¤§ç¯ã€‚\n\nç¬¬ä¸‰æ­¥ï¼Œæ‰¾å‡ºæœ€å¤§çš„ç¯å¤§å°ï¼Œä¸Šé¢çš„ maxNum å·²ç»è®°å½•äº†å•ç¯æ‰€èƒ½å¾—åˆ°çš„æœ€å¤§å€¼ï¼Œä½†æ˜¯å¯¹äºå¦‚ 1->2->3<->4<-5 è¿™ç§å›ç¯ï¼Œå…¶å®è¿˜æ˜¯å¯ä»¥å’Œå…¶å®ƒå›ç¯è¿›è¡Œæ‹¼æ¥ï¼Œå¦‚å’Œ 6->7<->8<-9 æ‹¼æ¥ï¼Œæœ€åå¾—åˆ°æ›´å¤§çš„ç¯ 1->2->3<->4<-5\\6->7<->8<-9ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠåˆšæ‰ circle ä¸­è®°å½•çš„å›ç¯é•¿åº¦éƒ½åŠ èµ·æ¥é™¤ä»¥ 2ï¼Œå†æ¥æ›´æ–° maxNum å¾—åˆ°æœ€ç»ˆçš„ç»“æœï¼Œä»£ç å¦‚ä¸‹ï¼š\n\n```\nÂ  Â  int tot = 0;\nÂ  Â  for (int k = 0; k < N; k ++) {\nÂ  Â  Â  Â  tot += circle[k];\nÂ  Â  }\nÂ  Â  maxNum = MAX(maxNum, tot / 2);\nÂ  Â  return maxNum;\n```\n\nè‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œç¾çš„åˆ©ç”¨ DFS å®Œæˆäº†å¯¹å°æœ‹å‹æ’åº§ä½çš„ä»»åŠ¡ã€‚\nçœ‹ä¸€ä¸‹è¾“å‡ºåˆ¤å®šç»“æœï¼š\n\n> Small input\n> 16 pointsSolve C-small\n> Judge's response for last submission: Correct.\n> Large input\n> 29 pointsSolve C-large\n> Judge's response for last submission: Correct.\n\nå®Œæ•´ä»£ç ï¼š\n\n```\n//\n//Â  main.m\n//Â  BFFs\n//\n//Â  Created by Jiao Liu on 4/16/16.\n//Â  Copyright Â© 2016 ChangHong. All rights reserved.\n//\n\n#import <Foundation/Foundation.h>\n\nvoid dfs(int *input, bool *flag ,int start, NSMutableArray *array)\n{\nÂ  Â  if (flag[start - 1] == true) {\nÂ  Â  Â  Â  return;\nÂ  Â  }\nÂ  Â  else\nÂ  Â  {\nÂ  Â  Â  Â  flag[start - 1] = true;\nÂ  Â  Â  Â  [array addObject:[NSNumber numberWithInt:start]];\nÂ  Â  Â  Â  start = input[start - 1];\nÂ  Â  Â  Â  dfs(input, flag, start, array);\nÂ  Â  }\n}\n\nlong maxCircle(int *input, int N)\n{\nÂ  Â  long maxNum = 0;\nÂ Â  Â \nÂ  Â  NSMutableArray *chainArray = [NSMutableArray array];\nÂ  Â  int circle[N];\nÂ  Â  memset(circle, 0, sizeof(circle));\nÂ  Â  for (int i = 0; i < N; i++) {\nÂ  Â  Â  Â  bool flag[N];\nÂ  Â  Â  Â  memset(flag, false, sizeof(flag));\nÂ  Â  Â  Â  NSMutableArray *array = [NSMutableArray array];\nÂ  Â  Â  Â  dfs(input, flag, i + 1, array);\nÂ  Â  Â  Â  [chainArray addObject:array];\nÂ  Â  }\nÂ Â  Â \nÂ  Â  for (int j = 0; j < N; j++) {\nÂ  Â  Â  Â  NSArray *array = [chainArray objectAtIndex:j];\nÂ  Â  Â  Â  int length = (int)array.count;\nÂ  Â  Â  Â  int LastIndex = [[array lastObject] intValue];\nÂ  Â  Â  Â  int nextValue = input[LastIndex - 1];\nÂ  Â  Â  Â  if (nextValue != [[array firstObject] intValue] && nextValue != [[array objectAtIndex:array.count - 2] intValue]) {\nÂ  Â  Â  Â  Â  Â  length = 0;\nÂ  Â  Â  Â  }\nÂ  Â  Â  Â  else\nÂ  Â  Â  Â  {\nÂ  Â  Â  Â  Â  Â  if (nextValue == [[array objectAtIndex:array.count - 2] intValue]) {\nÂ  Â  Â  Â  Â  Â  Â  Â  int MaxLength = 0;\nÂ  Â  Â  Â  Â  Â  Â  Â  for (NSArray *item in chainArray) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  int newLength = 0;\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ([[item lastObject] intValue] == nextValue) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newLength = length + (int)[item count] - 2;\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  MaxLength = MAX(MaxLength, newLength);\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  Â  Â  length = MaxLength;\nÂ  Â  Â  Â  Â  Â  Â  Â  if (circle[nextValue - 1] < length) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  circle[nextValue - 1] = length;\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  }\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  maxNum = MAX(maxNum, length);\nÂ  Â  }\nÂ Â  Â \nÂ  Â  int tot = 0;\nÂ  Â  for (int k = 0; k < N; k ++) {\nÂ  Â  Â  Â  tot += circle[k];\nÂ  Â  }\nÂ  Â  maxNum = MAX(maxNum, tot / 2);\nÂ  Â  return maxNum;\n}\n\nint main(int argc, const char * argv[]) {\nÂ  Â  @autoreleasepool {\nÂ  Â  Â  Â  // insert code here...\nÂ  Â  Â  Â  freopen(\"/Users/Jiao/Desktop/CodeJam/BFFs/C-large-practice.in\", \"r\", stdin);\n//Â  Â  Â  Â  freopen(\"/Users/Jiao/Desktop/CodeJam/BFFs/C-large-practice.out\", \"w\", stdout);\nÂ  Â  Â  Â  int T;\nÂ  Â  Â  Â  scanf(\"%d\",&T);\nÂ  Â  Â  Â  for (int i = 1; i<=T; i++) {\nÂ  Â  Â  Â  Â  Â  int N;\nÂ  Â  Â  Â  Â  Â  scanf(\"%d\",&N);\nÂ  Â  Â  Â  Â  Â  int Bffs[N];\nÂ  Â  Â  Â  Â  Â  for (int j = 0; j<N; j++) {\nÂ  Â  Â  Â  Â  Â  Â  Â  int bestFriend;\nÂ  Â  Â  Â  Â  Â  Â  Â  scanf(\"%d\",&bestFriend);\nÂ  Â  Â  Â  Â  Â  Â  Â  Bffs[j]=bestFriend;\nÂ  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  printf(\"Case #%d: %ld\\n\",i,maxCircle(Bffs,N));\nÂ  Â  Â  Â  }\nÂ  Â  }\nÂ  Â  return 0;\n}\n```\n","source":"_posts/ç”¨DFSæ¥æ’åº§ä½.md","raw":"---\ntitle: ç”¨DFSæ¥æ’åº§ä½\ndate: 2016-08-02 10:49:54\ntags: [ç®—æ³•, GCJ]\ncategories:\n  - å·¥ä½œ\n  - ACM\nthumbnail: http://upload-images.jianshu.io/upload_images/2641798-5ed96443e4c08337.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\n---\n\nDFSï¼ˆDepth-First-Searchï¼‰æ·±åº¦ä¼˜å…ˆç®—æ³•ï¼Œæ˜¯æœç´¢ç®—æ³•çš„ä¸€ç§ã€‚æ˜¯ä¸€ç§åœ¨å¼€å‘çˆ¬è™«æ—©æœŸä½¿ç”¨è¾ƒå¤šçš„æ–¹æ³•ã€‚å®ƒçš„æ€æƒ³æ˜¯ä»ä¸€ä¸ªé¡¶ç‚¹ V0 å¼€å§‹ï¼Œæ²¿ç€ä¸€æ¡è·¯ä¸€ç›´èµ°åˆ°åº•ï¼Œå¦‚æœå‘ç°ä¸èƒ½åˆ°è¾¾ç›®æ ‡è§£ï¼Œé‚£å°±è¿”å›åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åä»å¦ä¸€æ¡è·¯å¼€å§‹èµ°åˆ°åº•ï¼Œè¿™ç§å°½é‡å¾€æ·±å¤„èµ°çš„æ¦‚å¿µå³æ˜¯æ·±åº¦ä¼˜å…ˆçš„æ¦‚å¿µã€‚\n\næ·±åº¦ä¼˜å…ˆæœç´¢æ˜¯å›¾è®ºä¸­çš„ç»å…¸ç®—æ³•ï¼Œåˆ©ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•å¯ä»¥äº§ç”Ÿç›®æ ‡å›¾çš„ç›¸åº”æ‹“æ‰‘æ’åºè¡¨ï¼Œåˆ©ç”¨æ‹“æ‰‘æ’åºè¡¨å¯ä»¥æ–¹ä¾¿çš„è§£å†³å¾ˆå¤šç›¸å…³çš„å›¾è®ºé—®é¢˜ï¼Œå¦‚æœ€å¤§è·¯å¾„é—®é¢˜ç­‰ç­‰ã€‚\n\n<!-- more -->\n\n![DFS](http://upload-images.jianshu.io/upload_images/2641798-5ed96443e4c08337.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\nä¸‹é¢ä»¥ä¸€ä¸ªå…·ä½“é—®é¢˜æ¥çœ‹ DFS çš„å®ç°ä¸å®ç”¨ã€‚ï¼ˆé—®é¢˜æ¥æº[GCJ2016-1A]BFFsï¼‰\n\n**Problem**\nYou are a teacher at the brand new Little Coders kindergarten. You have**N**kids in your class, and each one has a different student ID number from 1 through**N**. Every kid in your class has a single best friend forever (BFF), and you know who that BFF is for each kid. BFFs are not necessarily reciprocal -- that is, B being A's BFF does not imply that A is B's BFF.\nYour lesson plan for tomorrow includes an activity in which the participants must sit in a circle. You want to make the activity as successful as possible by building the largest possible circle of kids such that each kid in the circle is sitting directly next to their BFF, either to the left or to the right. Any kids not in the circle will watch the activity without participating.\nWhat is the greatest number of kids that can be in the circle?\n**Input**\nThe first line of the input gives the number of test cases,**T**.**T**test cases follow. Each test case consists of two lines. The first line of a test case contains a single integer**N**, the total number of kids in the class. The second line of a test case contains**N**integers**F1**,**F2**, ...,**FN**, where**Fi**is the student ID number of the BFF of the kid with student ID i.\n**Output**\nFor each test case, output one line containing \"Case #x: y\", where x is the test case number (starting from 1) and y is the maximum number of kids in the group that can be arranged in a circle such that each kid in the circle is sitting next to his or her BFF.\n**Limits**\n1 â‰¤**T**â‰¤ 100.\n1 â‰¤**Fi**â‰¤**N**, for all i.\n**Fi**â‰  i, for all i. (No kid is their own BFF.)\n**Small dataset**\n3 â‰¤**N**â‰¤ 10.\n**Large dataset**\n3 â‰¤**N**â‰¤ 1000.\n**Sample**\n\n> Input\n> 4\n> 4\n> 2 3 4 1\n> 4\n> 3 3 4 1\n> 4\n> 3 3 4 3\n> 10\n> 7 8 10 10 9 2 9 6 3 3\n> Output\n> Case #1: 4\n> Case #2: 3\n> Case #3: 3\n> Case #4: 6\n\nIn sample case #4, the largest possible circle seats the following kids in the following order:7 9 3 10 4 1. (Any reflection or rotation of this circle would also work.) Note that the kid with student ID 1 is next to the kid with student ID 7, as required, because the list represents a circle.\n\nè§£é‡Šï¼š\nä¸€ä¸ªå¹¼å„¿å›­ï¼Œæœ‰ N ä¸ªå°æœ‹å‹ï¼Œç¼–å·ä» 1 åˆ° Nï¼Œæ¯ä¸ªå­©å­æœ‰ä¸€ä¸ªæ°¸è¿œæœ€å¥½çš„æœ‹å‹ã€‚è¿™ä¸ª BFF ä¸æ˜¯ç›¸äº’çš„ï¼ŒA æ˜¯ B çš„ BFFï¼Œä¸ä»£è¡¨ B ä¹Ÿæ˜¯ A çš„çš„ BFFã€‚æ¥ä¸‹æ¥æ˜å¤©æœ‰èŠ‚è¯¾éœ€è¦å°æœ‹å‹åæˆä¸€ä¸ªåœˆç©æ¸¸æˆï¼Œä½†æ˜¯æ¯ä¸ªå­©å­éƒ½å¸Œæœ›è‡ªå·±çš„å·¦è¾¹æˆ–è€…å³è¾¹åçš„æ˜¯è‡ªå·±çš„ BFFï¼Œæ²¡åè¿›å»çš„å°æœ‹å‹å°±åªèƒ½è§‚çœ‹ä»–ä»¬ç©ï¼Œé‚£ä¹ˆè¿™ä¸ªåœˆæœ€å¤§èƒ½åå¤šå°‘ä¸ªå°æœ‹å‹ï¼Ÿ\nè¾“å…¥ç¬¬ä¸€ä¸ªæ•° T æ˜¯æµ‹è¯•æ•°æ®çš„ç»„æ•°ï¼Œç„¶åæ¯ä¸¤è¡Œä¸ºä¸€ç»„ï¼Œç¬¬ä¸€è¡Œä¸€ä¸ªæ•°å­—æ˜¯ N å°æœ‹å‹çš„ä¸ªæ•°ï¼Œç¬¬äºŒè¡Œ N ä¸ªæ•°å­—æ˜¯ç¼–å· 1 åˆ° N çš„å­©å­çš„æœ€å¥½æœ‹å‹ç¼–å·ã€‚\nè¾“å‡ºæ¯è¡Œä»£è¡¨æ¯ç»„æµ‹è¯•æ•°æ®çš„æœ€å¤§åœˆåå°æœ‹å‹æ•°é‡ã€‚\n\nåˆ†æï¼š\nç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ¯ä¸ªå­©å­é€šè¿‡ BFF è¿™ä¸ªå…³ç³»å•å‘èƒ½ä¸€å…±èƒ½é“¾åˆ°å¤šå°‘å­©å­è¿›æ¥ï¼Œè¿™é‡Œå°±è¦ç”¨åˆ° DFS æŠ€æœ¯æ¥å®ç°ã€‚æ¥çœ‹ä¸€ä¸‹ä»£ç ï¼š\n\n```\nvoid dfs(int *input, bool *flag ,int start, NSMutableArray *array)\n{\nÂ  Â  if (flag[start - 1] == true) {\nÂ  Â  Â  Â  return;\nÂ  Â  }\nÂ  Â  else\nÂ  Â  {\nÂ  Â  Â  Â  flag[start - 1] = true;\nÂ  Â  Â  Â  [array addObject:[NSNumber numberWithInt:start]];\nÂ  Â  Â  Â  start = input[start - 1];\nÂ  Â  Â  Â  dfs(input, flag, start, array);\nÂ  Â  }\n}\n```\n\nè¿™é‡Œ input æ˜¯ BFF å…³ç³»æ•°ç»„ï¼Œflag æ˜¯æ ‡å¿—æŸä¸€ä¸ªå°å­©æ˜¯å¦è®¿é—®è¿‡çš„æ•°ç»„ï¼Œstart ä»£è¡¨ä»å“ªä¸ªå°å­©å¼€å§‹æœç´¢ï¼Œarray æ˜¯æœ€åæˆ‘ä»¬è¦çš„é“¾ã€‚ä» start ä¼ å…¥çš„å°å­©ç¼–å·å¼€å§‹æœç´¢ï¼Œå°† start è‡ªå·±å†™åˆ° array ä¸­å¹¶æ ‡è®°ä¸ºå·²è®¿é—®ï¼Œç„¶å start æ›´æ–°ä¸ºè‡ªå·±çš„ BFFï¼Œè¿­ä»£è°ƒç”¨ dfsï¼Œç›´åˆ°èµ°åˆ°æ ‡è®°ä¸ºå·²è®¿é—®èŠ‚ç‚¹åœæ­¢æœç´¢ã€‚ç„¶åå°†åˆ†åˆ«ä» 1 åˆ° N ç¼–å·çš„å°å­©ä¸ºèµ·ç‚¹çš„å½¢æˆçš„æœ€é•¿é“¾çš„éƒ½å­˜å‚¨èµ·æ¥ã€‚è¿™é‡Œæˆ‘ä»¬å­˜åœ¨ chainArray é‡Œé¢ï¼Œæ–¹ä¾¿åé¢ä½¿ç”¨ã€‚\n\nç¬¬äºŒæ­¥ï¼Œæˆ‘ä»¬ç”¨åˆšæ‰ä¿å­˜çš„é“¾æ¥æ‹¼æ¥ç¯ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ä¸€ä¸ªæ•°ç»„æ¥è®°å½•ä»¥æ¯ä¸ªå­©å­ä¸ºèµ·ç‚¹çš„æœ€å¤§ç¯é•¿åº¦ circleï¼ŒåŒæ—¶ç”¨ä¸€ä¸ªæ•´æ•° maxNum è®°å½•æ‰€æœ‰çš„ç¯ä¸­æœ€å¤§å€¼ã€‚ç„¶åæˆ‘ä»¬å¼€å§‹éå†åˆšæ‰è®°å½•åœ¨ chainArray é‡Œé¢çš„é“¾ï¼Œè®¡ç®—ä»–ä»¬èƒ½æ‹¼æ¥æœ€é•¿ç¯çš„å¤§å°ã€‚è®¡ç®—ä¸­åˆ†ä¸‰ç§æƒ…å†µï¼š\n1ã€é“¾çš„æœ€åä¸€ä½å°æœ‹å‹çš„æœ€å¥½æœ‹å‹ä¸æ˜¯ç¬¬ä¸€ä½ä¸å€’æ•°ç¬¬äºŒä½å°å­©ã€‚å¦‚ï¼š1->2->3->4ï¼Œä½†æ˜¯ 4 çš„ BFF æ˜¯ 2ï¼Œé‚£ä¹ˆè¿™ç§é“¾å°±æ˜¯æ— æ•ˆçš„ï¼Œä¹Ÿä¸èƒ½å¤Ÿæˆç¯ï¼Œé•¿åº¦å°±è®°ä¸º 0ï¼›\n2ã€é“¾çš„æœ€åä¸€ä½å°æœ‹å‹çš„æœ€å¥½æœ‹å‹æ˜¯ç¬¬ä¸€ä½å°å­©ã€‚å¦‚ï¼š1->2->3->4ï¼Œ4 çš„ BFF æ˜¯ 1ï¼Œé‚£ä¹ˆè¿™ç§é“¾å°±æ˜¯è‡ªæˆç¯ï¼Œé•¿åº¦è®°ä¸ºé“¾é•¿åº¦ 4ã€‚\n3ã€é“¾çš„æœ€åä¸€ä½å°æœ‹å‹çš„æœ€å¥½æœ‹å‹æ˜¯å€’æ•°ç¬¬äºŒä½å°å­©ã€‚å¦‚ï¼š1->2->3->4ï¼Œ4 çš„ BFF æ˜¯ 3ï¼Œè¿™ç§é“¾æ—¢è‡ªæˆç¯ï¼Œåˆå¯ä»¥å’Œå…¶å®ƒä»¥ 3 ç»“å°¾çš„é“¾æ‹¼æ¥æˆç¯ï¼Œå¦‚ 5->4->3ï¼Œä¸¤ä¸ªé“¾æ‹¼æ¥åå°±æˆäº† 1->2->3<->4<-5ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å°±å¿…é¡»å†æ¬¡éå†æ‰€æœ‰é“¾ï¼Œæ‰¾å‡ºå’Œè¯¥é“¾æ‹¼æ¥åçš„æœ€é•¿é“¾ï¼Œè®°å½•ä¸ºä¸¤é“¾é•¿åº¦å’Œå‡ 2ï¼Œå¹¶ä¿å­˜è¿› circle ä¸­ã€‚\næœ€åï¼Œæ¯æ¬¡æ›´æ–°è¿‡åç¯é•¿åº¦è¿‡åï¼Œéœ€è¦æ›´æ–° maxNum çš„å€¼ã€‚\nå®ç°ä»£ç å¦‚ä¸‹ï¼š\n\n```\nÂ  Â  for (int j = 0; j < N; j++) {\nÂ  Â  Â  Â  NSArray *array = [chainArray objectAtIndex:j];\nÂ  Â  Â  Â  int length = (int)array.count;\nÂ  Â  Â  Â  int LastIndex = [[array lastObject] intValue];\nÂ  Â  Â  Â  int nextValue = input[LastIndex - 1];\nÂ  Â  Â  Â  if (nextValue != [[array firstObject] intValue] && nextValue != [[array objectAtIndex:array.count - 2] intValue]) {\nÂ  Â  Â  Â  Â  Â  length = 0;\nÂ  Â  Â  Â  }\nÂ  Â  Â  Â  else\nÂ  Â  Â  Â  {\nÂ  Â  Â  Â  Â  Â  if (nextValue == [[array objectAtIndex:array.count - 2] intValue]) {\nÂ  Â  Â  Â  Â  Â  Â  Â  int MaxLength = 0;\nÂ  Â  Â  Â  Â  Â  Â  Â  for (NSArray *item in chainArray) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  int newLength = 0;\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ([[item lastObject] intValue] == nextValue) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newLength = length + (int)[item count] - 2;\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  MaxLength = MAX(MaxLength, newLength);\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  Â  Â  length = MaxLength;\nÂ  Â  Â  Â  Â  Â  Â  Â  if (circle[nextValue - 1] < length) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  circle[nextValue - 1] = length;\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  }\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  maxNum = MAX(maxNum, length);\nÂ  Â  }\n```\n\nè‡³æ­¤ï¼Œæˆ‘ä»¬åŸºæœ¬æ‰¾åˆ°äº†ä»¥æ‰€æœ‰å­©å­ä¸ºèµ·ç‚¹èƒ½å½¢æˆçš„å•ä¸€ç¯ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯èƒ½å½¢æˆçš„æœ€å¤§ç¯ã€‚\n\nç¬¬ä¸‰æ­¥ï¼Œæ‰¾å‡ºæœ€å¤§çš„ç¯å¤§å°ï¼Œä¸Šé¢çš„ maxNum å·²ç»è®°å½•äº†å•ç¯æ‰€èƒ½å¾—åˆ°çš„æœ€å¤§å€¼ï¼Œä½†æ˜¯å¯¹äºå¦‚ 1->2->3<->4<-5 è¿™ç§å›ç¯ï¼Œå…¶å®è¿˜æ˜¯å¯ä»¥å’Œå…¶å®ƒå›ç¯è¿›è¡Œæ‹¼æ¥ï¼Œå¦‚å’Œ 6->7<->8<-9 æ‹¼æ¥ï¼Œæœ€åå¾—åˆ°æ›´å¤§çš„ç¯ 1->2->3<->4<-5\\6->7<->8<-9ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠåˆšæ‰ circle ä¸­è®°å½•çš„å›ç¯é•¿åº¦éƒ½åŠ èµ·æ¥é™¤ä»¥ 2ï¼Œå†æ¥æ›´æ–° maxNum å¾—åˆ°æœ€ç»ˆçš„ç»“æœï¼Œä»£ç å¦‚ä¸‹ï¼š\n\n```\nÂ  Â  int tot = 0;\nÂ  Â  for (int k = 0; k < N; k ++) {\nÂ  Â  Â  Â  tot += circle[k];\nÂ  Â  }\nÂ  Â  maxNum = MAX(maxNum, tot / 2);\nÂ  Â  return maxNum;\n```\n\nè‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œç¾çš„åˆ©ç”¨ DFS å®Œæˆäº†å¯¹å°æœ‹å‹æ’åº§ä½çš„ä»»åŠ¡ã€‚\nçœ‹ä¸€ä¸‹è¾“å‡ºåˆ¤å®šç»“æœï¼š\n\n> Small input\n> 16 pointsSolve C-small\n> Judge's response for last submission: Correct.\n> Large input\n> 29 pointsSolve C-large\n> Judge's response for last submission: Correct.\n\nå®Œæ•´ä»£ç ï¼š\n\n```\n//\n//Â  main.m\n//Â  BFFs\n//\n//Â  Created by Jiao Liu on 4/16/16.\n//Â  Copyright Â© 2016 ChangHong. All rights reserved.\n//\n\n#import <Foundation/Foundation.h>\n\nvoid dfs(int *input, bool *flag ,int start, NSMutableArray *array)\n{\nÂ  Â  if (flag[start - 1] == true) {\nÂ  Â  Â  Â  return;\nÂ  Â  }\nÂ  Â  else\nÂ  Â  {\nÂ  Â  Â  Â  flag[start - 1] = true;\nÂ  Â  Â  Â  [array addObject:[NSNumber numberWithInt:start]];\nÂ  Â  Â  Â  start = input[start - 1];\nÂ  Â  Â  Â  dfs(input, flag, start, array);\nÂ  Â  }\n}\n\nlong maxCircle(int *input, int N)\n{\nÂ  Â  long maxNum = 0;\nÂ Â  Â \nÂ  Â  NSMutableArray *chainArray = [NSMutableArray array];\nÂ  Â  int circle[N];\nÂ  Â  memset(circle, 0, sizeof(circle));\nÂ  Â  for (int i = 0; i < N; i++) {\nÂ  Â  Â  Â  bool flag[N];\nÂ  Â  Â  Â  memset(flag, false, sizeof(flag));\nÂ  Â  Â  Â  NSMutableArray *array = [NSMutableArray array];\nÂ  Â  Â  Â  dfs(input, flag, i + 1, array);\nÂ  Â  Â  Â  [chainArray addObject:array];\nÂ  Â  }\nÂ Â  Â \nÂ  Â  for (int j = 0; j < N; j++) {\nÂ  Â  Â  Â  NSArray *array = [chainArray objectAtIndex:j];\nÂ  Â  Â  Â  int length = (int)array.count;\nÂ  Â  Â  Â  int LastIndex = [[array lastObject] intValue];\nÂ  Â  Â  Â  int nextValue = input[LastIndex - 1];\nÂ  Â  Â  Â  if (nextValue != [[array firstObject] intValue] && nextValue != [[array objectAtIndex:array.count - 2] intValue]) {\nÂ  Â  Â  Â  Â  Â  length = 0;\nÂ  Â  Â  Â  }\nÂ  Â  Â  Â  else\nÂ  Â  Â  Â  {\nÂ  Â  Â  Â  Â  Â  if (nextValue == [[array objectAtIndex:array.count - 2] intValue]) {\nÂ  Â  Â  Â  Â  Â  Â  Â  int MaxLength = 0;\nÂ  Â  Â  Â  Â  Â  Â  Â  for (NSArray *item in chainArray) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  int newLength = 0;\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ([[item lastObject] intValue] == nextValue) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newLength = length + (int)[item count] - 2;\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  MaxLength = MAX(MaxLength, newLength);\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  Â  Â  length = MaxLength;\nÂ  Â  Â  Â  Â  Â  Â  Â  if (circle[nextValue - 1] < length) {\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  circle[nextValue - 1] = length;\nÂ  Â  Â  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  }\nÂ Â  Â  Â  Â \nÂ  Â  Â  Â  maxNum = MAX(maxNum, length);\nÂ  Â  }\nÂ Â  Â \nÂ  Â  int tot = 0;\nÂ  Â  for (int k = 0; k < N; k ++) {\nÂ  Â  Â  Â  tot += circle[k];\nÂ  Â  }\nÂ  Â  maxNum = MAX(maxNum, tot / 2);\nÂ  Â  return maxNum;\n}\n\nint main(int argc, const char * argv[]) {\nÂ  Â  @autoreleasepool {\nÂ  Â  Â  Â  // insert code here...\nÂ  Â  Â  Â  freopen(\"/Users/Jiao/Desktop/CodeJam/BFFs/C-large-practice.in\", \"r\", stdin);\n//Â  Â  Â  Â  freopen(\"/Users/Jiao/Desktop/CodeJam/BFFs/C-large-practice.out\", \"w\", stdout);\nÂ  Â  Â  Â  int T;\nÂ  Â  Â  Â  scanf(\"%d\",&T);\nÂ  Â  Â  Â  for (int i = 1; i<=T; i++) {\nÂ  Â  Â  Â  Â  Â  int N;\nÂ  Â  Â  Â  Â  Â  scanf(\"%d\",&N);\nÂ  Â  Â  Â  Â  Â  int Bffs[N];\nÂ  Â  Â  Â  Â  Â  for (int j = 0; j<N; j++) {\nÂ  Â  Â  Â  Â  Â  Â  Â  int bestFriend;\nÂ  Â  Â  Â  Â  Â  Â  Â  scanf(\"%d\",&bestFriend);\nÂ  Â  Â  Â  Â  Â  Â  Â  Bffs[j]=bestFriend;\nÂ  Â  Â  Â  Â  Â  }\nÂ  Â  Â  Â  Â  Â  printf(\"Case #%d: %ld\\n\",i,maxCircle(Bffs,N));\nÂ  Â  Â  Â  }\nÂ  Â  }\nÂ  Â  return 0;\n}\n```\n","slug":"ç”¨DFSæ¥æ’åº§ä½","published":1,"updated":"2019-01-08T05:32:46.651Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlpj50020hqox8tlqitdz","content":"<p>DFSï¼ˆDepth-First-Searchï¼‰æ·±åº¦ä¼˜å…ˆç®—æ³•ï¼Œæ˜¯æœç´¢ç®—æ³•çš„ä¸€ç§ã€‚æ˜¯ä¸€ç§åœ¨å¼€å‘çˆ¬è™«æ—©æœŸä½¿ç”¨è¾ƒå¤šçš„æ–¹æ³•ã€‚å®ƒçš„æ€æƒ³æ˜¯ä»ä¸€ä¸ªé¡¶ç‚¹ V0 å¼€å§‹ï¼Œæ²¿ç€ä¸€æ¡è·¯ä¸€ç›´èµ°åˆ°åº•ï¼Œå¦‚æœå‘ç°ä¸èƒ½åˆ°è¾¾ç›®æ ‡è§£ï¼Œé‚£å°±è¿”å›åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åä»å¦ä¸€æ¡è·¯å¼€å§‹èµ°åˆ°åº•ï¼Œè¿™ç§å°½é‡å¾€æ·±å¤„èµ°çš„æ¦‚å¿µå³æ˜¯æ·±åº¦ä¼˜å…ˆçš„æ¦‚å¿µã€‚</p>\n<p>æ·±åº¦ä¼˜å…ˆæœç´¢æ˜¯å›¾è®ºä¸­çš„ç»å…¸ç®—æ³•ï¼Œåˆ©ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•å¯ä»¥äº§ç”Ÿç›®æ ‡å›¾çš„ç›¸åº”æ‹“æ‰‘æ’åºè¡¨ï¼Œåˆ©ç”¨æ‹“æ‰‘æ’åºè¡¨å¯ä»¥æ–¹ä¾¿çš„è§£å†³å¾ˆå¤šç›¸å…³çš„å›¾è®ºé—®é¢˜ï¼Œå¦‚æœ€å¤§è·¯å¾„é—®é¢˜ç­‰ç­‰ã€‚</p>\n<a id=\"more\"></a>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2641798-5ed96443e4c08337.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"DFS\"></p>\n<p>ä¸‹é¢ä»¥ä¸€ä¸ªå…·ä½“é—®é¢˜æ¥çœ‹ DFS çš„å®ç°ä¸å®ç”¨ã€‚ï¼ˆé—®é¢˜æ¥æº[GCJ2016-1A]BFFsï¼‰</p>\n<p><strong>Problem</strong><br>\nYou are a teacher at the brand new Little Coders kindergarten. You have<strong>N</strong>kids in your class, and each one has a different student ID number from 1 through<strong>N</strong>. Every kid in your class has a single best friend forever (BFF), and you know who that BFF is for each kid. BFFs are not necessarily reciprocal â€“ that is, B being Aâ€™s BFF does not imply that A is Bâ€™s BFF.<br>\nYour lesson plan for tomorrow includes an activity in which the participants must sit in a circle. You want to make the activity as successful as possible by building the largest possible circle of kids such that each kid in the circle is sitting directly next to their BFF, either to the left or to the right. Any kids not in the circle will watch the activity without participating.<br>\nWhat is the greatest number of kids that can be in the circle?<br>\n<strong>Input</strong><br>\nThe first line of the input gives the number of test cases,<strong>T</strong>.<strong>T</strong>test cases follow. Each test case consists of two lines. The first line of a test case contains a single integer<strong>N</strong>, the total number of kids in the class. The second line of a test case contains<strong>N</strong>integers<strong>F1</strong>,<strong>F2</strong>, â€¦,<strong>FN</strong>, where<strong>Fi</strong>is the student ID number of the BFF of the kid with student ID i.<br>\n<strong>Output</strong><br>\nFor each test case, output one line containing â€œCase #x: yâ€, where x is the test case number (starting from 1) and y is the maximum number of kids in the group that can be arranged in a circle such that each kid in the circle is sitting next to his or her BFF.<br>\n<strong>Limits</strong><br>\n1 â‰¤<strong>T</strong>â‰¤ 100.<br>\n1 â‰¤<strong>Fi</strong>â‰¤<strong>N</strong>, for all i.<br>\n<strong>Fi</strong>â‰  i, for all i. (No kid is their own BFF.)<br>\n<strong>Small dataset</strong><br>\n3 â‰¤<strong>N</strong>â‰¤ 10.<br>\n<strong>Large dataset</strong><br>\n3 â‰¤<strong>N</strong>â‰¤ 1000.<br>\n<strong>Sample</strong></p>\n<blockquote>\n<p>Input<br>\n4<br>\n4<br>\n2 3 4 1<br>\n4<br>\n3 3 4 1<br>\n4<br>\n3 3 4 3<br>\n10<br>\n7 8 10 10 9 2 9 6 3 3<br>\nOutput<br>\nCase #1: 4<br>\nCase #2: 3<br>\nCase #3: 3<br>\nCase #4: 6</p>\n</blockquote>\n<p>In sample case #4, the largest possible circle seats the following kids in the following order:7 9 3 10 4 1. (Any reflection or rotation of this circle would also work.) Note that the kid with student ID 1 is next to the kid with student ID 7, as required, because the list represents a circle.</p>\n<p>è§£é‡Šï¼š<br>\nä¸€ä¸ªå¹¼å„¿å›­ï¼Œæœ‰ N ä¸ªå°æœ‹å‹ï¼Œç¼–å·ä» 1 åˆ° Nï¼Œæ¯ä¸ªå­©å­æœ‰ä¸€ä¸ªæ°¸è¿œæœ€å¥½çš„æœ‹å‹ã€‚è¿™ä¸ª BFF ä¸æ˜¯ç›¸äº’çš„ï¼ŒA æ˜¯ B çš„ BFFï¼Œä¸ä»£è¡¨ B ä¹Ÿæ˜¯ A çš„çš„ BFFã€‚æ¥ä¸‹æ¥æ˜å¤©æœ‰èŠ‚è¯¾éœ€è¦å°æœ‹å‹åæˆä¸€ä¸ªåœˆç©æ¸¸æˆï¼Œä½†æ˜¯æ¯ä¸ªå­©å­éƒ½å¸Œæœ›è‡ªå·±çš„å·¦è¾¹æˆ–è€…å³è¾¹åçš„æ˜¯è‡ªå·±çš„ BFFï¼Œæ²¡åè¿›å»çš„å°æœ‹å‹å°±åªèƒ½è§‚çœ‹ä»–ä»¬ç©ï¼Œé‚£ä¹ˆè¿™ä¸ªåœˆæœ€å¤§èƒ½åå¤šå°‘ä¸ªå°æœ‹å‹ï¼Ÿ<br>\nè¾“å…¥ç¬¬ä¸€ä¸ªæ•° T æ˜¯æµ‹è¯•æ•°æ®çš„ç»„æ•°ï¼Œç„¶åæ¯ä¸¤è¡Œä¸ºä¸€ç»„ï¼Œç¬¬ä¸€è¡Œä¸€ä¸ªæ•°å­—æ˜¯ N å°æœ‹å‹çš„ä¸ªæ•°ï¼Œç¬¬äºŒè¡Œ N ä¸ªæ•°å­—æ˜¯ç¼–å· 1 åˆ° N çš„å­©å­çš„æœ€å¥½æœ‹å‹ç¼–å·ã€‚<br>\nè¾“å‡ºæ¯è¡Œä»£è¡¨æ¯ç»„æµ‹è¯•æ•°æ®çš„æœ€å¤§åœˆåå°æœ‹å‹æ•°é‡ã€‚</p>\n<p>åˆ†æï¼š<br>\nç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ¯ä¸ªå­©å­é€šè¿‡ BFF è¿™ä¸ªå…³ç³»å•å‘èƒ½ä¸€å…±èƒ½é“¾åˆ°å¤šå°‘å­©å­è¿›æ¥ï¼Œè¿™é‡Œå°±è¦ç”¨åˆ° DFS æŠ€æœ¯æ¥å®ç°ã€‚æ¥çœ‹ä¸€ä¸‹ä»£ç ï¼š</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void dfs(int *input, bool *flag ,int start, NSMutableArray *array)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  if (flag[start - 1] == true) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  return;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  else</span><br><span class=\"line\">Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  flag[start - 1] = true;</span><br><span class=\"line\">Â  Â  Â  Â  [array addObject:[NSNumber numberWithInt:start]];</span><br><span class=\"line\">Â  Â  Â  Â  start = input[start - 1];</span><br><span class=\"line\">Â  Â  Â  Â  dfs(input, flag, start, array);</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œ input æ˜¯ BFF å…³ç³»æ•°ç»„ï¼Œflag æ˜¯æ ‡å¿—æŸä¸€ä¸ªå°å­©æ˜¯å¦è®¿é—®è¿‡çš„æ•°ç»„ï¼Œstart ä»£è¡¨ä»å“ªä¸ªå°å­©å¼€å§‹æœç´¢ï¼Œarray æ˜¯æœ€åæˆ‘ä»¬è¦çš„é“¾ã€‚ä» start ä¼ å…¥çš„å°å­©ç¼–å·å¼€å§‹æœç´¢ï¼Œå°† start è‡ªå·±å†™åˆ° array ä¸­å¹¶æ ‡è®°ä¸ºå·²è®¿é—®ï¼Œç„¶å start æ›´æ–°ä¸ºè‡ªå·±çš„ BFFï¼Œè¿­ä»£è°ƒç”¨ dfsï¼Œç›´åˆ°èµ°åˆ°æ ‡è®°ä¸ºå·²è®¿é—®èŠ‚ç‚¹åœæ­¢æœç´¢ã€‚ç„¶åå°†åˆ†åˆ«ä» 1 åˆ° N ç¼–å·çš„å°å­©ä¸ºèµ·ç‚¹çš„å½¢æˆçš„æœ€é•¿é“¾çš„éƒ½å­˜å‚¨èµ·æ¥ã€‚è¿™é‡Œæˆ‘ä»¬å­˜åœ¨ chainArray é‡Œé¢ï¼Œæ–¹ä¾¿åé¢ä½¿ç”¨ã€‚</p>\n<p>ç¬¬äºŒæ­¥ï¼Œæˆ‘ä»¬ç”¨åˆšæ‰ä¿å­˜çš„é“¾æ¥æ‹¼æ¥ç¯ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ä¸€ä¸ªæ•°ç»„æ¥è®°å½•ä»¥æ¯ä¸ªå­©å­ä¸ºèµ·ç‚¹çš„æœ€å¤§ç¯é•¿åº¦ circleï¼ŒåŒæ—¶ç”¨ä¸€ä¸ªæ•´æ•° maxNum è®°å½•æ‰€æœ‰çš„ç¯ä¸­æœ€å¤§å€¼ã€‚ç„¶åæˆ‘ä»¬å¼€å§‹éå†åˆšæ‰è®°å½•åœ¨ chainArray é‡Œé¢çš„é“¾ï¼Œè®¡ç®—ä»–ä»¬èƒ½æ‹¼æ¥æœ€é•¿ç¯çš„å¤§å°ã€‚è®¡ç®—ä¸­åˆ†ä¸‰ç§æƒ…å†µï¼š<br>\n1ã€é“¾çš„æœ€åä¸€ä½å°æœ‹å‹çš„æœ€å¥½æœ‹å‹ä¸æ˜¯ç¬¬ä¸€ä½ä¸å€’æ•°ç¬¬äºŒä½å°å­©ã€‚å¦‚ï¼š1-&gt;2-&gt;3-&gt;4ï¼Œä½†æ˜¯ 4 çš„ BFF æ˜¯ 2ï¼Œé‚£ä¹ˆè¿™ç§é“¾å°±æ˜¯æ— æ•ˆçš„ï¼Œä¹Ÿä¸èƒ½å¤Ÿæˆç¯ï¼Œé•¿åº¦å°±è®°ä¸º 0ï¼›<br>\n2ã€é“¾çš„æœ€åä¸€ä½å°æœ‹å‹çš„æœ€å¥½æœ‹å‹æ˜¯ç¬¬ä¸€ä½å°å­©ã€‚å¦‚ï¼š1-&gt;2-&gt;3-&gt;4ï¼Œ4 çš„ BFF æ˜¯ 1ï¼Œé‚£ä¹ˆè¿™ç§é“¾å°±æ˜¯è‡ªæˆç¯ï¼Œé•¿åº¦è®°ä¸ºé“¾é•¿åº¦ 4ã€‚<br>\n3ã€é“¾çš„æœ€åä¸€ä½å°æœ‹å‹çš„æœ€å¥½æœ‹å‹æ˜¯å€’æ•°ç¬¬äºŒä½å°å­©ã€‚å¦‚ï¼š1-&gt;2-&gt;3-&gt;4ï¼Œ4 çš„ BFF æ˜¯ 3ï¼Œè¿™ç§é“¾æ—¢è‡ªæˆç¯ï¼Œåˆå¯ä»¥å’Œå…¶å®ƒä»¥ 3 ç»“å°¾çš„é“¾æ‹¼æ¥æˆç¯ï¼Œå¦‚ 5-&gt;4-&gt;3ï¼Œä¸¤ä¸ªé“¾æ‹¼æ¥åå°±æˆäº† 1-&gt;2-&gt;3&lt;-&gt;4&lt;-5ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å°±å¿…é¡»å†æ¬¡éå†æ‰€æœ‰é“¾ï¼Œæ‰¾å‡ºå’Œè¯¥é“¾æ‹¼æ¥åçš„æœ€é•¿é“¾ï¼Œè®°å½•ä¸ºä¸¤é“¾é•¿åº¦å’Œå‡ 2ï¼Œå¹¶ä¿å­˜è¿› circle ä¸­ã€‚<br>\næœ€åï¼Œæ¯æ¬¡æ›´æ–°è¿‡åç¯é•¿åº¦è¿‡åï¼Œéœ€è¦æ›´æ–° maxNum çš„å€¼ã€‚<br>\nå®ç°ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Â  Â  for (int j = 0; j &lt; N; j++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  NSArray *array = [chainArray objectAtIndex:j];</span><br><span class=\"line\">Â  Â  Â  Â  int length = (int)array.count;</span><br><span class=\"line\">Â  Â  Â  Â  int LastIndex = [[array lastObject] intValue];</span><br><span class=\"line\">Â  Â  Â  Â  int nextValue = input[LastIndex - 1];</span><br><span class=\"line\">Â  Â  Â  Â  if (nextValue != [[array firstObject] intValue] &amp;&amp; nextValue != [[array objectAtIndex:array.count - 2] intValue]) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  length = 0;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  else</span><br><span class=\"line\">Â  Â  Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  if (nextValue == [[array objectAtIndex:array.count - 2] intValue]) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  int MaxLength = 0;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  for (NSArray *item in chainArray) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  int newLength = 0;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ([[item lastObject] intValue] == nextValue) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newLength = length + (int)[item count] - 2;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  MaxLength = MAX(MaxLength, newLength);</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  length = MaxLength;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  if (circle[nextValue - 1] &lt; length) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  circle[nextValue - 1] = length;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â  Â  Â </span><br><span class=\"line\">Â  Â  Â  Â  maxNum = MAX(maxNum, length);</span><br><span class=\"line\">Â  Â  &#125;</span><br></pre></td></tr></table></figure>\n<p>è‡³æ­¤ï¼Œæˆ‘ä»¬åŸºæœ¬æ‰¾åˆ°äº†ä»¥æ‰€æœ‰å­©å­ä¸ºèµ·ç‚¹èƒ½å½¢æˆçš„å•ä¸€ç¯ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯èƒ½å½¢æˆçš„æœ€å¤§ç¯ã€‚</p>\n<p>ç¬¬ä¸‰æ­¥ï¼Œæ‰¾å‡ºæœ€å¤§çš„ç¯å¤§å°ï¼Œä¸Šé¢çš„ maxNum å·²ç»è®°å½•äº†å•ç¯æ‰€èƒ½å¾—åˆ°çš„æœ€å¤§å€¼ï¼Œä½†æ˜¯å¯¹äºå¦‚ 1-&gt;2-&gt;3&lt;-&gt;4&lt;-5 è¿™ç§å›ç¯ï¼Œå…¶å®è¿˜æ˜¯å¯ä»¥å’Œå…¶å®ƒå›ç¯è¿›è¡Œæ‹¼æ¥ï¼Œå¦‚å’Œ 6-&gt;7&lt;-&gt;8&lt;-9 æ‹¼æ¥ï¼Œæœ€åå¾—åˆ°æ›´å¤§çš„ç¯ 1-&gt;2-&gt;3&lt;-&gt;4&lt;-5\\6-&gt;7&lt;-&gt;8&lt;-9ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠåˆšæ‰ circle ä¸­è®°å½•çš„å›ç¯é•¿åº¦éƒ½åŠ èµ·æ¥é™¤ä»¥ 2ï¼Œå†æ¥æ›´æ–° maxNum å¾—åˆ°æœ€ç»ˆçš„ç»“æœï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Â  Â  int tot = 0;</span><br><span class=\"line\">Â  Â  for (int k = 0; k &lt; N; k ++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  tot += circle[k];</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  maxNum = MAX(maxNum, tot / 2);</span><br><span class=\"line\">Â  Â  return maxNum;</span><br></pre></td></tr></table></figure>\n<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œç¾çš„åˆ©ç”¨ DFS å®Œæˆäº†å¯¹å°æœ‹å‹æ’åº§ä½çš„ä»»åŠ¡ã€‚<br>\nçœ‹ä¸€ä¸‹è¾“å‡ºåˆ¤å®šç»“æœï¼š</p>\n<blockquote>\n<p>Small input<br>\n16 pointsSolve C-small<br>\nJudgeâ€™s response for last submission: Correct.<br>\nLarge input<br>\n29 pointsSolve C-large<br>\nJudgeâ€™s response for last submission: Correct.</p>\n</blockquote>\n<p>å®Œæ•´ä»£ç ï¼š</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">//Â  main.m</span><br><span class=\"line\">//Â  BFFs</span><br><span class=\"line\">//</span><br><span class=\"line\">//Â  Created by Jiao Liu on 4/16/16.</span><br><span class=\"line\">//Â  Copyright Â© 2016 ChangHong. All rights reserved.</span><br><span class=\"line\">//</span><br><span class=\"line\"></span><br><span class=\"line\">#import &lt;Foundation/Foundation.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">void dfs(int *input, bool *flag ,int start, NSMutableArray *array)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  if (flag[start - 1] == true) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  return;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  else</span><br><span class=\"line\">Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  flag[start - 1] = true;</span><br><span class=\"line\">Â  Â  Â  Â  [array addObject:[NSNumber numberWithInt:start]];</span><br><span class=\"line\">Â  Â  Â  Â  start = input[start - 1];</span><br><span class=\"line\">Â  Â  Â  Â  dfs(input, flag, start, array);</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">long maxCircle(int *input, int N)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  long maxNum = 0;</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableArray *chainArray = [NSMutableArray array];</span><br><span class=\"line\">Â  Â  int circle[N];</span><br><span class=\"line\">Â  Â  memset(circle, 0, sizeof(circle));</span><br><span class=\"line\">Â  Â  for (int i = 0; i &lt; N; i++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  bool flag[N];</span><br><span class=\"line\">Â  Â  Â  Â  memset(flag, false, sizeof(flag));</span><br><span class=\"line\">Â  Â  Â  Â  NSMutableArray *array = [NSMutableArray array];</span><br><span class=\"line\">Â  Â  Â  Â  dfs(input, flag, i + 1, array);</span><br><span class=\"line\">Â  Â  Â  Â  [chainArray addObject:array];</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  for (int j = 0; j &lt; N; j++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  NSArray *array = [chainArray objectAtIndex:j];</span><br><span class=\"line\">Â  Â  Â  Â  int length = (int)array.count;</span><br><span class=\"line\">Â  Â  Â  Â  int LastIndex = [[array lastObject] intValue];</span><br><span class=\"line\">Â  Â  Â  Â  int nextValue = input[LastIndex - 1];</span><br><span class=\"line\">Â  Â  Â  Â  if (nextValue != [[array firstObject] intValue] &amp;&amp; nextValue != [[array objectAtIndex:array.count - 2] intValue]) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  length = 0;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  else</span><br><span class=\"line\">Â  Â  Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  if (nextValue == [[array objectAtIndex:array.count - 2] intValue]) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  int MaxLength = 0;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  for (NSArray *item in chainArray) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  int newLength = 0;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ([[item lastObject] intValue] == nextValue) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newLength = length + (int)[item count] - 2;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  MaxLength = MAX(MaxLength, newLength);</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  length = MaxLength;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  if (circle[nextValue - 1] &lt; length) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  circle[nextValue - 1] = length;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â  Â  Â </span><br><span class=\"line\">Â  Â  Â  Â  maxNum = MAX(maxNum, length);</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  int tot = 0;</span><br><span class=\"line\">Â  Â  for (int k = 0; k &lt; N; k ++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  tot += circle[k];</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  maxNum = MAX(maxNum, tot / 2);</span><br><span class=\"line\">Â  Â  return maxNum;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">int main(int argc, const char * argv[]) &#123;</span><br><span class=\"line\">Â  Â  @autoreleasepool &#123;</span><br><span class=\"line\">Â  Â  Â  Â  // insert code here...</span><br><span class=\"line\">Â  Â  Â  Â  freopen(&quot;/Users/Jiao/Desktop/CodeJam/BFFs/C-large-practice.in&quot;, &quot;r&quot;, stdin);</span><br><span class=\"line\">//Â  Â  Â  Â  freopen(&quot;/Users/Jiao/Desktop/CodeJam/BFFs/C-large-practice.out&quot;, &quot;w&quot;, stdout);</span><br><span class=\"line\">Â  Â  Â  Â  int T;</span><br><span class=\"line\">Â  Â  Â  Â  scanf(&quot;%d&quot;,&amp;T);</span><br><span class=\"line\">Â  Â  Â  Â  for (int i = 1; i&lt;=T; i++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  int N;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  scanf(&quot;%d&quot;,&amp;N);</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  int Bffs[N];</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  for (int j = 0; j&lt;N; j++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  int bestFriend;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  scanf(&quot;%d&quot;,&amp;bestFriend);</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Bffs[j]=bestFriend;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  printf(&quot;Case #%d: %ld\\n&quot;,i,maxCircle(Bffs,N));</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  return 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"<p>DFSï¼ˆDepth-First-Searchï¼‰æ·±åº¦ä¼˜å…ˆç®—æ³•ï¼Œæ˜¯æœç´¢ç®—æ³•çš„ä¸€ç§ã€‚æ˜¯ä¸€ç§åœ¨å¼€å‘çˆ¬è™«æ—©æœŸä½¿ç”¨è¾ƒå¤šçš„æ–¹æ³•ã€‚å®ƒçš„æ€æƒ³æ˜¯ä»ä¸€ä¸ªé¡¶ç‚¹ V0 å¼€å§‹ï¼Œæ²¿ç€ä¸€æ¡è·¯ä¸€ç›´èµ°åˆ°åº•ï¼Œå¦‚æœå‘ç°ä¸èƒ½åˆ°è¾¾ç›®æ ‡è§£ï¼Œé‚£å°±è¿”å›åˆ°ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åä»å¦ä¸€æ¡è·¯å¼€å§‹èµ°åˆ°åº•ï¼Œè¿™ç§å°½é‡å¾€æ·±å¤„èµ°çš„æ¦‚å¿µå³æ˜¯æ·±åº¦ä¼˜å…ˆçš„æ¦‚å¿µã€‚</p>\n<p>æ·±åº¦ä¼˜å…ˆæœç´¢æ˜¯å›¾è®ºä¸­çš„ç»å…¸ç®—æ³•ï¼Œåˆ©ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•å¯ä»¥äº§ç”Ÿç›®æ ‡å›¾çš„ç›¸åº”æ‹“æ‰‘æ’åºè¡¨ï¼Œåˆ©ç”¨æ‹“æ‰‘æ’åºè¡¨å¯ä»¥æ–¹ä¾¿çš„è§£å†³å¾ˆå¤šç›¸å…³çš„å›¾è®ºé—®é¢˜ï¼Œå¦‚æœ€å¤§è·¯å¾„é—®é¢˜ç­‰ç­‰ã€‚</p>","more":"<p><img src=\"http://upload-images.jianshu.io/upload_images/2641798-5ed96443e4c08337.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"DFS\"></p>\n<p>ä¸‹é¢ä»¥ä¸€ä¸ªå…·ä½“é—®é¢˜æ¥çœ‹ DFS çš„å®ç°ä¸å®ç”¨ã€‚ï¼ˆé—®é¢˜æ¥æº[GCJ2016-1A]BFFsï¼‰</p>\n<p><strong>Problem</strong><br>\nYou are a teacher at the brand new Little Coders kindergarten. You have<strong>N</strong>kids in your class, and each one has a different student ID number from 1 through<strong>N</strong>. Every kid in your class has a single best friend forever (BFF), and you know who that BFF is for each kid. BFFs are not necessarily reciprocal â€“ that is, B being Aâ€™s BFF does not imply that A is Bâ€™s BFF.<br>\nYour lesson plan for tomorrow includes an activity in which the participants must sit in a circle. You want to make the activity as successful as possible by building the largest possible circle of kids such that each kid in the circle is sitting directly next to their BFF, either to the left or to the right. Any kids not in the circle will watch the activity without participating.<br>\nWhat is the greatest number of kids that can be in the circle?<br>\n<strong>Input</strong><br>\nThe first line of the input gives the number of test cases,<strong>T</strong>.<strong>T</strong>test cases follow. Each test case consists of two lines. The first line of a test case contains a single integer<strong>N</strong>, the total number of kids in the class. The second line of a test case contains<strong>N</strong>integers<strong>F1</strong>,<strong>F2</strong>, â€¦,<strong>FN</strong>, where<strong>Fi</strong>is the student ID number of the BFF of the kid with student ID i.<br>\n<strong>Output</strong><br>\nFor each test case, output one line containing â€œCase #x: yâ€, where x is the test case number (starting from 1) and y is the maximum number of kids in the group that can be arranged in a circle such that each kid in the circle is sitting next to his or her BFF.<br>\n<strong>Limits</strong><br>\n1 â‰¤<strong>T</strong>â‰¤ 100.<br>\n1 â‰¤<strong>Fi</strong>â‰¤<strong>N</strong>, for all i.<br>\n<strong>Fi</strong>â‰  i, for all i. (No kid is their own BFF.)<br>\n<strong>Small dataset</strong><br>\n3 â‰¤<strong>N</strong>â‰¤ 10.<br>\n<strong>Large dataset</strong><br>\n3 â‰¤<strong>N</strong>â‰¤ 1000.<br>\n<strong>Sample</strong></p>\n<blockquote>\n<p>Input<br>\n4<br>\n4<br>\n2 3 4 1<br>\n4<br>\n3 3 4 1<br>\n4<br>\n3 3 4 3<br>\n10<br>\n7 8 10 10 9 2 9 6 3 3<br>\nOutput<br>\nCase #1: 4<br>\nCase #2: 3<br>\nCase #3: 3<br>\nCase #4: 6</p>\n</blockquote>\n<p>In sample case #4, the largest possible circle seats the following kids in the following order:7 9 3 10 4 1. (Any reflection or rotation of this circle would also work.) Note that the kid with student ID 1 is next to the kid with student ID 7, as required, because the list represents a circle.</p>\n<p>è§£é‡Šï¼š<br>\nä¸€ä¸ªå¹¼å„¿å›­ï¼Œæœ‰ N ä¸ªå°æœ‹å‹ï¼Œç¼–å·ä» 1 åˆ° Nï¼Œæ¯ä¸ªå­©å­æœ‰ä¸€ä¸ªæ°¸è¿œæœ€å¥½çš„æœ‹å‹ã€‚è¿™ä¸ª BFF ä¸æ˜¯ç›¸äº’çš„ï¼ŒA æ˜¯ B çš„ BFFï¼Œä¸ä»£è¡¨ B ä¹Ÿæ˜¯ A çš„çš„ BFFã€‚æ¥ä¸‹æ¥æ˜å¤©æœ‰èŠ‚è¯¾éœ€è¦å°æœ‹å‹åæˆä¸€ä¸ªåœˆç©æ¸¸æˆï¼Œä½†æ˜¯æ¯ä¸ªå­©å­éƒ½å¸Œæœ›è‡ªå·±çš„å·¦è¾¹æˆ–è€…å³è¾¹åçš„æ˜¯è‡ªå·±çš„ BFFï¼Œæ²¡åè¿›å»çš„å°æœ‹å‹å°±åªèƒ½è§‚çœ‹ä»–ä»¬ç©ï¼Œé‚£ä¹ˆè¿™ä¸ªåœˆæœ€å¤§èƒ½åå¤šå°‘ä¸ªå°æœ‹å‹ï¼Ÿ<br>\nè¾“å…¥ç¬¬ä¸€ä¸ªæ•° T æ˜¯æµ‹è¯•æ•°æ®çš„ç»„æ•°ï¼Œç„¶åæ¯ä¸¤è¡Œä¸ºä¸€ç»„ï¼Œç¬¬ä¸€è¡Œä¸€ä¸ªæ•°å­—æ˜¯ N å°æœ‹å‹çš„ä¸ªæ•°ï¼Œç¬¬äºŒè¡Œ N ä¸ªæ•°å­—æ˜¯ç¼–å· 1 åˆ° N çš„å­©å­çš„æœ€å¥½æœ‹å‹ç¼–å·ã€‚<br>\nè¾“å‡ºæ¯è¡Œä»£è¡¨æ¯ç»„æµ‹è¯•æ•°æ®çš„æœ€å¤§åœˆåå°æœ‹å‹æ•°é‡ã€‚</p>\n<p>åˆ†æï¼š<br>\nç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°æ¯ä¸ªå­©å­é€šè¿‡ BFF è¿™ä¸ªå…³ç³»å•å‘èƒ½ä¸€å…±èƒ½é“¾åˆ°å¤šå°‘å­©å­è¿›æ¥ï¼Œè¿™é‡Œå°±è¦ç”¨åˆ° DFS æŠ€æœ¯æ¥å®ç°ã€‚æ¥çœ‹ä¸€ä¸‹ä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void dfs(int *input, bool *flag ,int start, NSMutableArray *array)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  if (flag[start - 1] == true) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  return;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  else</span><br><span class=\"line\">Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  flag[start - 1] = true;</span><br><span class=\"line\">Â  Â  Â  Â  [array addObject:[NSNumber numberWithInt:start]];</span><br><span class=\"line\">Â  Â  Â  Â  start = input[start - 1];</span><br><span class=\"line\">Â  Â  Â  Â  dfs(input, flag, start, array);</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¿™é‡Œ input æ˜¯ BFF å…³ç³»æ•°ç»„ï¼Œflag æ˜¯æ ‡å¿—æŸä¸€ä¸ªå°å­©æ˜¯å¦è®¿é—®è¿‡çš„æ•°ç»„ï¼Œstart ä»£è¡¨ä»å“ªä¸ªå°å­©å¼€å§‹æœç´¢ï¼Œarray æ˜¯æœ€åæˆ‘ä»¬è¦çš„é“¾ã€‚ä» start ä¼ å…¥çš„å°å­©ç¼–å·å¼€å§‹æœç´¢ï¼Œå°† start è‡ªå·±å†™åˆ° array ä¸­å¹¶æ ‡è®°ä¸ºå·²è®¿é—®ï¼Œç„¶å start æ›´æ–°ä¸ºè‡ªå·±çš„ BFFï¼Œè¿­ä»£è°ƒç”¨ dfsï¼Œç›´åˆ°èµ°åˆ°æ ‡è®°ä¸ºå·²è®¿é—®èŠ‚ç‚¹åœæ­¢æœç´¢ã€‚ç„¶åå°†åˆ†åˆ«ä» 1 åˆ° N ç¼–å·çš„å°å­©ä¸ºèµ·ç‚¹çš„å½¢æˆçš„æœ€é•¿é“¾çš„éƒ½å­˜å‚¨èµ·æ¥ã€‚è¿™é‡Œæˆ‘ä»¬å­˜åœ¨ chainArray é‡Œé¢ï¼Œæ–¹ä¾¿åé¢ä½¿ç”¨ã€‚</p>\n<p>ç¬¬äºŒæ­¥ï¼Œæˆ‘ä»¬ç”¨åˆšæ‰ä¿å­˜çš„é“¾æ¥æ‹¼æ¥ç¯ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ä¸€ä¸ªæ•°ç»„æ¥è®°å½•ä»¥æ¯ä¸ªå­©å­ä¸ºèµ·ç‚¹çš„æœ€å¤§ç¯é•¿åº¦ circleï¼ŒåŒæ—¶ç”¨ä¸€ä¸ªæ•´æ•° maxNum è®°å½•æ‰€æœ‰çš„ç¯ä¸­æœ€å¤§å€¼ã€‚ç„¶åæˆ‘ä»¬å¼€å§‹éå†åˆšæ‰è®°å½•åœ¨ chainArray é‡Œé¢çš„é“¾ï¼Œè®¡ç®—ä»–ä»¬èƒ½æ‹¼æ¥æœ€é•¿ç¯çš„å¤§å°ã€‚è®¡ç®—ä¸­åˆ†ä¸‰ç§æƒ…å†µï¼š<br>\n1ã€é“¾çš„æœ€åä¸€ä½å°æœ‹å‹çš„æœ€å¥½æœ‹å‹ä¸æ˜¯ç¬¬ä¸€ä½ä¸å€’æ•°ç¬¬äºŒä½å°å­©ã€‚å¦‚ï¼š1-&gt;2-&gt;3-&gt;4ï¼Œä½†æ˜¯ 4 çš„ BFF æ˜¯ 2ï¼Œé‚£ä¹ˆè¿™ç§é“¾å°±æ˜¯æ— æ•ˆçš„ï¼Œä¹Ÿä¸èƒ½å¤Ÿæˆç¯ï¼Œé•¿åº¦å°±è®°ä¸º 0ï¼›<br>\n2ã€é“¾çš„æœ€åä¸€ä½å°æœ‹å‹çš„æœ€å¥½æœ‹å‹æ˜¯ç¬¬ä¸€ä½å°å­©ã€‚å¦‚ï¼š1-&gt;2-&gt;3-&gt;4ï¼Œ4 çš„ BFF æ˜¯ 1ï¼Œé‚£ä¹ˆè¿™ç§é“¾å°±æ˜¯è‡ªæˆç¯ï¼Œé•¿åº¦è®°ä¸ºé“¾é•¿åº¦ 4ã€‚<br>\n3ã€é“¾çš„æœ€åä¸€ä½å°æœ‹å‹çš„æœ€å¥½æœ‹å‹æ˜¯å€’æ•°ç¬¬äºŒä½å°å­©ã€‚å¦‚ï¼š1-&gt;2-&gt;3-&gt;4ï¼Œ4 çš„ BFF æ˜¯ 3ï¼Œè¿™ç§é“¾æ—¢è‡ªæˆç¯ï¼Œåˆå¯ä»¥å’Œå…¶å®ƒä»¥ 3 ç»“å°¾çš„é“¾æ‹¼æ¥æˆç¯ï¼Œå¦‚ 5-&gt;4-&gt;3ï¼Œä¸¤ä¸ªé“¾æ‹¼æ¥åå°±æˆäº† 1-&gt;2-&gt;3&lt;-&gt;4&lt;-5ã€‚å¯¹äºè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å°±å¿…é¡»å†æ¬¡éå†æ‰€æœ‰é“¾ï¼Œæ‰¾å‡ºå’Œè¯¥é“¾æ‹¼æ¥åçš„æœ€é•¿é“¾ï¼Œè®°å½•ä¸ºä¸¤é“¾é•¿åº¦å’Œå‡ 2ï¼Œå¹¶ä¿å­˜è¿› circle ä¸­ã€‚<br>\næœ€åï¼Œæ¯æ¬¡æ›´æ–°è¿‡åç¯é•¿åº¦è¿‡åï¼Œéœ€è¦æ›´æ–° maxNum çš„å€¼ã€‚<br>\nå®ç°ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Â  Â  for (int j = 0; j &lt; N; j++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  NSArray *array = [chainArray objectAtIndex:j];</span><br><span class=\"line\">Â  Â  Â  Â  int length = (int)array.count;</span><br><span class=\"line\">Â  Â  Â  Â  int LastIndex = [[array lastObject] intValue];</span><br><span class=\"line\">Â  Â  Â  Â  int nextValue = input[LastIndex - 1];</span><br><span class=\"line\">Â  Â  Â  Â  if (nextValue != [[array firstObject] intValue] &amp;&amp; nextValue != [[array objectAtIndex:array.count - 2] intValue]) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  length = 0;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  else</span><br><span class=\"line\">Â  Â  Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  if (nextValue == [[array objectAtIndex:array.count - 2] intValue]) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  int MaxLength = 0;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  for (NSArray *item in chainArray) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  int newLength = 0;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ([[item lastObject] intValue] == nextValue) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newLength = length + (int)[item count] - 2;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  MaxLength = MAX(MaxLength, newLength);</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  length = MaxLength;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  if (circle[nextValue - 1] &lt; length) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  circle[nextValue - 1] = length;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â  Â  Â </span><br><span class=\"line\">Â  Â  Â  Â  maxNum = MAX(maxNum, length);</span><br><span class=\"line\">Â  Â  &#125;</span><br></pre></td></tr></table></figure>\n<p>è‡³æ­¤ï¼Œæˆ‘ä»¬åŸºæœ¬æ‰¾åˆ°äº†ä»¥æ‰€æœ‰å­©å­ä¸ºèµ·ç‚¹èƒ½å½¢æˆçš„å•ä¸€ç¯ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯èƒ½å½¢æˆçš„æœ€å¤§ç¯ã€‚</p>\n<p>ç¬¬ä¸‰æ­¥ï¼Œæ‰¾å‡ºæœ€å¤§çš„ç¯å¤§å°ï¼Œä¸Šé¢çš„ maxNum å·²ç»è®°å½•äº†å•ç¯æ‰€èƒ½å¾—åˆ°çš„æœ€å¤§å€¼ï¼Œä½†æ˜¯å¯¹äºå¦‚ 1-&gt;2-&gt;3&lt;-&gt;4&lt;-5 è¿™ç§å›ç¯ï¼Œå…¶å®è¿˜æ˜¯å¯ä»¥å’Œå…¶å®ƒå›ç¯è¿›è¡Œæ‹¼æ¥ï¼Œå¦‚å’Œ 6-&gt;7&lt;-&gt;8&lt;-9 æ‹¼æ¥ï¼Œæœ€åå¾—åˆ°æ›´å¤§çš„ç¯ 1-&gt;2-&gt;3&lt;-&gt;4&lt;-5\\6-&gt;7&lt;-&gt;8&lt;-9ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠåˆšæ‰ circle ä¸­è®°å½•çš„å›ç¯é•¿åº¦éƒ½åŠ èµ·æ¥é™¤ä»¥ 2ï¼Œå†æ¥æ›´æ–° maxNum å¾—åˆ°æœ€ç»ˆçš„ç»“æœï¼Œä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Â  Â  int tot = 0;</span><br><span class=\"line\">Â  Â  for (int k = 0; k &lt; N; k ++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  tot += circle[k];</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  maxNum = MAX(maxNum, tot / 2);</span><br><span class=\"line\">Â  Â  return maxNum;</span><br></pre></td></tr></table></figure>\n<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œç¾çš„åˆ©ç”¨ DFS å®Œæˆäº†å¯¹å°æœ‹å‹æ’åº§ä½çš„ä»»åŠ¡ã€‚<br>\nçœ‹ä¸€ä¸‹è¾“å‡ºåˆ¤å®šç»“æœï¼š</p>\n<blockquote>\n<p>Small input<br>\n16 pointsSolve C-small<br>\nJudgeâ€™s response for last submission: Correct.<br>\nLarge input<br>\n29 pointsSolve C-large<br>\nJudgeâ€™s response for last submission: Correct.</p>\n</blockquote>\n<p>å®Œæ•´ä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">//Â  main.m</span><br><span class=\"line\">//Â  BFFs</span><br><span class=\"line\">//</span><br><span class=\"line\">//Â  Created by Jiao Liu on 4/16/16.</span><br><span class=\"line\">//Â  Copyright Â© 2016 ChangHong. All rights reserved.</span><br><span class=\"line\">//</span><br><span class=\"line\"></span><br><span class=\"line\">#import &lt;Foundation/Foundation.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">void dfs(int *input, bool *flag ,int start, NSMutableArray *array)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  if (flag[start - 1] == true) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  return;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  else</span><br><span class=\"line\">Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  flag[start - 1] = true;</span><br><span class=\"line\">Â  Â  Â  Â  [array addObject:[NSNumber numberWithInt:start]];</span><br><span class=\"line\">Â  Â  Â  Â  start = input[start - 1];</span><br><span class=\"line\">Â  Â  Â  Â  dfs(input, flag, start, array);</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">long maxCircle(int *input, int N)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  long maxNum = 0;</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableArray *chainArray = [NSMutableArray array];</span><br><span class=\"line\">Â  Â  int circle[N];</span><br><span class=\"line\">Â  Â  memset(circle, 0, sizeof(circle));</span><br><span class=\"line\">Â  Â  for (int i = 0; i &lt; N; i++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  bool flag[N];</span><br><span class=\"line\">Â  Â  Â  Â  memset(flag, false, sizeof(flag));</span><br><span class=\"line\">Â  Â  Â  Â  NSMutableArray *array = [NSMutableArray array];</span><br><span class=\"line\">Â  Â  Â  Â  dfs(input, flag, i + 1, array);</span><br><span class=\"line\">Â  Â  Â  Â  [chainArray addObject:array];</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  for (int j = 0; j &lt; N; j++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  NSArray *array = [chainArray objectAtIndex:j];</span><br><span class=\"line\">Â  Â  Â  Â  int length = (int)array.count;</span><br><span class=\"line\">Â  Â  Â  Â  int LastIndex = [[array lastObject] intValue];</span><br><span class=\"line\">Â  Â  Â  Â  int nextValue = input[LastIndex - 1];</span><br><span class=\"line\">Â  Â  Â  Â  if (nextValue != [[array firstObject] intValue] &amp;&amp; nextValue != [[array objectAtIndex:array.count - 2] intValue]) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  length = 0;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  else</span><br><span class=\"line\">Â  Â  Â  Â  &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  if (nextValue == [[array objectAtIndex:array.count - 2] intValue]) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  int MaxLength = 0;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  for (NSArray *item in chainArray) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  int newLength = 0;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ([[item lastObject] intValue] == nextValue) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  newLength = length + (int)[item count] - 2;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  MaxLength = MAX(MaxLength, newLength);</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  length = MaxLength;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  if (circle[nextValue - 1] &lt; length) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  circle[nextValue - 1] = length;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â  Â  Â </span><br><span class=\"line\">Â  Â  Â  Â  maxNum = MAX(maxNum, length);</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  int tot = 0;</span><br><span class=\"line\">Â  Â  for (int k = 0; k &lt; N; k ++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  tot += circle[k];</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  maxNum = MAX(maxNum, tot / 2);</span><br><span class=\"line\">Â  Â  return maxNum;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">int main(int argc, const char * argv[]) &#123;</span><br><span class=\"line\">Â  Â  @autoreleasepool &#123;</span><br><span class=\"line\">Â  Â  Â  Â  // insert code here...</span><br><span class=\"line\">Â  Â  Â  Â  freopen(&quot;/Users/Jiao/Desktop/CodeJam/BFFs/C-large-practice.in&quot;, &quot;r&quot;, stdin);</span><br><span class=\"line\">//Â  Â  Â  Â  freopen(&quot;/Users/Jiao/Desktop/CodeJam/BFFs/C-large-practice.out&quot;, &quot;w&quot;, stdout);</span><br><span class=\"line\">Â  Â  Â  Â  int T;</span><br><span class=\"line\">Â  Â  Â  Â  scanf(&quot;%d&quot;,&amp;T);</span><br><span class=\"line\">Â  Â  Â  Â  for (int i = 1; i&lt;=T; i++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  int N;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  scanf(&quot;%d&quot;,&amp;N);</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  int Bffs[N];</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  for (int j = 0; j&lt;N; j++) &#123;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  int bestFriend;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  scanf(&quot;%d&quot;,&amp;bestFriend);</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  Â  Â  Bffs[j]=bestFriend;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  Â  Â  Â  Â  printf(&quot;Case #%d: %ld\\n&quot;,i,maxCircle(Bffs,N));</span><br><span class=\"line\">Â  Â  Â  Â  &#125;</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  return 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶","date":"2016-08-22T02:58:02.000Z","thumbnail":"http://upload-images.jianshu.io/upload_images/2641798-03dca550cc87313d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240","_content":"\nåœ¨ OC ç¼–ç¨‹ä¸­ï¼Œå¸¸å¸¸ä¼šç”¨åˆ°å¯¹å¯¹è±¡çš„å¤åˆ¶ï¼Œç„¶åæ“ä½œå‰¯æœ¬å¯¹è±¡ã€‚ç„¶è€Œå¯¹ä¸åº”è¯¥é€‰æ‹©ä½•ç§å¯¹è±¡å¤åˆ¶çš„æ–¹å¼ï¼Œå¤åˆ¶åå‰¯æœ¬å¯¹è±¡æ“ä½œä¼šä¸ä¼šå½±å“åŸå§‹å¯¹è±¡ç­‰é—®é¢˜ï¼Œæˆ‘ä»¬å¾€å¾€æ²¡æœ‰è¿‡å¤šè€ƒè™‘ï¼Œè€Œæ˜¯å‡­å€Ÿç»éªŒåœ¨ç¼–ç ã€‚æ¥ä¸‹æ¥å°±å¯¹ OC ä¸­å¯¹è±¡å¤åˆ¶æœºåˆ¶è¿›è¡Œå‰–æï¼Œé€šè¿‡å¯¹å¤åˆ¶æœºåˆ¶çš„ç ”ç©¶å¯ä»¥åœ¨ç¼–ç ä¸­å¯¹å¯¹è±¡çš„å¤åˆ¶æ›´åŠ æ¸¸åˆƒæœ‰ä½™ã€‚\n\né¦–å…ˆï¼Œåœ¨ OC ä¸­å¤åˆ¶åˆ†ä¸ºæ·±å¤åˆ¶ä¸æµ…å¤åˆ¶ï¼Œä¸€ä¸ªæ¯”è¾ƒè®¤å¯çš„å®šä¹‰æ˜¯ï¼š\n\n> **æ·±å¤åˆ¶ï¼š**å¤åˆ¶å¯¹è±¡å¼•ç”¨ä¸å¯¹è±¡æœ¬èº«ã€‚Â \n> **æµ…å¤åˆ¶ï¼š**åªå¤åˆ¶å¯¹è±¡å¼•ç”¨ã€‚\n\n<!-- more -->\n\n![](http://upload-images.jianshu.io/upload_images/2641798-03dca550cc87313d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n---\n\n**é‚£ä¹ˆå“ªäº›æ“ä½œæ‰æ˜¯æµ…å¤åˆ¶ï¼Œå“ªäº›æ“ä½œæ˜¯æ·±å¤åˆ¶ï¼Ÿ**\n\næ‰€æœ‰çš„å¯¹è±¡é—´èµ‹å€¼æ“ä½œéƒ½æ˜¯**æµ…å¤åˆ¶**ï¼Œä»…ä»…å¤åˆ¶äº†å¼•ç”¨ã€‚å¦‚ CopyStr = Str1ï¼Œè¿™é‡Œ CopyStr å’Œ Str1 æŒ‡å‘çš„åŒä¸€å†…å­˜åœ°å€ï¼Œæ”¹å˜ä¸¤è€…ä¹‹é—´ä»»ä½•ä¸€ä¸ªå€¼ï¼Œå¦ä¸€ä¸ªéƒ½ä¼šéšä¹‹æ”¹å˜ã€‚\n\nè¯•ä¾‹ä»£ç ï¼š\n\n```\nvoid assignTest()\n{\nÂ  Â  printf(\"-----Assign Test-----\\n\\n\");\nÂ Â  Â \nÂ  Â  NSString *str1 = @\"Hello\";\nÂ  Â  NSString *str2 = str1;\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str2 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str2);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableString *str3 = [NSMutableString stringWithString:@\"Hello\"];\nÂ  Â  NSMutableString *str4 = str3;\nÂ  Â  [str3 appendString:@\" World\"];\nÂ  Â  [str4 appendString:@\"!\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str3 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str4 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str3);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str4);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str3);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str4);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:@\"Hello\", nil];\nÂ  Â  NSMutableArray *arr2 = arr1;\nÂ  Â  [arr1 addObject:@\"World\"];\nÂ  Â  [arr2 addObject:@\"!\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr2);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr2);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr2);\nÂ  Â  printf(\"\\n\");\n}\n```\n\nè¾“å‡ºç»“æœï¼š\n\n> **-----Assign Test-----**\n\n---\n\n**orignalStr : Hello**\n**copyStr : Hello**\n**orignalStr value address: 0x100002060**\n**copyStr value address: 0x100002060**\n**orignalStr pointer address: 0x7fff5fbff7a8**\n**copyStr pointer address: 0x7fff5fbff7a0**\n\n---\n\n**orignalStr : Hello World!**\n**copyStr : Hello World!**\n**orignalStr value address: 0x1002005c0**\n**copyStr value address: 0x1002005c0**\n**orignalStr pointer address: 0x7fff5fbff798**\n**copyStr pointer address: 0x7fff5fbff790**\n\n---\n\n**2016-08-22 11:35:20.312 CopyDemo[2046:72936] orignalArray : (**\n**Â  Â  Hello,**\n**Â  Â  World,**\n**Â  Â  \"!\"**\n**)**\n**2016-08-22 11:35:20.313 CopyDemo[2046:72936] copyArray : (**\n**Â  Â  Hello,**\n**Â  Â  World,**\n**Â  Â  \"!\"**\n**)**\n**orignalArray value address: 0x100406910**\n**copyArray value address: 0x100406910**\n**orignalArray pointer address: 0x7fff5fbff788**\n**copyArray pointer address: 0x7fff5fbff780**\n\n---\n\né€šè¿‡ä¸Šé¢ç»“æœæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œvalue çš„åœ°å€éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè€Œ pointer çš„åœ°å€æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™å°±è¯´æ˜äº†èµ‹å€¼æ“ä½œæ˜¯æµ…å¤åˆ¶ï¼Œåªæ˜¯ç”Ÿæˆä¸¤ä»½å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œå¯¹è±¡æœ¬èº«è¿˜æ˜¯åŒä¸€ä»½ã€‚åŸå¯¹è±¡å€¼å’Œå‰¯æœ¬å¯¹è±¡çš„å€¼æ“ä½œæ˜¯ç›¸äº’å½±å“çš„ã€‚\n\n---\n\n**é‚£ä¹ˆ OC ä¸­å¦‚ä½•å®ç°æ·±å¤åˆ¶å‘¢ï¼ŸÂ **\n\nOC ä¸­æ·±å¤åˆ¶æ˜¯é€šè¿‡ copy ä¸ mutableCopy æ–¹æ³•å®ç°ï¼ˆä½†ä¸æ˜¯éƒ½èƒ½è¾¾åˆ°æ·±å¤åˆ¶çš„ç›®çš„ï¼‰ï¼Œé€šè¿‡ copy å¤åˆ¶åçš„å‰¯æœ¬éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œé€šè¿‡ mutableCopy å¤åˆ¶åçš„å‰¯æœ¬éƒ½æ˜¯å¯å˜çš„ã€‚å¦‚åˆå§‹å¯¹è±¡ä¸º NSString ä¸ NSMutableStringï¼Œé€šè¿‡ copy åå‰¯æœ¬éƒ½æ˜¯ NSStringï¼Œè€Œé€šè¿‡ mutableCopy åéƒ½æ˜¯ NSMutableStringã€‚\næ¥ä¸‹æ¥åˆ†ä¸¤ç§æƒ…å†µè®¨è®º copy ä¸ mutableCopyï¼š\n\n**åˆå§‹å¯¹è±¡ä¸å¯å˜ï¼ˆå¦‚ NSStringã€NSArray ç­‰ï¼‰**\n\nè°ƒç”¨ copy æ–¹æ³•ä¹Ÿæ˜¯**æµ…å¤åˆ¶**ï¼Œç­‰åŒäºç›´æ¥èµ‹å€¼ï¼Œå› ä¸ºå¤åˆ¶è¿‡åçš„å‰¯æœ¬å’ŒåŸæ¥çš„å¯¹è±¡éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥è°ƒç”¨ copy æœ¬è´¨å°±æ˜¯èµ‹å€¼æ“ä½œï¼Œå¤åˆ¶äº†å¼•ç”¨ï¼Œä½†æ˜¯éƒ½æŒ‡å‘åŒä¸€å†…å­˜åœ°å€ã€‚\nè°ƒç”¨ mutableCopy æ˜¯**æ·±å¤åˆ¶**ï¼Œå‰¯æœ¬æˆä¸ºäº†å¯å˜å¯¹è±¡ï¼Œä½†æ˜¯æ“ä½œå‰¯æœ¬ï¼Œå¯¹åˆå§‹å¯¹è±¡çš„å€¼ä¸ä¼šäº§ç”Ÿå½±å“ã€‚\n\nè¯•ä¾‹ä»£ç ï¼š\n\n```\nvoid constCopyTest()\n{\nÂ  Â  printf(\"-----ConstCopy Test-----\\n\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSString Copy-\\n\");\nÂ  Â  NSString *str1 = @\"Hello\";\nÂ  Â  NSString *str2 = [str1 copy];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str2 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str2);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableString *str3 = [str1 mutableCopy];\nÂ  Â  [str3 appendString:@\" World!\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str3 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str3);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str3);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSArray Copy-\\n\");\nÂ  Â  NSArray *arr1 = [NSArray arrayWithObjects:[NSMutableString stringWithString:@\"Hello\"], nil];\nÂ  Â  NSArray *arr2 = [arr1 copy];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" World!\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr2);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr2);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableArray *arr3 = [arr1 mutableCopy];\nÂ  Â  [arr3 addObject:@\"World\"];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" + str1\"];\nÂ  Â  [[arr3 objectAtIndex:0] appendString:@\" + str3\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr3);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr3);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr3);\nÂ  Â  printf(\"\\n\");\n}\n```\n\nè¾“å‡ºç»“æœï¼š\n\n> **-----ConstCopy Test-----**\n\n---\n\n**-NSString Copy-**\n**orignalStr : Hello**\n**copyStr : Hello**\n**orignalStr value address: 0x100002060**\n**copyStr value address: 0x100002060**\n**orignalStr pointer address: 0x7fff5fbff7a8**\n**copyStr pointer address: 0x7fff5fbff7a0**\n\n---\n\n**orignalStr : Hello**\n**copyStr : Hello World!**\n**orignalStr value address: 0x100002060**\n**copyStr value address: 0x1004074d0**\n**orignalStr pointer address: 0x7fff5fbff7a8**\n**copyStr pointer address: 0x7fff5fbff798**\n\n---\n\n**-NSArray Copy-**\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (**\n**Â  Â  \"Hello World!\"**\n**)**\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (**\n**Â  Â  \"Hello World!\"**\n**)**\n**orignalArray value address: 0x1001016b0**\n**copyArray value address: 0x1001016b0**\n**orignalArray pointer address: 0x7fff5fbff790**\n**copyArray pointer address: 0x7fff5fbff788**\n\n---\n\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (**\n**Â  Â  \"Hello World! + str1 + str3\"**\n**)**\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (**\n**Â  Â  \"Hello World! + str1 + str3\",**\n**Â  Â  World**\n**)**\n**orignalArray value address: 0x1001016b0**\n**copyArray value address: 0x100300000**\n**orignalArray pointer address: 0x7fff5fbff790**\n**copyArray pointer address: 0x7fff5fbff780**\n\n---\n\nè¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ copy æ–¹æ³•å¤åˆ¶åçš„å‰¯æœ¬å¯¹è±¡çš„ value åœ°å€å’ŒåŸå¯¹è±¡æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥é’ˆå¯¹ä¸å¯å˜å¯¹è±¡æ˜¯ç”¨ copy æ–¹æ³•æ˜¯æµ…å¤åˆ¶ã€‚è€Œ mutableCopy æ–¹æ³•å¤åˆ¶åï¼Œå‰¯æœ¬å¯¹è±¡çš„ value å’Œ pointer åœ°å€éƒ½å’ŒåŸå¯¹è±¡ä¸ä¸€æ ·äº†ï¼Œè¯´æ˜ mutableCopy æ–¹æ³•æ˜¯æ·±å¤åˆ¶ã€‚\n\n**åˆå§‹å¯¹è±¡å¯å˜ï¼ˆå¦‚ NSMutableStringã€NSMutableArray ç­‰ï¼‰**\n\nè°ƒç”¨ copy æ–¹æ³•æ˜¯**æ·±å¤åˆ¶**ï¼Œå› ä¸ºè¿™é‡Œå‰¯æœ¬æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥åªè€ƒè™‘åˆå§‹å¯¹è±¡æ”¹å˜ã€‚å› ä¸ºæ˜¯æ·±å¤åˆ¶ï¼Œåˆå§‹å¯¹è±¡æ— è®ºæ€ä¹ˆæ”¹å˜ï¼Œå‰¯æœ¬çš„å€¼éƒ½æ˜¯ä¸å˜çš„ã€‚\nè°ƒç”¨ mutableCopy ä¹Ÿæ˜¯**æ·±å¤åˆ¶**ï¼Œå¤åˆ¶è¿‡åï¼Œå‰¯æœ¬ä¸åˆå§‹å¯¹è±¡ä¹‹é—´çš„æ”¹å˜éƒ½æ˜¯ç‹¬ç«‹ä¸å½±å“çš„ï¼Œå¦‚åˆå§‹å¯¹è±¡ str = â€œexampleâ€ï¼Œstr+â€ append1â€ï¼Œå‰¯æœ¬ str+â€ append2â€ï¼Œæœ€ç»ˆè¾“å‡ºç»“æœä¼šæ˜¯åˆå§‹å¯¹è±¡ä¸ºâ€example append1â€ï¼Œå‰¯æœ¬ä¸ºâ€example append2â€ã€‚\n\nè¯•ä¾‹ä»£ç ï¼š\n\n```\nvoid mutableCopyTest()\n{\nÂ  Â  printf(\"-----MutableCopy Test-----\\n\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSString Copy-\\n\");\nÂ  Â  NSMutableString *str1 = [NSMutableString stringWithString:@\"Hello\"];\nÂ  Â  NSString *str2 = [str1 copy];\nÂ  Â  [str1 appendString:@\" World\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str2 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str2);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableString *str3 = [str1 mutableCopy];\nÂ  Â  [str1 appendString:@\" + str1\"];\nÂ  Â  [str3 appendString:@\" + str3\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str3 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str3);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str3);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSArray Copy-\\n\");\nÂ  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:[NSMutableString stringWithString:@\"Hello\"], nil];\nÂ  Â  NSArray *arr2 = [arr1 copy];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" World!\"];\nÂ  Â  [arr1 addObject:@\"Word\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr2);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr2);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableArray *arr3 = [arr1 mutableCopy];\nÂ  Â  [arr1 addObject:@\"+arr1\"];\nÂ  Â  [arr3 addObject:@\"+arr3\"];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" + str1\"];\nÂ  Â  [[arr3 objectAtIndex:0] appendString:@\" + str3\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr3);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr3);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr3);\nÂ  Â  printf(\"\\n\");\n}\n```\n\nè¾“å‡ºç»“æœï¼š\n\n> **-----MutableCopy Test-----**\n\n---\n\n**-NSString Copy-**\n**orignalStr : Hello World**\n**copyStr : Hello**\n**orignalStr value address: 0x100300080**\n**copyStr value address: 0x6f6c6c654855**\n**orignalStr pointer address: 0x7fff5fbff7a8**\n**copyStr pointer address: 0x7fff5fbff7a0**\n\n---\n\n**orignalStr : Hello World + str1**\n**copyStr : Hello World + str3**\n**orignalStr value address: 0x100300080**\n**copyStr value address: 0x100300320**\n**orignalStr pointer address: 0x7fff5fbff7a8**\n**copyStr pointer address: 0x7fff5fbff798**\n\n---\n\n**-NSArray Copy-**\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (**\n**Â  Â  \"Hello World!\",**\n**Â  Â  Word**\n**)**\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (**\n**Â  Â  \"Hello World!\"**\n**)**\n**orignalArray value address: 0x100300000**\n**copyArray value address: 0x100300b00**\n**orignalArray pointer address: 0x7fff5fbff790**\n**copyArray pointer address: 0x7fff5fbff788**\n\n---\n\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (**\n**Â  Â  \"Hello World! + str1 + str3\",**\n**Â  Â  Word,**\n**Â  Â  \"+arr1\"**\n**)**\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (**\n**Â  Â  \"Hello World! + str1 + str3\",**\n**Â  Â  Word,**\n**Â  Â  \"+arr3\"**\n**)**\n**orignalArray value address: 0x100300000**\n**copyArray value address: 0x100300e40**\n**orignalArray pointer address: 0x7fff5fbff790**\n**copyArray pointer address: 0x7fff5fbff780**\n\n---\n\né€šè¿‡è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºå¯å˜å¯¹è±¡ï¼Œè°ƒç”¨ copy ä¸ mutableCopy æ–¹æ³•éƒ½æ˜¯æ·±å¤åˆ¶ï¼Œå› ä¸ºå‰¯æœ¬çš„ value å’Œ pointer åœ°å€éƒ½ä¸åŸå¯¹è±¡ä¸åŒã€‚\n\n`æ³¨ï¼šå¯¹äºç½‘ä¸ŠæŸäº›è§£é‡Šè¯´NSArray/NSMutableArray NSDictionary/NSMutableDictionaryåªæœ‰æµ…å¤åˆ¶ï¼Œè¿™é‡Œè®¤ä¸ºå¯¹äºå¯¹è±¡æœ¬èº«æ¥è¯´è°ƒç”¨mutableCopyæˆ–å¯¹äºå¯å˜å¯¹è±¡è°ƒç”¨copyéƒ½æ˜¯æ·±å¤åˆ¶ï¼Œåªèƒ½è¯´å¯¹äºæ•°ç»„å’Œå­—å…¸è¿™ç§å¤åˆç»“æ„æ·±å¤åˆ¶æ“ä½œåªæ˜¯ä½œç”¨åˆ°å¤–å±‚å¯¹è±¡ï¼Œå†…éƒ¨å¦‚æœè¿˜æœ‰å¯å˜å¯¹è±¡ï¼Œä»…ä»…å°±æ˜¯å¼•ç”¨çš„å¤åˆ¶ã€‚ï¼ˆä¸Šé¢çš„ä¾‹å­ä¸­å¯¹äºæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ“ä½œå¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹å‡ºæ¥ã€‚å³ä½¿æ˜¯å¯¹æ•°ç»„çš„æ·±å¤åˆ¶ï¼Œç„¶è€Œæ”¹å˜ç¬¬ä¸€ä¸ªå¯å˜å­—ç¬¦ä¸²ï¼Œæ— è®ºæ˜¯å‰¯æœ¬æ•°ç»„è¿˜æ˜¯åŸæ•°ç»„çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²éƒ½æ”¹å˜äº†ã€‚ï¼‰`\n\nå®Œæ•´ä»£ç ï¼š\n\n```\n//\n//Â  main.m\n//Â  CopyDemo\n//\n//Â  Created by Jiao Liu on 6/23/16.\n//Â  Copyright Â© 2016 ChangHong. All rights reserved.\n//\n\n#import <Foundation/Foundation.h>\n\nvoid mutableCopyTest()\n{\nÂ  Â  printf(\"-----MutableCopy Test-----\\n\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSString Copy-\\n\");\nÂ  Â  NSMutableString *str1 = [NSMutableString stringWithString:@\"Hello\"];\nÂ  Â  NSString *str2 = [str1 copy];\nÂ  Â  [str1 appendString:@\" World\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str2 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str2);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableString *str3 = [str1 mutableCopy];\nÂ  Â  [str1 appendString:@\" + str1\"];\nÂ  Â  [str3 appendString:@\" + str3\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str3 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str3);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str3);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSArray Copy-\\n\");\nÂ  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:[NSMutableString stringWithString:@\"Hello\"], nil];\nÂ  Â  NSArray *arr2 = [arr1 copy];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" World!\"];\nÂ  Â  [arr1 addObject:@\"Word\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr2);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr2);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableArray *arr3 = [arr1 mutableCopy];\nÂ  Â  [arr1 addObject:@\"+arr1\"];\nÂ  Â  [arr3 addObject:@\"+arr3\"];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" + str1\"];\nÂ  Â  [[arr3 objectAtIndex:0] appendString:@\" + str3\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr3);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr3);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr3);\nÂ  Â  printf(\"\\n\");\n}\n\nvoid constCopyTest()\n{\nÂ  Â  printf(\"-----ConstCopy Test-----\\n\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSString Copy-\\n\");\nÂ  Â  NSString *str1 = @\"Hello\";\nÂ  Â  NSString *str2 = [str1 copy];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str2 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str2);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableString *str3 = [str1 mutableCopy];\nÂ  Â  [str3 appendString:@\" World!\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str3 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str3);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str3);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSArray Copy-\\n\");\nÂ  Â  NSArray *arr1 = [NSArray arrayWithObjects:[NSMutableString stringWithString:@\"Hello\"], nil];\nÂ  Â  NSArray *arr2 = [arr1 copy];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" World!\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr2);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr2);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableArray *arr3 = [arr1 mutableCopy];\nÂ  Â  [arr3 addObject:@\"World\"];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" + str1\"];\nÂ  Â  [[arr3 objectAtIndex:0] appendString:@\" + str3\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr3);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr3);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr3);\nÂ  Â  printf(\"\\n\");\n}\n\nvoid assignTest()\n{\nÂ  Â  printf(\"-----Assign Test-----\\n\\n\");\nÂ Â  Â \nÂ  Â  NSString *str1 = @\"Hello\";\nÂ  Â  NSString *str2 = str1;\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str2 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str2);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableString *str3 = [NSMutableString stringWithString:@\"Hello\"];\nÂ  Â  NSMutableString *str4 = str3;\nÂ  Â  [str3 appendString:@\" World\"];\nÂ  Â  [str4 appendString:@\"!\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str3 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str4 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str3);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str4);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str3);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str4);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:@\"Hello\", nil];\nÂ  Â  NSMutableArray *arr2 = arr1;\nÂ  Â  [arr1 addObject:@\"World\"];\nÂ  Â  [arr2 addObject:@\"!\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr2);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr2);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr2);\nÂ  Â  printf(\"\\n\");\n}\n\nint main(int argc, const char * argv[]) {\nÂ  Â  @autoreleasepool {\nÂ  Â  Â  Â  // insert code here...\nÂ  Â  Â  Â  assignTest();\nÂ  Â  Â  Â  constCopyTest();\nÂ  Â  Â  Â  mutableCopyTest();\nÂ  Â  }\nÂ  Â  return 0;\n}\n```\n\n---\n\næœ¬æ–‡æœ€æ—©å‘å¸ƒäºé•¿è™¹è½¯æœå…¬ä¼—å·ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å»çœ‹ä¸€ä¸‹ï¼š\n[å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶](http://mp.weixin.qq.com/s?__biz=MzAwMjkxNjYzNA==&mid=2247483852&idx=1&sn=9da01b2399427654ad12e36452f612c9&scene=23&srcid=0822iBXKqaGYwMOnRhVLxNVt#rd)\n","source":"_posts/å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶.md","raw":"---\ntitle: å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶\ndate: 2016-08-22 10:58:02\ntags: ç§»åŠ¨ç«¯\ncategories:\n  - å·¥ä½œ\n  - iOS\nthumbnail: http://upload-images.jianshu.io/upload_images/2641798-03dca550cc87313d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\n---\n\nåœ¨ OC ç¼–ç¨‹ä¸­ï¼Œå¸¸å¸¸ä¼šç”¨åˆ°å¯¹å¯¹è±¡çš„å¤åˆ¶ï¼Œç„¶åæ“ä½œå‰¯æœ¬å¯¹è±¡ã€‚ç„¶è€Œå¯¹ä¸åº”è¯¥é€‰æ‹©ä½•ç§å¯¹è±¡å¤åˆ¶çš„æ–¹å¼ï¼Œå¤åˆ¶åå‰¯æœ¬å¯¹è±¡æ“ä½œä¼šä¸ä¼šå½±å“åŸå§‹å¯¹è±¡ç­‰é—®é¢˜ï¼Œæˆ‘ä»¬å¾€å¾€æ²¡æœ‰è¿‡å¤šè€ƒè™‘ï¼Œè€Œæ˜¯å‡­å€Ÿç»éªŒåœ¨ç¼–ç ã€‚æ¥ä¸‹æ¥å°±å¯¹ OC ä¸­å¯¹è±¡å¤åˆ¶æœºåˆ¶è¿›è¡Œå‰–æï¼Œé€šè¿‡å¯¹å¤åˆ¶æœºåˆ¶çš„ç ”ç©¶å¯ä»¥åœ¨ç¼–ç ä¸­å¯¹å¯¹è±¡çš„å¤åˆ¶æ›´åŠ æ¸¸åˆƒæœ‰ä½™ã€‚\n\né¦–å…ˆï¼Œåœ¨ OC ä¸­å¤åˆ¶åˆ†ä¸ºæ·±å¤åˆ¶ä¸æµ…å¤åˆ¶ï¼Œä¸€ä¸ªæ¯”è¾ƒè®¤å¯çš„å®šä¹‰æ˜¯ï¼š\n\n> **æ·±å¤åˆ¶ï¼š**å¤åˆ¶å¯¹è±¡å¼•ç”¨ä¸å¯¹è±¡æœ¬èº«ã€‚Â \n> **æµ…å¤åˆ¶ï¼š**åªå¤åˆ¶å¯¹è±¡å¼•ç”¨ã€‚\n\n<!-- more -->\n\n![](http://upload-images.jianshu.io/upload_images/2641798-03dca550cc87313d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n---\n\n**é‚£ä¹ˆå“ªäº›æ“ä½œæ‰æ˜¯æµ…å¤åˆ¶ï¼Œå“ªäº›æ“ä½œæ˜¯æ·±å¤åˆ¶ï¼Ÿ**\n\næ‰€æœ‰çš„å¯¹è±¡é—´èµ‹å€¼æ“ä½œéƒ½æ˜¯**æµ…å¤åˆ¶**ï¼Œä»…ä»…å¤åˆ¶äº†å¼•ç”¨ã€‚å¦‚ CopyStr = Str1ï¼Œè¿™é‡Œ CopyStr å’Œ Str1 æŒ‡å‘çš„åŒä¸€å†…å­˜åœ°å€ï¼Œæ”¹å˜ä¸¤è€…ä¹‹é—´ä»»ä½•ä¸€ä¸ªå€¼ï¼Œå¦ä¸€ä¸ªéƒ½ä¼šéšä¹‹æ”¹å˜ã€‚\n\nè¯•ä¾‹ä»£ç ï¼š\n\n```\nvoid assignTest()\n{\nÂ  Â  printf(\"-----Assign Test-----\\n\\n\");\nÂ Â  Â \nÂ  Â  NSString *str1 = @\"Hello\";\nÂ  Â  NSString *str2 = str1;\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str2 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str2);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableString *str3 = [NSMutableString stringWithString:@\"Hello\"];\nÂ  Â  NSMutableString *str4 = str3;\nÂ  Â  [str3 appendString:@\" World\"];\nÂ  Â  [str4 appendString:@\"!\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str3 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str4 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str3);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str4);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str3);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str4);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:@\"Hello\", nil];\nÂ  Â  NSMutableArray *arr2 = arr1;\nÂ  Â  [arr1 addObject:@\"World\"];\nÂ  Â  [arr2 addObject:@\"!\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr2);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr2);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr2);\nÂ  Â  printf(\"\\n\");\n}\n```\n\nè¾“å‡ºç»“æœï¼š\n\n> **-----Assign Test-----**\n\n---\n\n**orignalStr : Hello**\n**copyStr : Hello**\n**orignalStr value address: 0x100002060**\n**copyStr value address: 0x100002060**\n**orignalStr pointer address: 0x7fff5fbff7a8**\n**copyStr pointer address: 0x7fff5fbff7a0**\n\n---\n\n**orignalStr : Hello World!**\n**copyStr : Hello World!**\n**orignalStr value address: 0x1002005c0**\n**copyStr value address: 0x1002005c0**\n**orignalStr pointer address: 0x7fff5fbff798**\n**copyStr pointer address: 0x7fff5fbff790**\n\n---\n\n**2016-08-22 11:35:20.312 CopyDemo[2046:72936] orignalArray : (**\n**Â  Â  Hello,**\n**Â  Â  World,**\n**Â  Â  \"!\"**\n**)**\n**2016-08-22 11:35:20.313 CopyDemo[2046:72936] copyArray : (**\n**Â  Â  Hello,**\n**Â  Â  World,**\n**Â  Â  \"!\"**\n**)**\n**orignalArray value address: 0x100406910**\n**copyArray value address: 0x100406910**\n**orignalArray pointer address: 0x7fff5fbff788**\n**copyArray pointer address: 0x7fff5fbff780**\n\n---\n\né€šè¿‡ä¸Šé¢ç»“æœæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œvalue çš„åœ°å€éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè€Œ pointer çš„åœ°å€æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™å°±è¯´æ˜äº†èµ‹å€¼æ“ä½œæ˜¯æµ…å¤åˆ¶ï¼Œåªæ˜¯ç”Ÿæˆä¸¤ä»½å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œå¯¹è±¡æœ¬èº«è¿˜æ˜¯åŒä¸€ä»½ã€‚åŸå¯¹è±¡å€¼å’Œå‰¯æœ¬å¯¹è±¡çš„å€¼æ“ä½œæ˜¯ç›¸äº’å½±å“çš„ã€‚\n\n---\n\n**é‚£ä¹ˆ OC ä¸­å¦‚ä½•å®ç°æ·±å¤åˆ¶å‘¢ï¼ŸÂ **\n\nOC ä¸­æ·±å¤åˆ¶æ˜¯é€šè¿‡ copy ä¸ mutableCopy æ–¹æ³•å®ç°ï¼ˆä½†ä¸æ˜¯éƒ½èƒ½è¾¾åˆ°æ·±å¤åˆ¶çš„ç›®çš„ï¼‰ï¼Œé€šè¿‡ copy å¤åˆ¶åçš„å‰¯æœ¬éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œé€šè¿‡ mutableCopy å¤åˆ¶åçš„å‰¯æœ¬éƒ½æ˜¯å¯å˜çš„ã€‚å¦‚åˆå§‹å¯¹è±¡ä¸º NSString ä¸ NSMutableStringï¼Œé€šè¿‡ copy åå‰¯æœ¬éƒ½æ˜¯ NSStringï¼Œè€Œé€šè¿‡ mutableCopy åéƒ½æ˜¯ NSMutableStringã€‚\næ¥ä¸‹æ¥åˆ†ä¸¤ç§æƒ…å†µè®¨è®º copy ä¸ mutableCopyï¼š\n\n**åˆå§‹å¯¹è±¡ä¸å¯å˜ï¼ˆå¦‚ NSStringã€NSArray ç­‰ï¼‰**\n\nè°ƒç”¨ copy æ–¹æ³•ä¹Ÿæ˜¯**æµ…å¤åˆ¶**ï¼Œç­‰åŒäºç›´æ¥èµ‹å€¼ï¼Œå› ä¸ºå¤åˆ¶è¿‡åçš„å‰¯æœ¬å’ŒåŸæ¥çš„å¯¹è±¡éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥è°ƒç”¨ copy æœ¬è´¨å°±æ˜¯èµ‹å€¼æ“ä½œï¼Œå¤åˆ¶äº†å¼•ç”¨ï¼Œä½†æ˜¯éƒ½æŒ‡å‘åŒä¸€å†…å­˜åœ°å€ã€‚\nè°ƒç”¨ mutableCopy æ˜¯**æ·±å¤åˆ¶**ï¼Œå‰¯æœ¬æˆä¸ºäº†å¯å˜å¯¹è±¡ï¼Œä½†æ˜¯æ“ä½œå‰¯æœ¬ï¼Œå¯¹åˆå§‹å¯¹è±¡çš„å€¼ä¸ä¼šäº§ç”Ÿå½±å“ã€‚\n\nè¯•ä¾‹ä»£ç ï¼š\n\n```\nvoid constCopyTest()\n{\nÂ  Â  printf(\"-----ConstCopy Test-----\\n\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSString Copy-\\n\");\nÂ  Â  NSString *str1 = @\"Hello\";\nÂ  Â  NSString *str2 = [str1 copy];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str2 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str2);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableString *str3 = [str1 mutableCopy];\nÂ  Â  [str3 appendString:@\" World!\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str3 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str3);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str3);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSArray Copy-\\n\");\nÂ  Â  NSArray *arr1 = [NSArray arrayWithObjects:[NSMutableString stringWithString:@\"Hello\"], nil];\nÂ  Â  NSArray *arr2 = [arr1 copy];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" World!\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr2);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr2);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableArray *arr3 = [arr1 mutableCopy];\nÂ  Â  [arr3 addObject:@\"World\"];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" + str1\"];\nÂ  Â  [[arr3 objectAtIndex:0] appendString:@\" + str3\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr3);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr3);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr3);\nÂ  Â  printf(\"\\n\");\n}\n```\n\nè¾“å‡ºç»“æœï¼š\n\n> **-----ConstCopy Test-----**\n\n---\n\n**-NSString Copy-**\n**orignalStr : Hello**\n**copyStr : Hello**\n**orignalStr value address: 0x100002060**\n**copyStr value address: 0x100002060**\n**orignalStr pointer address: 0x7fff5fbff7a8**\n**copyStr pointer address: 0x7fff5fbff7a0**\n\n---\n\n**orignalStr : Hello**\n**copyStr : Hello World!**\n**orignalStr value address: 0x100002060**\n**copyStr value address: 0x1004074d0**\n**orignalStr pointer address: 0x7fff5fbff7a8**\n**copyStr pointer address: 0x7fff5fbff798**\n\n---\n\n**-NSArray Copy-**\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (**\n**Â  Â  \"Hello World!\"**\n**)**\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (**\n**Â  Â  \"Hello World!\"**\n**)**\n**orignalArray value address: 0x1001016b0**\n**copyArray value address: 0x1001016b0**\n**orignalArray pointer address: 0x7fff5fbff790**\n**copyArray pointer address: 0x7fff5fbff788**\n\n---\n\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (**\n**Â  Â  \"Hello World! + str1 + str3\"**\n**)**\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (**\n**Â  Â  \"Hello World! + str1 + str3\",**\n**Â  Â  World**\n**)**\n**orignalArray value address: 0x1001016b0**\n**copyArray value address: 0x100300000**\n**orignalArray pointer address: 0x7fff5fbff790**\n**copyArray pointer address: 0x7fff5fbff780**\n\n---\n\nè¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ copy æ–¹æ³•å¤åˆ¶åçš„å‰¯æœ¬å¯¹è±¡çš„ value åœ°å€å’ŒåŸå¯¹è±¡æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥é’ˆå¯¹ä¸å¯å˜å¯¹è±¡æ˜¯ç”¨ copy æ–¹æ³•æ˜¯æµ…å¤åˆ¶ã€‚è€Œ mutableCopy æ–¹æ³•å¤åˆ¶åï¼Œå‰¯æœ¬å¯¹è±¡çš„ value å’Œ pointer åœ°å€éƒ½å’ŒåŸå¯¹è±¡ä¸ä¸€æ ·äº†ï¼Œè¯´æ˜ mutableCopy æ–¹æ³•æ˜¯æ·±å¤åˆ¶ã€‚\n\n**åˆå§‹å¯¹è±¡å¯å˜ï¼ˆå¦‚ NSMutableStringã€NSMutableArray ç­‰ï¼‰**\n\nè°ƒç”¨ copy æ–¹æ³•æ˜¯**æ·±å¤åˆ¶**ï¼Œå› ä¸ºè¿™é‡Œå‰¯æœ¬æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥åªè€ƒè™‘åˆå§‹å¯¹è±¡æ”¹å˜ã€‚å› ä¸ºæ˜¯æ·±å¤åˆ¶ï¼Œåˆå§‹å¯¹è±¡æ— è®ºæ€ä¹ˆæ”¹å˜ï¼Œå‰¯æœ¬çš„å€¼éƒ½æ˜¯ä¸å˜çš„ã€‚\nè°ƒç”¨ mutableCopy ä¹Ÿæ˜¯**æ·±å¤åˆ¶**ï¼Œå¤åˆ¶è¿‡åï¼Œå‰¯æœ¬ä¸åˆå§‹å¯¹è±¡ä¹‹é—´çš„æ”¹å˜éƒ½æ˜¯ç‹¬ç«‹ä¸å½±å“çš„ï¼Œå¦‚åˆå§‹å¯¹è±¡ str = â€œexampleâ€ï¼Œstr+â€ append1â€ï¼Œå‰¯æœ¬ str+â€ append2â€ï¼Œæœ€ç»ˆè¾“å‡ºç»“æœä¼šæ˜¯åˆå§‹å¯¹è±¡ä¸ºâ€example append1â€ï¼Œå‰¯æœ¬ä¸ºâ€example append2â€ã€‚\n\nè¯•ä¾‹ä»£ç ï¼š\n\n```\nvoid mutableCopyTest()\n{\nÂ  Â  printf(\"-----MutableCopy Test-----\\n\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSString Copy-\\n\");\nÂ  Â  NSMutableString *str1 = [NSMutableString stringWithString:@\"Hello\"];\nÂ  Â  NSString *str2 = [str1 copy];\nÂ  Â  [str1 appendString:@\" World\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str2 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str2);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableString *str3 = [str1 mutableCopy];\nÂ  Â  [str1 appendString:@\" + str1\"];\nÂ  Â  [str3 appendString:@\" + str3\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str3 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str3);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str3);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSArray Copy-\\n\");\nÂ  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:[NSMutableString stringWithString:@\"Hello\"], nil];\nÂ  Â  NSArray *arr2 = [arr1 copy];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" World!\"];\nÂ  Â  [arr1 addObject:@\"Word\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr2);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr2);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableArray *arr3 = [arr1 mutableCopy];\nÂ  Â  [arr1 addObject:@\"+arr1\"];\nÂ  Â  [arr3 addObject:@\"+arr3\"];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" + str1\"];\nÂ  Â  [[arr3 objectAtIndex:0] appendString:@\" + str3\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr3);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr3);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr3);\nÂ  Â  printf(\"\\n\");\n}\n```\n\nè¾“å‡ºç»“æœï¼š\n\n> **-----MutableCopy Test-----**\n\n---\n\n**-NSString Copy-**\n**orignalStr : Hello World**\n**copyStr : Hello**\n**orignalStr value address: 0x100300080**\n**copyStr value address: 0x6f6c6c654855**\n**orignalStr pointer address: 0x7fff5fbff7a8**\n**copyStr pointer address: 0x7fff5fbff7a0**\n\n---\n\n**orignalStr : Hello World + str1**\n**copyStr : Hello World + str3**\n**orignalStr value address: 0x100300080**\n**copyStr value address: 0x100300320**\n**orignalStr pointer address: 0x7fff5fbff7a8**\n**copyStr pointer address: 0x7fff5fbff798**\n\n---\n\n**-NSArray Copy-**\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (**\n**Â  Â  \"Hello World!\",**\n**Â  Â  Word**\n**)**\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (**\n**Â  Â  \"Hello World!\"**\n**)**\n**orignalArray value address: 0x100300000**\n**copyArray value address: 0x100300b00**\n**orignalArray pointer address: 0x7fff5fbff790**\n**copyArray pointer address: 0x7fff5fbff788**\n\n---\n\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (**\n**Â  Â  \"Hello World! + str1 + str3\",**\n**Â  Â  Word,**\n**Â  Â  \"+arr1\"**\n**)**\n**2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (**\n**Â  Â  \"Hello World! + str1 + str3\",**\n**Â  Â  Word,**\n**Â  Â  \"+arr3\"**\n**)**\n**orignalArray value address: 0x100300000**\n**copyArray value address: 0x100300e40**\n**orignalArray pointer address: 0x7fff5fbff790**\n**copyArray pointer address: 0x7fff5fbff780**\n\n---\n\né€šè¿‡è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºå¯å˜å¯¹è±¡ï¼Œè°ƒç”¨ copy ä¸ mutableCopy æ–¹æ³•éƒ½æ˜¯æ·±å¤åˆ¶ï¼Œå› ä¸ºå‰¯æœ¬çš„ value å’Œ pointer åœ°å€éƒ½ä¸åŸå¯¹è±¡ä¸åŒã€‚\n\n`æ³¨ï¼šå¯¹äºç½‘ä¸ŠæŸäº›è§£é‡Šè¯´NSArray/NSMutableArray NSDictionary/NSMutableDictionaryåªæœ‰æµ…å¤åˆ¶ï¼Œè¿™é‡Œè®¤ä¸ºå¯¹äºå¯¹è±¡æœ¬èº«æ¥è¯´è°ƒç”¨mutableCopyæˆ–å¯¹äºå¯å˜å¯¹è±¡è°ƒç”¨copyéƒ½æ˜¯æ·±å¤åˆ¶ï¼Œåªèƒ½è¯´å¯¹äºæ•°ç»„å’Œå­—å…¸è¿™ç§å¤åˆç»“æ„æ·±å¤åˆ¶æ“ä½œåªæ˜¯ä½œç”¨åˆ°å¤–å±‚å¯¹è±¡ï¼Œå†…éƒ¨å¦‚æœè¿˜æœ‰å¯å˜å¯¹è±¡ï¼Œä»…ä»…å°±æ˜¯å¼•ç”¨çš„å¤åˆ¶ã€‚ï¼ˆä¸Šé¢çš„ä¾‹å­ä¸­å¯¹äºæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ“ä½œå¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹å‡ºæ¥ã€‚å³ä½¿æ˜¯å¯¹æ•°ç»„çš„æ·±å¤åˆ¶ï¼Œç„¶è€Œæ”¹å˜ç¬¬ä¸€ä¸ªå¯å˜å­—ç¬¦ä¸²ï¼Œæ— è®ºæ˜¯å‰¯æœ¬æ•°ç»„è¿˜æ˜¯åŸæ•°ç»„çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²éƒ½æ”¹å˜äº†ã€‚ï¼‰`\n\nå®Œæ•´ä»£ç ï¼š\n\n```\n//\n//Â  main.m\n//Â  CopyDemo\n//\n//Â  Created by Jiao Liu on 6/23/16.\n//Â  Copyright Â© 2016 ChangHong. All rights reserved.\n//\n\n#import <Foundation/Foundation.h>\n\nvoid mutableCopyTest()\n{\nÂ  Â  printf(\"-----MutableCopy Test-----\\n\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSString Copy-\\n\");\nÂ  Â  NSMutableString *str1 = [NSMutableString stringWithString:@\"Hello\"];\nÂ  Â  NSString *str2 = [str1 copy];\nÂ  Â  [str1 appendString:@\" World\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str2 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str2);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableString *str3 = [str1 mutableCopy];\nÂ  Â  [str1 appendString:@\" + str1\"];\nÂ  Â  [str3 appendString:@\" + str3\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str3 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str3);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str3);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSArray Copy-\\n\");\nÂ  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:[NSMutableString stringWithString:@\"Hello\"], nil];\nÂ  Â  NSArray *arr2 = [arr1 copy];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" World!\"];\nÂ  Â  [arr1 addObject:@\"Word\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr2);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr2);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableArray *arr3 = [arr1 mutableCopy];\nÂ  Â  [arr1 addObject:@\"+arr1\"];\nÂ  Â  [arr3 addObject:@\"+arr3\"];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" + str1\"];\nÂ  Â  [[arr3 objectAtIndex:0] appendString:@\" + str3\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr3);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr3);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr3);\nÂ  Â  printf(\"\\n\");\n}\n\nvoid constCopyTest()\n{\nÂ  Â  printf(\"-----ConstCopy Test-----\\n\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSString Copy-\\n\");\nÂ  Â  NSString *str1 = @\"Hello\";\nÂ  Â  NSString *str2 = [str1 copy];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str2 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str2);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableString *str3 = [str1 mutableCopy];\nÂ  Â  [str3 appendString:@\" World!\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str3 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str3);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str3);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  printf(\"-NSArray Copy-\\n\");\nÂ  Â  NSArray *arr1 = [NSArray arrayWithObjects:[NSMutableString stringWithString:@\"Hello\"], nil];\nÂ  Â  NSArray *arr2 = [arr1 copy];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" World!\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr2);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr2);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableArray *arr3 = [arr1 mutableCopy];\nÂ  Â  [arr3 addObject:@\"World\"];\nÂ  Â  [[arr1 objectAtIndex:0] appendString:@\" + str1\"];\nÂ  Â  [[arr3 objectAtIndex:0] appendString:@\" + str3\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr3);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr3);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr3);\nÂ  Â  printf(\"\\n\");\n}\n\nvoid assignTest()\n{\nÂ  Â  printf(\"-----Assign Test-----\\n\\n\");\nÂ Â  Â \nÂ  Â  NSString *str1 = @\"Hello\";\nÂ  Â  NSString *str2 = str1;\nÂ  Â  printf(\"orignalStr : %s\\n\",[str1 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str2 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str1);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str2);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str1);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str2);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableString *str3 = [NSMutableString stringWithString:@\"Hello\"];\nÂ  Â  NSMutableString *str4 = str3;\nÂ  Â  [str3 appendString:@\" World\"];\nÂ  Â  [str4 appendString:@\"!\"];\nÂ  Â  printf(\"orignalStr : %s\\n\",[str3 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"copyStr : %s\\n\",[str4 cStringUsingEncoding:NSUTF8StringEncoding]);\nÂ  Â  printf(\"orignalStr value address: %p\\n\",str3);\nÂ  Â  printf(\"copyStr value address: %p\\n\",str4);\nÂ  Â  printf(\"orignalStr pointer address: %p\\n\",&str3);\nÂ  Â  printf(\"copyStr pointer address: %p\\n\",&str4);\nÂ  Â  printf(\"\\n\");\nÂ Â  Â \nÂ  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:@\"Hello\", nil];\nÂ  Â  NSMutableArray *arr2 = arr1;\nÂ  Â  [arr1 addObject:@\"World\"];\nÂ  Â  [arr2 addObject:@\"!\"];\nÂ  Â  NSLog(@\"orignalArray : %@\",arr1);\nÂ  Â  NSLog(@\"copyArray : %@\",arr2);\nÂ  Â  printf(\"orignalArray value address: %p\\n\",arr1);\nÂ  Â  printf(\"copyArray value address: %p\\n\",arr2);\nÂ  Â  printf(\"orignalArray pointer address: %p\\n\",&arr1);\nÂ  Â  printf(\"copyArray pointer address: %p\\n\",&arr2);\nÂ  Â  printf(\"\\n\");\n}\n\nint main(int argc, const char * argv[]) {\nÂ  Â  @autoreleasepool {\nÂ  Â  Â  Â  // insert code here...\nÂ  Â  Â  Â  assignTest();\nÂ  Â  Â  Â  constCopyTest();\nÂ  Â  Â  Â  mutableCopyTest();\nÂ  Â  }\nÂ  Â  return 0;\n}\n```\n\n---\n\næœ¬æ–‡æœ€æ—©å‘å¸ƒäºé•¿è™¹è½¯æœå…¬ä¼—å·ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å»çœ‹ä¸€ä¸‹ï¼š\n[å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶](http://mp.weixin.qq.com/s?__biz=MzAwMjkxNjYzNA==&mid=2247483852&idx=1&sn=9da01b2399427654ad12e36452f612c9&scene=23&srcid=0822iBXKqaGYwMOnRhVLxNVt#rd)\n","slug":"å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶","published":1,"updated":"2019-01-08T05:33:04.554Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjscxlpjh002vhqoxpdgexiir","content":"<p>åœ¨ OC ç¼–ç¨‹ä¸­ï¼Œå¸¸å¸¸ä¼šç”¨åˆ°å¯¹å¯¹è±¡çš„å¤åˆ¶ï¼Œç„¶åæ“ä½œå‰¯æœ¬å¯¹è±¡ã€‚ç„¶è€Œå¯¹ä¸åº”è¯¥é€‰æ‹©ä½•ç§å¯¹è±¡å¤åˆ¶çš„æ–¹å¼ï¼Œå¤åˆ¶åå‰¯æœ¬å¯¹è±¡æ“ä½œä¼šä¸ä¼šå½±å“åŸå§‹å¯¹è±¡ç­‰é—®é¢˜ï¼Œæˆ‘ä»¬å¾€å¾€æ²¡æœ‰è¿‡å¤šè€ƒè™‘ï¼Œè€Œæ˜¯å‡­å€Ÿç»éªŒåœ¨ç¼–ç ã€‚æ¥ä¸‹æ¥å°±å¯¹ OC ä¸­å¯¹è±¡å¤åˆ¶æœºåˆ¶è¿›è¡Œå‰–æï¼Œé€šè¿‡å¯¹å¤åˆ¶æœºåˆ¶çš„ç ”ç©¶å¯ä»¥åœ¨ç¼–ç ä¸­å¯¹å¯¹è±¡çš„å¤åˆ¶æ›´åŠ æ¸¸åˆƒæœ‰ä½™ã€‚</p>\n<p>é¦–å…ˆï¼Œåœ¨ OC ä¸­å¤åˆ¶åˆ†ä¸ºæ·±å¤åˆ¶ä¸æµ…å¤åˆ¶ï¼Œä¸€ä¸ªæ¯”è¾ƒè®¤å¯çš„å®šä¹‰æ˜¯ï¼š</p>\n<blockquote>\n<p>**æ·±å¤åˆ¶ï¼š**å¤åˆ¶å¯¹è±¡å¼•ç”¨ä¸å¯¹è±¡æœ¬èº«ã€‚Â <br>\n**æµ…å¤åˆ¶ï¼š**åªå¤åˆ¶å¯¹è±¡å¼•ç”¨ã€‚</p>\n</blockquote>\n<a id=\"more\"></a>\n<p><img src=\"http://upload-images.jianshu.io/upload_images/2641798-03dca550cc87313d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"\"></p>\n<hr>\n<p><strong>é‚£ä¹ˆå“ªäº›æ“ä½œæ‰æ˜¯æµ…å¤åˆ¶ï¼Œå“ªäº›æ“ä½œæ˜¯æ·±å¤åˆ¶ï¼Ÿ</strong></p>\n<p>æ‰€æœ‰çš„å¯¹è±¡é—´èµ‹å€¼æ“ä½œéƒ½æ˜¯<strong>æµ…å¤åˆ¶</strong>ï¼Œä»…ä»…å¤åˆ¶äº†å¼•ç”¨ã€‚å¦‚ CopyStr = Str1ï¼Œè¿™é‡Œ CopyStr å’Œ Str1 æŒ‡å‘çš„åŒä¸€å†…å­˜åœ°å€ï¼Œæ”¹å˜ä¸¤è€…ä¹‹é—´ä»»ä½•ä¸€ä¸ªå€¼ï¼Œå¦ä¸€ä¸ªéƒ½ä¼šéšä¹‹æ”¹å˜ã€‚</p>\n<p>è¯•ä¾‹ä»£ç ï¼š</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void assignTest()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  printf(&quot;-----Assign Test-----\\n\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSString *str1 = @&quot;Hello&quot;;</span><br><span class=\"line\">Â  Â  NSString *str2 = str1;</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableString *str3 = [NSMutableString stringWithString:@&quot;Hello&quot;];</span><br><span class=\"line\">Â  Â  NSMutableString *str4 = str3;</span><br><span class=\"line\">Â  Â  [str3 appendString:@&quot; World&quot;];</span><br><span class=\"line\">Â  Â  [str4 appendString:@&quot;!&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str4 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str3);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str4);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str3);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str4);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:@&quot;Hello&quot;, nil];</span><br><span class=\"line\">Â  Â  NSMutableArray *arr2 = arr1;</span><br><span class=\"line\">Â  Â  [arr1 addObject:@&quot;World&quot;];</span><br><span class=\"line\">Â  Â  [arr2 addObject:@&quot;!&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¾“å‡ºç»“æœï¼š</p>\n<blockquote>\n<p><strong>-----Assign Test-----</strong></p>\n</blockquote>\n<hr>\n<p><strong>orignalStr : Hello</strong><br>\n<strong>copyStr : Hello</strong><br>\n<strong>orignalStr value address: 0x100002060</strong><br>\n<strong>copyStr value address: 0x100002060</strong><br>\n<strong>orignalStr pointer address: 0x7fff5fbff7a8</strong><br>\n<strong>copyStr pointer address: 0x7fff5fbff7a0</strong></p>\n<hr>\n<p><strong>orignalStr : Hello World!</strong><br>\n<strong>copyStr : Hello World!</strong><br>\n<strong>orignalStr value address: 0x1002005c0</strong><br>\n<strong>copyStr value address: 0x1002005c0</strong><br>\n<strong>orignalStr pointer address: 0x7fff5fbff798</strong><br>\n<strong>copyStr pointer address: 0x7fff5fbff790</strong></p>\n<hr>\n<p><strong>2016-08-22 11:35:20.312 CopyDemo[2046:72936] orignalArray : (</strong><br>\n**Â  Â  Hello,**<br>\n**Â  Â  World,**<br>\n**Â  Â  â€œ!â€**<br>\n<strong>)</strong><br>\n<strong>2016-08-22 11:35:20.313 CopyDemo[2046:72936] copyArray : (</strong><br>\n**Â  Â  Hello,**<br>\n**Â  Â  World,**<br>\n**Â  Â  â€œ!â€**<br>\n<strong>)</strong><br>\n<strong>orignalArray value address: 0x100406910</strong><br>\n<strong>copyArray value address: 0x100406910</strong><br>\n<strong>orignalArray pointer address: 0x7fff5fbff788</strong><br>\n<strong>copyArray pointer address: 0x7fff5fbff780</strong></p>\n<hr>\n<p>é€šè¿‡ä¸Šé¢ç»“æœæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œvalue çš„åœ°å€éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè€Œ pointer çš„åœ°å€æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™å°±è¯´æ˜äº†èµ‹å€¼æ“ä½œæ˜¯æµ…å¤åˆ¶ï¼Œåªæ˜¯ç”Ÿæˆä¸¤ä»½å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œå¯¹è±¡æœ¬èº«è¿˜æ˜¯åŒä¸€ä»½ã€‚åŸå¯¹è±¡å€¼å’Œå‰¯æœ¬å¯¹è±¡çš„å€¼æ“ä½œæ˜¯ç›¸äº’å½±å“çš„ã€‚</p>\n<hr>\n<p>**é‚£ä¹ˆ OC ä¸­å¦‚ä½•å®ç°æ·±å¤åˆ¶å‘¢ï¼ŸÂ **</p>\n<p>OC ä¸­æ·±å¤åˆ¶æ˜¯é€šè¿‡ copy ä¸ mutableCopy æ–¹æ³•å®ç°ï¼ˆä½†ä¸æ˜¯éƒ½èƒ½è¾¾åˆ°æ·±å¤åˆ¶çš„ç›®çš„ï¼‰ï¼Œé€šè¿‡ copy å¤åˆ¶åçš„å‰¯æœ¬éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œé€šè¿‡ mutableCopy å¤åˆ¶åçš„å‰¯æœ¬éƒ½æ˜¯å¯å˜çš„ã€‚å¦‚åˆå§‹å¯¹è±¡ä¸º NSString ä¸ NSMutableStringï¼Œé€šè¿‡ copy åå‰¯æœ¬éƒ½æ˜¯ NSStringï¼Œè€Œé€šè¿‡ mutableCopy åéƒ½æ˜¯ NSMutableStringã€‚<br>\næ¥ä¸‹æ¥åˆ†ä¸¤ç§æƒ…å†µè®¨è®º copy ä¸ mutableCopyï¼š</p>\n<p><strong>åˆå§‹å¯¹è±¡ä¸å¯å˜ï¼ˆå¦‚ NSStringã€NSArray ç­‰ï¼‰</strong></p>\n<p>è°ƒç”¨ copy æ–¹æ³•ä¹Ÿæ˜¯<strong>æµ…å¤åˆ¶</strong>ï¼Œç­‰åŒäºç›´æ¥èµ‹å€¼ï¼Œå› ä¸ºå¤åˆ¶è¿‡åçš„å‰¯æœ¬å’ŒåŸæ¥çš„å¯¹è±¡éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥è°ƒç”¨ copy æœ¬è´¨å°±æ˜¯èµ‹å€¼æ“ä½œï¼Œå¤åˆ¶äº†å¼•ç”¨ï¼Œä½†æ˜¯éƒ½æŒ‡å‘åŒä¸€å†…å­˜åœ°å€ã€‚<br>\nè°ƒç”¨ mutableCopy æ˜¯<strong>æ·±å¤åˆ¶</strong>ï¼Œå‰¯æœ¬æˆä¸ºäº†å¯å˜å¯¹è±¡ï¼Œä½†æ˜¯æ“ä½œå‰¯æœ¬ï¼Œå¯¹åˆå§‹å¯¹è±¡çš„å€¼ä¸ä¼šäº§ç”Ÿå½±å“ã€‚</p>\n<p>è¯•ä¾‹ä»£ç ï¼š</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void constCopyTest()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  printf(&quot;-----ConstCopy Test-----\\n\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSString Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSString *str1 = @&quot;Hello&quot;;</span><br><span class=\"line\">Â  Â  NSString *str2 = [str1 copy];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableString *str3 = [str1 mutableCopy];</span><br><span class=\"line\">Â  Â  [str3 appendString:@&quot; World!&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSArray Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSArray *arr1 = [NSArray arrayWithObjects:[NSMutableString stringWithString:@&quot;Hello&quot;], nil];</span><br><span class=\"line\">Â  Â  NSArray *arr2 = [arr1 copy];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; World!&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableArray *arr3 = [arr1 mutableCopy];</span><br><span class=\"line\">Â  Â  [arr3 addObject:@&quot;World&quot;];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; + str1&quot;];</span><br><span class=\"line\">Â  Â  [[arr3 objectAtIndex:0] appendString:@&quot; + str3&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¾“å‡ºç»“æœï¼š</p>\n<blockquote>\n<p><strong>-----ConstCopy Test-----</strong></p>\n</blockquote>\n<hr>\n<p><strong>-NSString Copy-</strong><br>\n<strong>orignalStr : Hello</strong><br>\n<strong>copyStr : Hello</strong><br>\n<strong>orignalStr value address: 0x100002060</strong><br>\n<strong>copyStr value address: 0x100002060</strong><br>\n<strong>orignalStr pointer address: 0x7fff5fbff7a8</strong><br>\n<strong>copyStr pointer address: 0x7fff5fbff7a0</strong></p>\n<hr>\n<p><strong>orignalStr : Hello</strong><br>\n<strong>copyStr : Hello World!</strong><br>\n<strong>orignalStr value address: 0x100002060</strong><br>\n<strong>copyStr value address: 0x1004074d0</strong><br>\n<strong>orignalStr pointer address: 0x7fff5fbff7a8</strong><br>\n<strong>copyStr pointer address: 0x7fff5fbff798</strong></p>\n<hr>\n<p><strong>-NSArray Copy-</strong><br>\n<strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (</strong><br>\n**Â  Â  â€œHello World!â€**<br>\n<strong>)</strong><br>\n<strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (</strong><br>\n**Â  Â  â€œHello World!â€**<br>\n<strong>)</strong><br>\n<strong>orignalArray value address: 0x1001016b0</strong><br>\n<strong>copyArray value address: 0x1001016b0</strong><br>\n<strong>orignalArray pointer address: 0x7fff5fbff790</strong><br>\n<strong>copyArray pointer address: 0x7fff5fbff788</strong></p>\n<hr>\n<p><strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (</strong><br>\n**Â  Â  â€œHello World! + str1 + str3â€**<br>\n<strong>)</strong><br>\n<strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (</strong><br>\n**Â  Â  â€œHello World! + str1 + str3â€,**<br>\n**Â  Â  World**<br>\n<strong>)</strong><br>\n<strong>orignalArray value address: 0x1001016b0</strong><br>\n<strong>copyArray value address: 0x100300000</strong><br>\n<strong>orignalArray pointer address: 0x7fff5fbff790</strong><br>\n<strong>copyArray pointer address: 0x7fff5fbff780</strong></p>\n<hr>\n<p>è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ copy æ–¹æ³•å¤åˆ¶åçš„å‰¯æœ¬å¯¹è±¡çš„ value åœ°å€å’ŒåŸå¯¹è±¡æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥é’ˆå¯¹ä¸å¯å˜å¯¹è±¡æ˜¯ç”¨ copy æ–¹æ³•æ˜¯æµ…å¤åˆ¶ã€‚è€Œ mutableCopy æ–¹æ³•å¤åˆ¶åï¼Œå‰¯æœ¬å¯¹è±¡çš„ value å’Œ pointer åœ°å€éƒ½å’ŒåŸå¯¹è±¡ä¸ä¸€æ ·äº†ï¼Œè¯´æ˜ mutableCopy æ–¹æ³•æ˜¯æ·±å¤åˆ¶ã€‚</p>\n<p><strong>åˆå§‹å¯¹è±¡å¯å˜ï¼ˆå¦‚ NSMutableStringã€NSMutableArray ç­‰ï¼‰</strong></p>\n<p>è°ƒç”¨ copy æ–¹æ³•æ˜¯<strong>æ·±å¤åˆ¶</strong>ï¼Œå› ä¸ºè¿™é‡Œå‰¯æœ¬æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥åªè€ƒè™‘åˆå§‹å¯¹è±¡æ”¹å˜ã€‚å› ä¸ºæ˜¯æ·±å¤åˆ¶ï¼Œåˆå§‹å¯¹è±¡æ— è®ºæ€ä¹ˆæ”¹å˜ï¼Œå‰¯æœ¬çš„å€¼éƒ½æ˜¯ä¸å˜çš„ã€‚<br>\nè°ƒç”¨ mutableCopy ä¹Ÿæ˜¯<strong>æ·±å¤åˆ¶</strong>ï¼Œå¤åˆ¶è¿‡åï¼Œå‰¯æœ¬ä¸åˆå§‹å¯¹è±¡ä¹‹é—´çš„æ”¹å˜éƒ½æ˜¯ç‹¬ç«‹ä¸å½±å“çš„ï¼Œå¦‚åˆå§‹å¯¹è±¡ str = â€œexampleâ€ï¼Œstr+â€ append1â€ï¼Œå‰¯æœ¬ str+â€ append2â€ï¼Œæœ€ç»ˆè¾“å‡ºç»“æœä¼šæ˜¯åˆå§‹å¯¹è±¡ä¸ºâ€example append1â€ï¼Œå‰¯æœ¬ä¸ºâ€example append2â€ã€‚</p>\n<p>è¯•ä¾‹ä»£ç ï¼š</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void mutableCopyTest()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  printf(&quot;-----MutableCopy Test-----\\n\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSString Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSMutableString *str1 = [NSMutableString stringWithString:@&quot;Hello&quot;];</span><br><span class=\"line\">Â  Â  NSString *str2 = [str1 copy];</span><br><span class=\"line\">Â  Â  [str1 appendString:@&quot; World&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableString *str3 = [str1 mutableCopy];</span><br><span class=\"line\">Â  Â  [str1 appendString:@&quot; + str1&quot;];</span><br><span class=\"line\">Â  Â  [str3 appendString:@&quot; + str3&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSArray Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:[NSMutableString stringWithString:@&quot;Hello&quot;], nil];</span><br><span class=\"line\">Â  Â  NSArray *arr2 = [arr1 copy];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; World!&quot;];</span><br><span class=\"line\">Â  Â  [arr1 addObject:@&quot;Word&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableArray *arr3 = [arr1 mutableCopy];</span><br><span class=\"line\">Â  Â  [arr1 addObject:@&quot;+arr1&quot;];</span><br><span class=\"line\">Â  Â  [arr3 addObject:@&quot;+arr3&quot;];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; + str1&quot;];</span><br><span class=\"line\">Â  Â  [[arr3 objectAtIndex:0] appendString:@&quot; + str3&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¾“å‡ºç»“æœï¼š</p>\n<blockquote>\n<p><strong>-----MutableCopy Test-----</strong></p>\n</blockquote>\n<hr>\n<p><strong>-NSString Copy-</strong><br>\n<strong>orignalStr : Hello World</strong><br>\n<strong>copyStr : Hello</strong><br>\n<strong>orignalStr value address: 0x100300080</strong><br>\n<strong>copyStr value address: 0x6f6c6c654855</strong><br>\n<strong>orignalStr pointer address: 0x7fff5fbff7a8</strong><br>\n<strong>copyStr pointer address: 0x7fff5fbff7a0</strong></p>\n<hr>\n<p><strong>orignalStr : Hello World + str1</strong><br>\n<strong>copyStr : Hello World + str3</strong><br>\n<strong>orignalStr value address: 0x100300080</strong><br>\n<strong>copyStr value address: 0x100300320</strong><br>\n<strong>orignalStr pointer address: 0x7fff5fbff7a8</strong><br>\n<strong>copyStr pointer address: 0x7fff5fbff798</strong></p>\n<hr>\n<p><strong>-NSArray Copy-</strong><br>\n<strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (</strong><br>\n**Â  Â  â€œHello World!â€,**<br>\n**Â  Â  Word**<br>\n<strong>)</strong><br>\n<strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (</strong><br>\n**Â  Â  â€œHello World!â€**<br>\n<strong>)</strong><br>\n<strong>orignalArray value address: 0x100300000</strong><br>\n<strong>copyArray value address: 0x100300b00</strong><br>\n<strong>orignalArray pointer address: 0x7fff5fbff790</strong><br>\n<strong>copyArray pointer address: 0x7fff5fbff788</strong></p>\n<hr>\n<p><strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (</strong><br>\n**Â  Â  â€œHello World! + str1 + str3â€,**<br>\n**Â  Â  Word,**<br>\n**Â  Â  â€œ+arr1â€**<br>\n<strong>)</strong><br>\n<strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (</strong><br>\n**Â  Â  â€œHello World! + str1 + str3â€,**<br>\n**Â  Â  Word,**<br>\n**Â  Â  â€œ+arr3â€**<br>\n<strong>)</strong><br>\n<strong>orignalArray value address: 0x100300000</strong><br>\n<strong>copyArray value address: 0x100300e40</strong><br>\n<strong>orignalArray pointer address: 0x7fff5fbff790</strong><br>\n<strong>copyArray pointer address: 0x7fff5fbff780</strong></p>\n<hr>\n<p>é€šè¿‡è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºå¯å˜å¯¹è±¡ï¼Œè°ƒç”¨ copy ä¸ mutableCopy æ–¹æ³•éƒ½æ˜¯æ·±å¤åˆ¶ï¼Œå› ä¸ºå‰¯æœ¬çš„ value å’Œ pointer åœ°å€éƒ½ä¸åŸå¯¹è±¡ä¸åŒã€‚</p>\n<p><code>æ³¨ï¼šå¯¹äºç½‘ä¸ŠæŸäº›è§£é‡Šè¯´NSArray/NSMutableArray NSDictionary/NSMutableDictionaryåªæœ‰æµ…å¤åˆ¶ï¼Œè¿™é‡Œè®¤ä¸ºå¯¹äºå¯¹è±¡æœ¬èº«æ¥è¯´è°ƒç”¨mutableCopyæˆ–å¯¹äºå¯å˜å¯¹è±¡è°ƒç”¨copyéƒ½æ˜¯æ·±å¤åˆ¶ï¼Œåªèƒ½è¯´å¯¹äºæ•°ç»„å’Œå­—å…¸è¿™ç§å¤åˆç»“æ„æ·±å¤åˆ¶æ“ä½œåªæ˜¯ä½œç”¨åˆ°å¤–å±‚å¯¹è±¡ï¼Œå†…éƒ¨å¦‚æœè¿˜æœ‰å¯å˜å¯¹è±¡ï¼Œä»…ä»…å°±æ˜¯å¼•ç”¨çš„å¤åˆ¶ã€‚ï¼ˆä¸Šé¢çš„ä¾‹å­ä¸­å¯¹äºæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ“ä½œå¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹å‡ºæ¥ã€‚å³ä½¿æ˜¯å¯¹æ•°ç»„çš„æ·±å¤åˆ¶ï¼Œç„¶è€Œæ”¹å˜ç¬¬ä¸€ä¸ªå¯å˜å­—ç¬¦ä¸²ï¼Œæ— è®ºæ˜¯å‰¯æœ¬æ•°ç»„è¿˜æ˜¯åŸæ•°ç»„çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²éƒ½æ”¹å˜äº†ã€‚ï¼‰</code></p>\n<p>å®Œæ•´ä»£ç ï¼š</p>\n<figure class=\"highlight plain hljs\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">//Â  main.m</span><br><span class=\"line\">//Â  CopyDemo</span><br><span class=\"line\">//</span><br><span class=\"line\">//Â  Created by Jiao Liu on 6/23/16.</span><br><span class=\"line\">//Â  Copyright Â© 2016 ChangHong. All rights reserved.</span><br><span class=\"line\">//</span><br><span class=\"line\"></span><br><span class=\"line\">#import &lt;Foundation/Foundation.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">void mutableCopyTest()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  printf(&quot;-----MutableCopy Test-----\\n\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSString Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSMutableString *str1 = [NSMutableString stringWithString:@&quot;Hello&quot;];</span><br><span class=\"line\">Â  Â  NSString *str2 = [str1 copy];</span><br><span class=\"line\">Â  Â  [str1 appendString:@&quot; World&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableString *str3 = [str1 mutableCopy];</span><br><span class=\"line\">Â  Â  [str1 appendString:@&quot; + str1&quot;];</span><br><span class=\"line\">Â  Â  [str3 appendString:@&quot; + str3&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSArray Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:[NSMutableString stringWithString:@&quot;Hello&quot;], nil];</span><br><span class=\"line\">Â  Â  NSArray *arr2 = [arr1 copy];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; World!&quot;];</span><br><span class=\"line\">Â  Â  [arr1 addObject:@&quot;Word&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableArray *arr3 = [arr1 mutableCopy];</span><br><span class=\"line\">Â  Â  [arr1 addObject:@&quot;+arr1&quot;];</span><br><span class=\"line\">Â  Â  [arr3 addObject:@&quot;+arr3&quot;];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; + str1&quot;];</span><br><span class=\"line\">Â  Â  [[arr3 objectAtIndex:0] appendString:@&quot; + str3&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void constCopyTest()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  printf(&quot;-----ConstCopy Test-----\\n\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSString Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSString *str1 = @&quot;Hello&quot;;</span><br><span class=\"line\">Â  Â  NSString *str2 = [str1 copy];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableString *str3 = [str1 mutableCopy];</span><br><span class=\"line\">Â  Â  [str3 appendString:@&quot; World!&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSArray Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSArray *arr1 = [NSArray arrayWithObjects:[NSMutableString stringWithString:@&quot;Hello&quot;], nil];</span><br><span class=\"line\">Â  Â  NSArray *arr2 = [arr1 copy];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; World!&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableArray *arr3 = [arr1 mutableCopy];</span><br><span class=\"line\">Â  Â  [arr3 addObject:@&quot;World&quot;];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; + str1&quot;];</span><br><span class=\"line\">Â  Â  [[arr3 objectAtIndex:0] appendString:@&quot; + str3&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void assignTest()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  printf(&quot;-----Assign Test-----\\n\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSString *str1 = @&quot;Hello&quot;;</span><br><span class=\"line\">Â  Â  NSString *str2 = str1;</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableString *str3 = [NSMutableString stringWithString:@&quot;Hello&quot;];</span><br><span class=\"line\">Â  Â  NSMutableString *str4 = str3;</span><br><span class=\"line\">Â  Â  [str3 appendString:@&quot; World&quot;];</span><br><span class=\"line\">Â  Â  [str4 appendString:@&quot;!&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str4 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str3);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str4);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str3);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str4);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:@&quot;Hello&quot;, nil];</span><br><span class=\"line\">Â  Â  NSMutableArray *arr2 = arr1;</span><br><span class=\"line\">Â  Â  [arr1 addObject:@&quot;World&quot;];</span><br><span class=\"line\">Â  Â  [arr2 addObject:@&quot;!&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">int main(int argc, const char * argv[]) &#123;</span><br><span class=\"line\">Â  Â  @autoreleasepool &#123;</span><br><span class=\"line\">Â  Â  Â  Â  // insert code here...</span><br><span class=\"line\">Â  Â  Â  Â  assignTest();</span><br><span class=\"line\">Â  Â  Â  Â  constCopyTest();</span><br><span class=\"line\">Â  Â  Â  Â  mutableCopyTest();</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  return 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<p>æœ¬æ–‡æœ€æ—©å‘å¸ƒäºé•¿è™¹è½¯æœå…¬ä¼—å·ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å»çœ‹ä¸€ä¸‹ï¼š<br>\n<a href=\"http://mp.weixin.qq.com/s?__biz=MzAwMjkxNjYzNA==&amp;mid=2247483852&amp;idx=1&amp;sn=9da01b2399427654ad12e36452f612c9&amp;scene=23&amp;srcid=0822iBXKqaGYwMOnRhVLxNVt#rd\" target=\"_blank\" rel=\"noopener\">å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶</a></p>\n","site":{"data":{}},"excerpt":"<p>åœ¨ OC ç¼–ç¨‹ä¸­ï¼Œå¸¸å¸¸ä¼šç”¨åˆ°å¯¹å¯¹è±¡çš„å¤åˆ¶ï¼Œç„¶åæ“ä½œå‰¯æœ¬å¯¹è±¡ã€‚ç„¶è€Œå¯¹ä¸åº”è¯¥é€‰æ‹©ä½•ç§å¯¹è±¡å¤åˆ¶çš„æ–¹å¼ï¼Œå¤åˆ¶åå‰¯æœ¬å¯¹è±¡æ“ä½œä¼šä¸ä¼šå½±å“åŸå§‹å¯¹è±¡ç­‰é—®é¢˜ï¼Œæˆ‘ä»¬å¾€å¾€æ²¡æœ‰è¿‡å¤šè€ƒè™‘ï¼Œè€Œæ˜¯å‡­å€Ÿç»éªŒåœ¨ç¼–ç ã€‚æ¥ä¸‹æ¥å°±å¯¹ OC ä¸­å¯¹è±¡å¤åˆ¶æœºåˆ¶è¿›è¡Œå‰–æï¼Œé€šè¿‡å¯¹å¤åˆ¶æœºåˆ¶çš„ç ”ç©¶å¯ä»¥åœ¨ç¼–ç ä¸­å¯¹å¯¹è±¡çš„å¤åˆ¶æ›´åŠ æ¸¸åˆƒæœ‰ä½™ã€‚</p>\n<p>é¦–å…ˆï¼Œåœ¨ OC ä¸­å¤åˆ¶åˆ†ä¸ºæ·±å¤åˆ¶ä¸æµ…å¤åˆ¶ï¼Œä¸€ä¸ªæ¯”è¾ƒè®¤å¯çš„å®šä¹‰æ˜¯ï¼š</p>\n<blockquote>\n<p>**æ·±å¤åˆ¶ï¼š**å¤åˆ¶å¯¹è±¡å¼•ç”¨ä¸å¯¹è±¡æœ¬èº«ã€‚Â <br>\n**æµ…å¤åˆ¶ï¼š**åªå¤åˆ¶å¯¹è±¡å¼•ç”¨ã€‚</p>\n</blockquote>","more":"<p><img src=\"http://upload-images.jianshu.io/upload_images/2641798-03dca550cc87313d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"\"></p>\n<hr>\n<p><strong>é‚£ä¹ˆå“ªäº›æ“ä½œæ‰æ˜¯æµ…å¤åˆ¶ï¼Œå“ªäº›æ“ä½œæ˜¯æ·±å¤åˆ¶ï¼Ÿ</strong></p>\n<p>æ‰€æœ‰çš„å¯¹è±¡é—´èµ‹å€¼æ“ä½œéƒ½æ˜¯<strong>æµ…å¤åˆ¶</strong>ï¼Œä»…ä»…å¤åˆ¶äº†å¼•ç”¨ã€‚å¦‚ CopyStr = Str1ï¼Œè¿™é‡Œ CopyStr å’Œ Str1 æŒ‡å‘çš„åŒä¸€å†…å­˜åœ°å€ï¼Œæ”¹å˜ä¸¤è€…ä¹‹é—´ä»»ä½•ä¸€ä¸ªå€¼ï¼Œå¦ä¸€ä¸ªéƒ½ä¼šéšä¹‹æ”¹å˜ã€‚</p>\n<p>è¯•ä¾‹ä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void assignTest()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  printf(&quot;-----Assign Test-----\\n\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSString *str1 = @&quot;Hello&quot;;</span><br><span class=\"line\">Â  Â  NSString *str2 = str1;</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableString *str3 = [NSMutableString stringWithString:@&quot;Hello&quot;];</span><br><span class=\"line\">Â  Â  NSMutableString *str4 = str3;</span><br><span class=\"line\">Â  Â  [str3 appendString:@&quot; World&quot;];</span><br><span class=\"line\">Â  Â  [str4 appendString:@&quot;!&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str4 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str3);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str4);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str3);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str4);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:@&quot;Hello&quot;, nil];</span><br><span class=\"line\">Â  Â  NSMutableArray *arr2 = arr1;</span><br><span class=\"line\">Â  Â  [arr1 addObject:@&quot;World&quot;];</span><br><span class=\"line\">Â  Â  [arr2 addObject:@&quot;!&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¾“å‡ºç»“æœï¼š</p>\n<blockquote>\n<p><strong>-----Assign Test-----</strong></p>\n</blockquote>\n<hr>\n<p><strong>orignalStr : Hello</strong><br>\n<strong>copyStr : Hello</strong><br>\n<strong>orignalStr value address: 0x100002060</strong><br>\n<strong>copyStr value address: 0x100002060</strong><br>\n<strong>orignalStr pointer address: 0x7fff5fbff7a8</strong><br>\n<strong>copyStr pointer address: 0x7fff5fbff7a0</strong></p>\n<hr>\n<p><strong>orignalStr : Hello World!</strong><br>\n<strong>copyStr : Hello World!</strong><br>\n<strong>orignalStr value address: 0x1002005c0</strong><br>\n<strong>copyStr value address: 0x1002005c0</strong><br>\n<strong>orignalStr pointer address: 0x7fff5fbff798</strong><br>\n<strong>copyStr pointer address: 0x7fff5fbff790</strong></p>\n<hr>\n<p><strong>2016-08-22 11:35:20.312 CopyDemo[2046:72936] orignalArray : (</strong><br>\n**Â  Â  Hello,**<br>\n**Â  Â  World,**<br>\n**Â  Â  â€œ!â€**<br>\n<strong>)</strong><br>\n<strong>2016-08-22 11:35:20.313 CopyDemo[2046:72936] copyArray : (</strong><br>\n**Â  Â  Hello,**<br>\n**Â  Â  World,**<br>\n**Â  Â  â€œ!â€**<br>\n<strong>)</strong><br>\n<strong>orignalArray value address: 0x100406910</strong><br>\n<strong>copyArray value address: 0x100406910</strong><br>\n<strong>orignalArray pointer address: 0x7fff5fbff788</strong><br>\n<strong>copyArray pointer address: 0x7fff5fbff780</strong></p>\n<hr>\n<p>é€šè¿‡ä¸Šé¢ç»“æœæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œvalue çš„åœ°å€éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè€Œ pointer çš„åœ°å€æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™å°±è¯´æ˜äº†èµ‹å€¼æ“ä½œæ˜¯æµ…å¤åˆ¶ï¼Œåªæ˜¯ç”Ÿæˆä¸¤ä»½å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œå¯¹è±¡æœ¬èº«è¿˜æ˜¯åŒä¸€ä»½ã€‚åŸå¯¹è±¡å€¼å’Œå‰¯æœ¬å¯¹è±¡çš„å€¼æ“ä½œæ˜¯ç›¸äº’å½±å“çš„ã€‚</p>\n<hr>\n<p>**é‚£ä¹ˆ OC ä¸­å¦‚ä½•å®ç°æ·±å¤åˆ¶å‘¢ï¼ŸÂ **</p>\n<p>OC ä¸­æ·±å¤åˆ¶æ˜¯é€šè¿‡ copy ä¸ mutableCopy æ–¹æ³•å®ç°ï¼ˆä½†ä¸æ˜¯éƒ½èƒ½è¾¾åˆ°æ·±å¤åˆ¶çš„ç›®çš„ï¼‰ï¼Œé€šè¿‡ copy å¤åˆ¶åçš„å‰¯æœ¬éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œé€šè¿‡ mutableCopy å¤åˆ¶åçš„å‰¯æœ¬éƒ½æ˜¯å¯å˜çš„ã€‚å¦‚åˆå§‹å¯¹è±¡ä¸º NSString ä¸ NSMutableStringï¼Œé€šè¿‡ copy åå‰¯æœ¬éƒ½æ˜¯ NSStringï¼Œè€Œé€šè¿‡ mutableCopy åéƒ½æ˜¯ NSMutableStringã€‚<br>\næ¥ä¸‹æ¥åˆ†ä¸¤ç§æƒ…å†µè®¨è®º copy ä¸ mutableCopyï¼š</p>\n<p><strong>åˆå§‹å¯¹è±¡ä¸å¯å˜ï¼ˆå¦‚ NSStringã€NSArray ç­‰ï¼‰</strong></p>\n<p>è°ƒç”¨ copy æ–¹æ³•ä¹Ÿæ˜¯<strong>æµ…å¤åˆ¶</strong>ï¼Œç­‰åŒäºç›´æ¥èµ‹å€¼ï¼Œå› ä¸ºå¤åˆ¶è¿‡åçš„å‰¯æœ¬å’ŒåŸæ¥çš„å¯¹è±¡éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥è°ƒç”¨ copy æœ¬è´¨å°±æ˜¯èµ‹å€¼æ“ä½œï¼Œå¤åˆ¶äº†å¼•ç”¨ï¼Œä½†æ˜¯éƒ½æŒ‡å‘åŒä¸€å†…å­˜åœ°å€ã€‚<br>\nè°ƒç”¨ mutableCopy æ˜¯<strong>æ·±å¤åˆ¶</strong>ï¼Œå‰¯æœ¬æˆä¸ºäº†å¯å˜å¯¹è±¡ï¼Œä½†æ˜¯æ“ä½œå‰¯æœ¬ï¼Œå¯¹åˆå§‹å¯¹è±¡çš„å€¼ä¸ä¼šäº§ç”Ÿå½±å“ã€‚</p>\n<p>è¯•ä¾‹ä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void constCopyTest()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  printf(&quot;-----ConstCopy Test-----\\n\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSString Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSString *str1 = @&quot;Hello&quot;;</span><br><span class=\"line\">Â  Â  NSString *str2 = [str1 copy];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableString *str3 = [str1 mutableCopy];</span><br><span class=\"line\">Â  Â  [str3 appendString:@&quot; World!&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSArray Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSArray *arr1 = [NSArray arrayWithObjects:[NSMutableString stringWithString:@&quot;Hello&quot;], nil];</span><br><span class=\"line\">Â  Â  NSArray *arr2 = [arr1 copy];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; World!&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableArray *arr3 = [arr1 mutableCopy];</span><br><span class=\"line\">Â  Â  [arr3 addObject:@&quot;World&quot;];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; + str1&quot;];</span><br><span class=\"line\">Â  Â  [[arr3 objectAtIndex:0] appendString:@&quot; + str3&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¾“å‡ºç»“æœï¼š</p>\n<blockquote>\n<p><strong>-----ConstCopy Test-----</strong></p>\n</blockquote>\n<hr>\n<p><strong>-NSString Copy-</strong><br>\n<strong>orignalStr : Hello</strong><br>\n<strong>copyStr : Hello</strong><br>\n<strong>orignalStr value address: 0x100002060</strong><br>\n<strong>copyStr value address: 0x100002060</strong><br>\n<strong>orignalStr pointer address: 0x7fff5fbff7a8</strong><br>\n<strong>copyStr pointer address: 0x7fff5fbff7a0</strong></p>\n<hr>\n<p><strong>orignalStr : Hello</strong><br>\n<strong>copyStr : Hello World!</strong><br>\n<strong>orignalStr value address: 0x100002060</strong><br>\n<strong>copyStr value address: 0x1004074d0</strong><br>\n<strong>orignalStr pointer address: 0x7fff5fbff7a8</strong><br>\n<strong>copyStr pointer address: 0x7fff5fbff798</strong></p>\n<hr>\n<p><strong>-NSArray Copy-</strong><br>\n<strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (</strong><br>\n**Â  Â  â€œHello World!â€**<br>\n<strong>)</strong><br>\n<strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (</strong><br>\n**Â  Â  â€œHello World!â€**<br>\n<strong>)</strong><br>\n<strong>orignalArray value address: 0x1001016b0</strong><br>\n<strong>copyArray value address: 0x1001016b0</strong><br>\n<strong>orignalArray pointer address: 0x7fff5fbff790</strong><br>\n<strong>copyArray pointer address: 0x7fff5fbff788</strong></p>\n<hr>\n<p><strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (</strong><br>\n**Â  Â  â€œHello World! + str1 + str3â€**<br>\n<strong>)</strong><br>\n<strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (</strong><br>\n**Â  Â  â€œHello World! + str1 + str3â€,**<br>\n**Â  Â  World**<br>\n<strong>)</strong><br>\n<strong>orignalArray value address: 0x1001016b0</strong><br>\n<strong>copyArray value address: 0x100300000</strong><br>\n<strong>orignalArray pointer address: 0x7fff5fbff790</strong><br>\n<strong>copyArray pointer address: 0x7fff5fbff780</strong></p>\n<hr>\n<p>è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ copy æ–¹æ³•å¤åˆ¶åçš„å‰¯æœ¬å¯¹è±¡çš„ value åœ°å€å’ŒåŸå¯¹è±¡æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥é’ˆå¯¹ä¸å¯å˜å¯¹è±¡æ˜¯ç”¨ copy æ–¹æ³•æ˜¯æµ…å¤åˆ¶ã€‚è€Œ mutableCopy æ–¹æ³•å¤åˆ¶åï¼Œå‰¯æœ¬å¯¹è±¡çš„ value å’Œ pointer åœ°å€éƒ½å’ŒåŸå¯¹è±¡ä¸ä¸€æ ·äº†ï¼Œè¯´æ˜ mutableCopy æ–¹æ³•æ˜¯æ·±å¤åˆ¶ã€‚</p>\n<p><strong>åˆå§‹å¯¹è±¡å¯å˜ï¼ˆå¦‚ NSMutableStringã€NSMutableArray ç­‰ï¼‰</strong></p>\n<p>è°ƒç”¨ copy æ–¹æ³•æ˜¯<strong>æ·±å¤åˆ¶</strong>ï¼Œå› ä¸ºè¿™é‡Œå‰¯æœ¬æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥åªè€ƒè™‘åˆå§‹å¯¹è±¡æ”¹å˜ã€‚å› ä¸ºæ˜¯æ·±å¤åˆ¶ï¼Œåˆå§‹å¯¹è±¡æ— è®ºæ€ä¹ˆæ”¹å˜ï¼Œå‰¯æœ¬çš„å€¼éƒ½æ˜¯ä¸å˜çš„ã€‚<br>\nè°ƒç”¨ mutableCopy ä¹Ÿæ˜¯<strong>æ·±å¤åˆ¶</strong>ï¼Œå¤åˆ¶è¿‡åï¼Œå‰¯æœ¬ä¸åˆå§‹å¯¹è±¡ä¹‹é—´çš„æ”¹å˜éƒ½æ˜¯ç‹¬ç«‹ä¸å½±å“çš„ï¼Œå¦‚åˆå§‹å¯¹è±¡ str = â€œexampleâ€ï¼Œstr+â€ append1â€ï¼Œå‰¯æœ¬ str+â€ append2â€ï¼Œæœ€ç»ˆè¾“å‡ºç»“æœä¼šæ˜¯åˆå§‹å¯¹è±¡ä¸ºâ€example append1â€ï¼Œå‰¯æœ¬ä¸ºâ€example append2â€ã€‚</p>\n<p>è¯•ä¾‹ä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">void mutableCopyTest()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  printf(&quot;-----MutableCopy Test-----\\n\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSString Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSMutableString *str1 = [NSMutableString stringWithString:@&quot;Hello&quot;];</span><br><span class=\"line\">Â  Â  NSString *str2 = [str1 copy];</span><br><span class=\"line\">Â  Â  [str1 appendString:@&quot; World&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableString *str3 = [str1 mutableCopy];</span><br><span class=\"line\">Â  Â  [str1 appendString:@&quot; + str1&quot;];</span><br><span class=\"line\">Â  Â  [str3 appendString:@&quot; + str3&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSArray Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:[NSMutableString stringWithString:@&quot;Hello&quot;], nil];</span><br><span class=\"line\">Â  Â  NSArray *arr2 = [arr1 copy];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; World!&quot;];</span><br><span class=\"line\">Â  Â  [arr1 addObject:@&quot;Word&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableArray *arr3 = [arr1 mutableCopy];</span><br><span class=\"line\">Â  Â  [arr1 addObject:@&quot;+arr1&quot;];</span><br><span class=\"line\">Â  Â  [arr3 addObject:@&quot;+arr3&quot;];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; + str1&quot;];</span><br><span class=\"line\">Â  Â  [[arr3 objectAtIndex:0] appendString:@&quot; + str3&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>è¾“å‡ºç»“æœï¼š</p>\n<blockquote>\n<p><strong>-----MutableCopy Test-----</strong></p>\n</blockquote>\n<hr>\n<p><strong>-NSString Copy-</strong><br>\n<strong>orignalStr : Hello World</strong><br>\n<strong>copyStr : Hello</strong><br>\n<strong>orignalStr value address: 0x100300080</strong><br>\n<strong>copyStr value address: 0x6f6c6c654855</strong><br>\n<strong>orignalStr pointer address: 0x7fff5fbff7a8</strong><br>\n<strong>copyStr pointer address: 0x7fff5fbff7a0</strong></p>\n<hr>\n<p><strong>orignalStr : Hello World + str1</strong><br>\n<strong>copyStr : Hello World + str3</strong><br>\n<strong>orignalStr value address: 0x100300080</strong><br>\n<strong>copyStr value address: 0x100300320</strong><br>\n<strong>orignalStr pointer address: 0x7fff5fbff7a8</strong><br>\n<strong>copyStr pointer address: 0x7fff5fbff798</strong></p>\n<hr>\n<p><strong>-NSArray Copy-</strong><br>\n<strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (</strong><br>\n**Â  Â  â€œHello World!â€,**<br>\n**Â  Â  Word**<br>\n<strong>)</strong><br>\n<strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (</strong><br>\n**Â  Â  â€œHello World!â€**<br>\n<strong>)</strong><br>\n<strong>orignalArray value address: 0x100300000</strong><br>\n<strong>copyArray value address: 0x100300b00</strong><br>\n<strong>orignalArray pointer address: 0x7fff5fbff790</strong><br>\n<strong>copyArray pointer address: 0x7fff5fbff788</strong></p>\n<hr>\n<p><strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] orignalArray : (</strong><br>\n**Â  Â  â€œHello World! + str1 + str3â€,**<br>\n**Â  Â  Word,**<br>\n**Â  Â  â€œ+arr1â€**<br>\n<strong>)</strong><br>\n<strong>2016-08-22 11:35:20.314 CopyDemo[2046:72936] copyArray : (</strong><br>\n**Â  Â  â€œHello World! + str1 + str3â€,**<br>\n**Â  Â  Word,**<br>\n**Â  Â  â€œ+arr3â€**<br>\n<strong>)</strong><br>\n<strong>orignalArray value address: 0x100300000</strong><br>\n<strong>copyArray value address: 0x100300e40</strong><br>\n<strong>orignalArray pointer address: 0x7fff5fbff790</strong><br>\n<strong>copyArray pointer address: 0x7fff5fbff780</strong></p>\n<hr>\n<p>é€šè¿‡è¾“å‡ºç»“æœå¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºå¯å˜å¯¹è±¡ï¼Œè°ƒç”¨ copy ä¸ mutableCopy æ–¹æ³•éƒ½æ˜¯æ·±å¤åˆ¶ï¼Œå› ä¸ºå‰¯æœ¬çš„ value å’Œ pointer åœ°å€éƒ½ä¸åŸå¯¹è±¡ä¸åŒã€‚</p>\n<p><code>æ³¨ï¼šå¯¹äºç½‘ä¸ŠæŸäº›è§£é‡Šè¯´NSArray/NSMutableArray NSDictionary/NSMutableDictionaryåªæœ‰æµ…å¤åˆ¶ï¼Œè¿™é‡Œè®¤ä¸ºå¯¹äºå¯¹è±¡æœ¬èº«æ¥è¯´è°ƒç”¨mutableCopyæˆ–å¯¹äºå¯å˜å¯¹è±¡è°ƒç”¨copyéƒ½æ˜¯æ·±å¤åˆ¶ï¼Œåªèƒ½è¯´å¯¹äºæ•°ç»„å’Œå­—å…¸è¿™ç§å¤åˆç»“æ„æ·±å¤åˆ¶æ“ä½œåªæ˜¯ä½œç”¨åˆ°å¤–å±‚å¯¹è±¡ï¼Œå†…éƒ¨å¦‚æœè¿˜æœ‰å¯å˜å¯¹è±¡ï¼Œä»…ä»…å°±æ˜¯å¼•ç”¨çš„å¤åˆ¶ã€‚ï¼ˆä¸Šé¢çš„ä¾‹å­ä¸­å¯¹äºæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ“ä½œå¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹å‡ºæ¥ã€‚å³ä½¿æ˜¯å¯¹æ•°ç»„çš„æ·±å¤åˆ¶ï¼Œç„¶è€Œæ”¹å˜ç¬¬ä¸€ä¸ªå¯å˜å­—ç¬¦ä¸²ï¼Œæ— è®ºæ˜¯å‰¯æœ¬æ•°ç»„è¿˜æ˜¯åŸæ•°ç»„çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²éƒ½æ”¹å˜äº†ã€‚ï¼‰</code></p>\n<p>å®Œæ•´ä»£ç ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//</span><br><span class=\"line\">//Â  main.m</span><br><span class=\"line\">//Â  CopyDemo</span><br><span class=\"line\">//</span><br><span class=\"line\">//Â  Created by Jiao Liu on 6/23/16.</span><br><span class=\"line\">//Â  Copyright Â© 2016 ChangHong. All rights reserved.</span><br><span class=\"line\">//</span><br><span class=\"line\"></span><br><span class=\"line\">#import &lt;Foundation/Foundation.h&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">void mutableCopyTest()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  printf(&quot;-----MutableCopy Test-----\\n\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSString Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSMutableString *str1 = [NSMutableString stringWithString:@&quot;Hello&quot;];</span><br><span class=\"line\">Â  Â  NSString *str2 = [str1 copy];</span><br><span class=\"line\">Â  Â  [str1 appendString:@&quot; World&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableString *str3 = [str1 mutableCopy];</span><br><span class=\"line\">Â  Â  [str1 appendString:@&quot; + str1&quot;];</span><br><span class=\"line\">Â  Â  [str3 appendString:@&quot; + str3&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSArray Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:[NSMutableString stringWithString:@&quot;Hello&quot;], nil];</span><br><span class=\"line\">Â  Â  NSArray *arr2 = [arr1 copy];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; World!&quot;];</span><br><span class=\"line\">Â  Â  [arr1 addObject:@&quot;Word&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableArray *arr3 = [arr1 mutableCopy];</span><br><span class=\"line\">Â  Â  [arr1 addObject:@&quot;+arr1&quot;];</span><br><span class=\"line\">Â  Â  [arr3 addObject:@&quot;+arr3&quot;];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; + str1&quot;];</span><br><span class=\"line\">Â  Â  [[arr3 objectAtIndex:0] appendString:@&quot; + str3&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void constCopyTest()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  printf(&quot;-----ConstCopy Test-----\\n\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSString Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSString *str1 = @&quot;Hello&quot;;</span><br><span class=\"line\">Â  Â  NSString *str2 = [str1 copy];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableString *str3 = [str1 mutableCopy];</span><br><span class=\"line\">Â  Â  [str3 appendString:@&quot; World!&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  printf(&quot;-NSArray Copy-\\n&quot;);</span><br><span class=\"line\">Â  Â  NSArray *arr1 = [NSArray arrayWithObjects:[NSMutableString stringWithString:@&quot;Hello&quot;], nil];</span><br><span class=\"line\">Â  Â  NSArray *arr2 = [arr1 copy];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; World!&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableArray *arr3 = [arr1 mutableCopy];</span><br><span class=\"line\">Â  Â  [arr3 addObject:@&quot;World&quot;];</span><br><span class=\"line\">Â  Â  [[arr1 objectAtIndex:0] appendString:@&quot; + str1&quot;];</span><br><span class=\"line\">Â  Â  [[arr3 objectAtIndex:0] appendString:@&quot; + str3&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr3);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">void assignTest()</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">Â  Â  printf(&quot;-----Assign Test-----\\n\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSString *str1 = @&quot;Hello&quot;;</span><br><span class=\"line\">Â  Â  NSString *str2 = str1;</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str1 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str2 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableString *str3 = [NSMutableString stringWithString:@&quot;Hello&quot;];</span><br><span class=\"line\">Â  Â  NSMutableString *str4 = str3;</span><br><span class=\"line\">Â  Â  [str3 appendString:@&quot; World&quot;];</span><br><span class=\"line\">Â  Â  [str4 appendString:@&quot;!&quot;];</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr : %s\\n&quot;,[str3 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr : %s\\n&quot;,[str4 cStringUsingEncoding:NSUTF8StringEncoding]);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr value address: %p\\n&quot;,str3);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr value address: %p\\n&quot;,str4);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalStr pointer address: %p\\n&quot;,&amp;str3);</span><br><span class=\"line\">Â  Â  printf(&quot;copyStr pointer address: %p\\n&quot;,&amp;str4);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">Â Â  Â </span><br><span class=\"line\">Â  Â  NSMutableArray *arr1 = [NSMutableArray arrayWithObjects:@&quot;Hello&quot;, nil];</span><br><span class=\"line\">Â  Â  NSMutableArray *arr2 = arr1;</span><br><span class=\"line\">Â  Â  [arr1 addObject:@&quot;World&quot;];</span><br><span class=\"line\">Â  Â  [arr2 addObject:@&quot;!&quot;];</span><br><span class=\"line\">Â  Â  NSLog(@&quot;orignalArray : %@&quot;,arr1);</span><br><span class=\"line\">Â  Â  NSLog(@&quot;copyArray : %@&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray value address: %p\\n&quot;,arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray value address: %p\\n&quot;,arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;orignalArray pointer address: %p\\n&quot;,&amp;arr1);</span><br><span class=\"line\">Â  Â  printf(&quot;copyArray pointer address: %p\\n&quot;,&amp;arr2);</span><br><span class=\"line\">Â  Â  printf(&quot;\\n&quot;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">int main(int argc, const char * argv[]) &#123;</span><br><span class=\"line\">Â  Â  @autoreleasepool &#123;</span><br><span class=\"line\">Â  Â  Â  Â  // insert code here...</span><br><span class=\"line\">Â  Â  Â  Â  assignTest();</span><br><span class=\"line\">Â  Â  Â  Â  constCopyTest();</span><br><span class=\"line\">Â  Â  Â  Â  mutableCopyTest();</span><br><span class=\"line\">Â  Â  &#125;</span><br><span class=\"line\">Â  Â  return 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<hr>\n<p>æœ¬æ–‡æœ€æ—©å‘å¸ƒäºé•¿è™¹è½¯æœå…¬ä¼—å·ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å»çœ‹ä¸€ä¸‹ï¼š<br>\n<a href=\"http://mp.weixin.qq.com/s?__biz=MzAwMjkxNjYzNA==&amp;mid=2247483852&amp;idx=1&amp;sn=9da01b2399427654ad12e36452f612c9&amp;scene=23&amp;srcid=0822iBXKqaGYwMOnRhVLxNVt#rd\" target=\"_blank\" rel=\"noopener\">å‰–æã€OCã€‘ä¸­æ·±å¤åˆ¶ä¸æµ…å¤åˆ¶</a></p>"}],"PostAsset":[],"PostCategory":[{"post_id":"cjscxlphr0006hqoxb6yegl0k","category_id":"cjscxlphn0003hqox3ejahvub","_id":"cjscxlpi8000vhqox6gg8flh6"},{"post_id":"cjscxlphr0006hqoxb6yegl0k","category_id":"cjscxlpi3000khqoxzah5ixey","_id":"cjscxlpi9000xhqoxe73joqrf"},{"post_id":"cjscxlpi5000phqoxwkiq3mw5","category_id":"cjscxlphn0003hqox3ejahvub","_id":"cjscxlpi90010hqoxmdr7ajvc"},{"post_id":"cjscxlpi5000phqoxwkiq3mw5","category_id":"cjscxlpi3000khqoxzah5ixey","_id":"cjscxlpia0012hqox6hxhz0tr"},{"post_id":"cjscxlpi7000shqox6ie5awa3","category_id":"cjscxlphn0003hqox3ejahvub","_id":"cjscxlpia0015hqoxkou9ksap"},{"post_id":"cjscxlpi7000shqox6ie5awa3","category_id":"cjscxlpi3000khqoxzah5ixey","_id":"cjscxlpib0017hqox6tv1vq1j"},{"post_id":"cjscxlphf0000hqoxx558ulqv","category_id":"cjscxlphn0003hqox3ejahvub","_id":"cjscxlpib0019hqoxydxz1teb"},{"post_id":"cjscxlphf0000hqoxx558ulqv","category_id":"cjscxlpi3000khqoxzah5ixey","_id":"cjscxlpib001ahqoxugc5tj8a"},{"post_id":"cjscxlphs0007hqoxehu7z483","category_id":"cjscxlphn0003hqox3ejahvub","_id":"cjscxlpic001chqoxtolxgkmj"},{"post_id":"cjscxlphs0007hqoxehu7z483","category_id":"cjscxlpi3000khqoxzah5ixey","_id":"cjscxlpic001dhqoxukg2iq9l"},{"post_id":"cjscxlphv000bhqoxttz3v2i3","category_id":"cjscxlphn0003hqox3ejahvub","_id":"cjscxlpid001fhqoxcp2ougve"},{"post_id":"cjscxlphv000bhqoxttz3v2i3","category_id":"cjscxlpi3000khqoxzah5ixey","_id":"cjscxlpid001ghqoxhbrozurb"},{"post_id":"cjscxlphl0002hqox48njsinf","category_id":"cjscxlphn0003hqox3ejahvub","_id":"cjscxlpid001hhqoxa6c0uaos"},{"post_id":"cjscxlphl0002hqox48njsinf","category_id":"cjscxlpi3000khqoxzah5ixey","_id":"cjscxlpie001jhqox4vyrez2b"},{"post_id":"cjscxlphx000dhqoxtz0lrvyo","category_id":"cjscxlphn0003hqox3ejahvub","_id":"cjscxlpie001khqoxbwpzlscj"},{"post_id":"cjscxlphx000dhqoxtz0lrvyo","category_id":"cjscxlpi3000khqoxzah5ixey","_id":"cjscxlpie001mhqoxe46q604k"},{"post_id":"cjscxlphz000hhqoxyyxcynj4","category_id":"cjscxlphn0003hqox3ejahvub","_id":"cjscxlpif001nhqoxnq0olkv3"},{"post_id":"cjscxlphz000hhqoxyyxcynj4","category_id":"cjscxlpi3000khqoxzah5ixey","_id":"cjscxlpif001ohqox1lx3zb2l"},{"post_id":"cjscxlphp0005hqoxmkatvc7o","category_id":"cjscxlphn0003hqox3ejahvub","_id":"cjscxlpif001phqox09oqjg5g"},{"post_id":"cjscxlphp0005hqoxmkatvc7o","category_id":"cjscxlpic001ehqoxk3de39t5","_id":"cjscxlpif001qhqox6akrngg6"},{"post_id":"cjscxlpi1000jhqoxdphuz7q2","category_id":"cjscxlphn0003hqox3ejahvub","_id":"cjscxlpif001rhqoxc34lwhc7"},{"post_id":"cjscxlpi1000jhqoxdphuz7q2","category_id":"cjscxlpic001ehqoxk3de39t5","_id":"cjscxlpig001shqoxzd8vwad1"},{"post_id":"cjscxlpi4000nhqox57dt4tqj","category_id":"cjscxlphn0003hqox3ejahvub","_id":"cjscxlpig001thqoxtl9zc4tb"},{"post_id":"cjscxlpi4000nhqox57dt4tqj","category_id":"cjscxlpic001ehqoxk3de39t5","_id":"cjscxlpig001uhqoxfj9hs87z"},{"post_id":"cjscxlpj50020hqox8tlqitdz","category_id":"cjscxlpj2001xhqoxyp595jub","_id":"cjscxlpja002chqoxwre0sccn"},{"post_id":"cjscxlpj50020hqox8tlqitdz","category_id":"cjscxlpj90026hqoxn101j8yx","_id":"cjscxlpjb002fhqox9f48doss"},{"post_id":"cjscxlpiz001vhqoxwlhp7msq","category_id":"cjscxlpj2001xhqoxyp595jub","_id":"cjscxlpjb002hhqox2azo9d11"},{"post_id":"cjscxlpiz001vhqoxwlhp7msq","category_id":"cjscxlpj90026hqoxn101j8yx","_id":"cjscxlpjc002jhqoxkut65fq0"},{"post_id":"cjscxlpj1001whqoxzbvx3vqu","category_id":"cjscxlpj2001xhqoxyp595jub","_id":"cjscxlpjc002lhqoxwhg3bpge"},{"post_id":"cjscxlpj1001whqoxzbvx3vqu","category_id":"cjscxlpja002bhqox7nwust5u","_id":"cjscxlpjc002mhqoxwsucemlo"},{"post_id":"cjscxlpj3001zhqoxlrujnuvf","category_id":"cjscxlpj2001xhqoxyp595jub","_id":"cjscxlpjd002phqox33zqcvl4"},{"post_id":"cjscxlpj3001zhqoxlrujnuvf","category_id":"cjscxlpjc002ihqoxyc8luzxp","_id":"cjscxlpjd002rhqoxdz42gox2"},{"post_id":"cjscxlpjh002vhqoxpdgexiir","category_id":"cjscxlpj2001xhqoxyp595jub","_id":"cjscxlpjk002xhqoxwbm1e653"},{"post_id":"cjscxlpjh002vhqoxpdgexiir","category_id":"cjscxlpja002bhqox7nwust5u","_id":"cjscxlpjk002yhqoxrdejekrh"}],"PostTag":[{"post_id":"cjscxlphr0006hqoxb6yegl0k","tag_id":"cjscxlphp0004hqoxjlg8mqa7","_id":"cjscxlphv000ahqoxutsp28fg"},{"post_id":"cjscxlphf0000hqoxx558ulqv","tag_id":"cjscxlphp0004hqoxjlg8mqa7","_id":"cjscxlphx000chqoxgktuhagz"},{"post_id":"cjscxlphs0007hqoxehu7z483","tag_id":"cjscxlphp0004hqoxjlg8mqa7","_id":"cjscxlphz000ghqoxjz7u52yi"},{"post_id":"cjscxlphl0002hqox48njsinf","tag_id":"cjscxlphp0004hqoxjlg8mqa7","_id":"cjscxlpi1000ihqox5r2gynqu"},{"post_id":"cjscxlphx000dhqoxtz0lrvyo","tag_id":"cjscxlphp0004hqoxjlg8mqa7","_id":"cjscxlpi4000mhqox3i7h01hi"},{"post_id":"cjscxlphz000hhqoxyyxcynj4","tag_id":"cjscxlphp0004hqoxjlg8mqa7","_id":"cjscxlpi5000ohqox4jo21467"},{"post_id":"cjscxlphp0005hqoxmkatvc7o","tag_id":"cjscxlphy000fhqoxhd7fuqf8","_id":"cjscxlpi6000rhqoxvybjtejh"},{"post_id":"cjscxlpi1000jhqoxdphuz7q2","tag_id":"cjscxlphy000fhqoxhd7fuqf8","_id":"cjscxlpi8000thqoxr4rtk3wd"},{"post_id":"cjscxlpi4000nhqox57dt4tqj","tag_id":"cjscxlphy000fhqoxhd7fuqf8","_id":"cjscxlpi9000whqox8b5wmu9p"},{"post_id":"cjscxlphv000bhqoxttz3v2i3","tag_id":"cjscxlphp0004hqoxjlg8mqa7","_id":"cjscxlpi9000yhqoxwqbkcj01"},{"post_id":"cjscxlphv000bhqoxttz3v2i3","tag_id":"cjscxlpi3000lhqoxqmjasq8d","_id":"cjscxlpia0011hqox3y7qfvqd"},{"post_id":"cjscxlpi5000phqoxwkiq3mw5","tag_id":"cjscxlphp0004hqoxjlg8mqa7","_id":"cjscxlpia0013hqox1yqnnlby"},{"post_id":"cjscxlpi7000shqox6ie5awa3","tag_id":"cjscxlphp0004hqoxjlg8mqa7","_id":"cjscxlpia0016hqox7y9c5oez"},{"post_id":"cjscxlpiz001vhqoxwlhp7msq","tag_id":"cjscxlpj3001yhqoxhby33jbs","_id":"cjscxlpj80023hqox4etw1b58"},{"post_id":"cjscxlpj1001whqoxzbvx3vqu","tag_id":"cjscxlpj70022hqoxlllbr5ta","_id":"cjscxlpja002ahqox428thoov"},{"post_id":"cjscxlpj1001whqoxzbvx3vqu","tag_id":"cjscxlpj90025hqoxr5bah41f","_id":"cjscxlpjb002dhqox7bgsfs6t"},{"post_id":"cjscxlpj1001whqoxzbvx3vqu","tag_id":"cjscxlpj90027hqoxvo4u1s52","_id":"cjscxlpjb002ghqox2oz1n694"},{"post_id":"cjscxlpj3001zhqoxlrujnuvf","tag_id":"cjscxlpja0029hqoxyiblpyfv","_id":"cjscxlpjd002ohqoxm3z38qv0"},{"post_id":"cjscxlpj3001zhqoxlrujnuvf","tag_id":"cjscxlpjb002ehqox18la0vls","_id":"cjscxlpjd002qhqoxadgg1ieh"},{"post_id":"cjscxlpj3001zhqoxlrujnuvf","tag_id":"cjscxlpjc002khqoxgcyt1tlb","_id":"cjscxlpjd002shqoxn0b869u1"},{"post_id":"cjscxlpj50020hqox8tlqitdz","tag_id":"cjscxlpj3001yhqoxhby33jbs","_id":"cjscxlpjd002thqox1gwn73pv"},{"post_id":"cjscxlpj50020hqox8tlqitdz","tag_id":"cjscxlpjc002nhqoxoaduzk0b","_id":"cjscxlpjd002uhqox87rqsuj1"},{"post_id":"cjscxlpjh002vhqoxpdgexiir","tag_id":"cjscxlpj70022hqoxlllbr5ta","_id":"cjscxlpjj002whqoxprjqxrx8"}],"Tag":[{"name":"å°ç†ŠçŒ«","_id":"cjscxlphp0004hqoxjlg8mqa7"},{"name":"æ‹›è´¢","_id":"cjscxlphy000fhqoxhd7fuqf8"},{"name":"æ–°ç”Ÿ","_id":"cjscxlpi3000lhqoxqmjasq8d"},{"name":"ç®—æ³•","_id":"cjscxlpj3001yhqoxhby33jbs"},{"name":"ç§»åŠ¨ç«¯","_id":"cjscxlpj70022hqoxlllbr5ta"},{"name":"æœºå™¨å­¦ä¹ ","_id":"cjscxlpj90025hqoxr5bah41f"},{"name":"tensorflow","_id":"cjscxlpj90027hqoxvo4u1s52"},{"name":"å°ç¨‹åº","_id":"cjscxlpja0029hqoxyiblpyfv"},{"name":"html","_id":"cjscxlpjb002ehqox18la0vls"},{"name":"å‰ç«¯","_id":"cjscxlpjc002khqoxgcyt1tlb"},{"name":"GCJ","_id":"cjscxlpjc002nhqoxoaduzk0b"}]}}